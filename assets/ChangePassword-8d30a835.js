import{r as m,a as g,e as c,o as i,f as v,g as s,t as a,B as y,y as S,h as t,w as $,F as C,j as p}from"./index-501cd1c4.js";import{u as A}from"./FormSchemaStore-f2d56775.js";import{U as F}from"./UserService-c8beca3d.js";const N={class:"fw-bold py-3 mb-4"},B={class:"col-xl-6 offset-xl-3 col-lg-12"},k={class:"row mb-4"},E={for:"currentPasswordLabel",class:"col-sm-3 col-form-label form-label"},I={class:"col-sm-9"},V={class:"row mb-4"},j={for:"newPassword",class:"col-sm-3 col-form-label form-label"},x={class:"col-sm-9"},L={class:"row mb-4"},M={for:"confirmNewPasswordLabel",class:"col-sm-3 col-form-label form-label"},U={class:"col-sm-9"},D={class:"mb-3"},q={class:"d-flex justify-content-end"},z={type:"submit",class:"btn btn-primary"},O={__name:"ChangePassword",setup(G){const u=F.getInstance(),{changePasswordFormSchema:w}=A(),r=m(""),l=m(!1),{handleSubmit:h,resetForm:_}=g({validationSchema:w}),d=h(e=>{u.changePassword(e.currentPassword,e.newPassword,e.confirmNewPassword).then(o=>{l.value=!0,r.value=o?.data,_({})}).catch(function(o){l.value=o.response?.status===200,r.value=o.message})});return(e,o)=>{const f=c("AppMessage"),n=c("AppInput"),b=c("AppCard");return i(),v(C,null,[s("h4",N,a(e.$t("text.changePassword")),1),r.value?(i(),y(f,{key:0,message:r.value,success:l.value},null,8,["message","success"])):S("",!0),s("div",B,[t(b,null,{body:$(()=>[s("form",{onSubmit:o[0]||(o[0]=(...P)=>p(d)&&p(d)(...P))},[s("div",k,[s("label",E,a(e.$t("text.currentPassword")),1),s("div",I,[t(n,{type:"password",name:"currentPassword",placeholder:e.$t("placeholder.currentPassword"),"aria-label":"Enter current password","show-error-message":!0},null,8,["placeholder"])])]),s("div",V,[s("label",j,a(e.$t("text.newPassword")),1),s("div",x,[t(n,{type:"password",name:"newPassword",placeholder:e.$t("placeholder.newPassword"),"aria-label":"Enter new password","show-error-message":!0},null,8,["placeholder"])])]),s("div",L,[s("label",M,a(e.$t("text.confirmPassword")),1),s("div",U,[s("div",D,[t(n,{type:"password",name:"confirmNewPassword",placeholder:e.$t("placeholder.confirmPassword"),"aria-label":"Confirm your new password","show-error-message":!0},null,8,["placeholder"])])])]),s("div",q,[s("button",z,a(e.$t("button.update")),1)])],32)]),_:1})])],64)}}};export{O as default};
