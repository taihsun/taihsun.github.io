import{o as m,f as v,g as e,t as F,T as Ke,R as K,e as d,B as I,i as c,h as t,r as X,F as U,s as V,U as ae,k as p,V as N,j as x,v as $,z as P,W as Ye,x as C,J as Qe,c as le,X as me,Y as de,Z as Q,p as se,$ as Ve,a0 as Se,m as ge,a1 as ve,n as Ge,l as We,a2 as Xe,a3 as fe}from"./index-e1983c57.js";import{a as B,d as H,b as M,c as w,e as xe,f as ce}from"./index.esm-6a6e6be2.js";import{O as ie}from"./Option-3450003d.js";const J="填寫內容必須為數字",_=B().required(),pe=H().required().typeError(J),ke=B().email().required(),$e=M().of(w().shape({itemName:_,plate:_})),Z=M().of(_).required().min(1),Ae=(n,a)=>a!==void 0&&a.includes(n),j=(n,a)=>B().when(n,{is:o=>o==null?void 0:o.includes(a),then:o=>o.required()}),L=(n,a,o)=>w().when(n,{is:l=>Ae(a,l),then:l=>l.concat(o)}),Ze=(n,a,o)=>w().when(n,{is:l=>l===a,then:l=>l.concat(o)}),Je=n=>n.name.split(".").pop().toLowerCase()==="pdf",re=n=>n!==void 0&&n.includes("radiology"),et=n=>n!==void 0&&n.includes("pathology"),oe=M().of(w().shape({amount:H().when("item",{is:n=>n!==void 0&&n!=="",then:n=>n.concat(pe)}),otherItem:j("item","other")})).when((n,a)=>(n[0].filter(s=>s.item!==void 0).length===0?a.innerType.fields.item=B().required():delete a.innerType.fields.item,a)),tt=w().shape({animalSpecies:_,animalSpeciesOther:j("animalSpecies","other"),specimen:oe,deliveryStatus:_}),nt=w().shape({animalSpecies:_,animalSpeciesOther:j("animalSpecies","other"),specimen:oe,deliveryStatus:_,testItems:M().of(w().shape({amount:H().when("item",{is:n=>n!==void 0&&n!=="",then:n=>n.concat(pe.min(1))})})).when((n,a)=>(n[0].filter(s=>s.item!==void 0).length===0?a.innerType.fields.item=B().required():delete a.innerType.fields.item,a))}),at=w().shape({animalSpecies:_,animalSpeciesOther:j("animalSpecies","other"),deliveryStatus:_,noOfSpecies:_}),ot=w().shape({animalSpecies:_,animalSpeciesOther:j("animalSpecies","other"),specimen:oe,deliveryStatus:_,testItems:$e}),it=w().shape({animalSpecies:_,animalSpeciesOther:j("animalSpecies","other"),specimen:oe,deliveryStatus:_,testItems:$e}),lt=w().shape({animalSpecies:_,animalSpeciesOther:j("animalSpecies","other"),specimen:oe,deliveryStatus:_,testItems:M().of(w().shape({method:_,drug:_,amount:pe}))}),Ce=w().shape({inspectionItems:Z,cbc:L("inspectionItems","cbc",tt),bloodChemistry:L("inspectionItems","bloodChemistry",nt),urineAssay:L("inspectionItems","urineAssay",at),luminex:L("inspectionItems","luminex",it),elisa:L("inspectionItems","elisa",ot),plateletAggregation:L("inspectionItems","plateletAggregation",lt)}),Te=w().shape({fixativeTime:B().required(),organs:M().required().min(1)}),Ie=w().shape({animalSpecies:Z,animalSpeciesOther:j("animalSpecies","other"),organs:M().required().min(1)}),we=w().shape({species:_,strain:_,age:_,gender:_,specimenDescription:_,terms:_}),st=w().shape({contact:_,contactTel:_,contactEmail:ke,scheduledDeliveryDate:xe().required(),experimentType:Z,sampleNumber:H().typeError(J).when("experimentType",{is:n=>re(n),then:n=>n.required()}),sampleId:B().when("experimentType",{is:n=>re(n),then:n=>n.required()}),sampleType:B().when("experimentType",{is:n=>re(n),then:n=>n.required()}),otherSampleTypeInput:B().when("sampleType",{is:"other",then:n=>n.required()}),pathologicalExpType:M().when("experimentType",{is:n=>et(n),then:n=>n.of(_).required().min(1)}),blood:L("pathologicalExpType","Blood",Ce),tissueSection:L("pathologicalExpType","TissueSection",Te),slideScanning:L("pathologicalExpType","SlideScanning",Ie),histopathology:L("pathologicalExpType","Histopathology",we)}),Oe=w().shape({organ:Z,otherOrganInput:B().when("organ",{is:n=>n!==void 0&&n.includes("Other"),then:n=>n.required()})}),ct=w().shape({staining:Z,otherStainingInput:B().when("staining",{is:n=>n!==void 0&&n.includes("other"),then:n=>n.required()}),slideScanning:Z,primaryAntibody:B().test("primaryAntibody","Primary Antibody is required when Primary Antibody Species is filled.",function(n){const{primaryAntibodySpecies:a}=this.parent;return!(a!==void 0&&a.length!==0&&!n)}),primaryAntibodySpecies:M().test("primaryAntibodySpecies","Primary Antibody Species is required when Primary Antibody is filled.",function(n){const{primaryAntibody:a}=this.parent;return!(a!==void 0&&a!==""&&(!n||n.length===0))}),otherPrimaryAntibodySpeciesInput:B().when("primaryAntibodySpecies",{is:n=>n!==void 0&&n.includes("other"),then:n=>n.required()}),secondaryAntibody:B().test("secondaryAntibody","Secondary Antibody is required when Primary Antibody is filled.",function(n){const{secondaryAntibodySpecies:a}=this.parent;return!(a!==void 0&&a.length!==0&&!n)}),secondaryAntibodySpecies:M().test("secondaryAntibodySpecies","Secondary Antibody Species is required when Secondary Antibody is filled.",function(n){const{secondaryAntibody:a}=this.parent;return!(a!==void 0&&a!==""&&(!n||n.length===0))}),otherSecondaryAntibodySpeciesInput:B().when("secondaryAntibodySpecies",{is:n=>n!==void 0&&n.includes("other"),then:n=>n.required()})}).concat(Oe),rt=w().shape({description:_,euthanasia:_,organStudy:Z,otherOrganStudy:B().when("organStudy",{is:n=>Ae("other",n),then:n=>n.concat(_)}),terms:_}),mt=w().shape({animalType:_,strain:_,ratOtherStrain:j("strain","ratOther"),miceStrainOther:B().when("strain",{is:"miceOther",then:n=>n.required()}),special:B().when("strain",{is:"ratOther",then:n=>n.required()}),specialExplain:B().when("special",{is:"Y",then:n=>n.required()}),age:_,animalArrivalDate:_,animalArrivalTime:_,maleQty:H().typeError(J),femaleQty:H().typeError(J),sendingCagesQty:H().required().typeError(J),expCage:H().required().typeError(J),mouseSource:_,iacucNo:_,iacucDate:xe().required(),iacucEmail:ke,iacucProtocal:ce().test("iacucProtocal","required",function(n){return n!==void 0&&n.size!==void 0&&n.size!==0&&Je(n)}),foodType:_,foodTypeOtherCustom:j("foodType","other"),waterType:_,waterTypeOther:j("waterType","other"),animalNo:_,alone:_,pathologicalExp:_,identificationMethod:_,pathologicalExpType:M().when("pathologicalExp",{is:"Y",then:n=>n.concat(Z)}),blood:L("pathologicalExpType","Blood",Ce),tissueSection:L("pathologicalExpType","TissueSection",Te),slideScanning:L("pathologicalExpType","SlideScanning",Ie),histopathology:L("pathologicalExpType","Histopathology",we),necropsy:Ze("necropsyApplication","Y",rt)}).when((n,a)=>{const o={};return!n[0].maleQty&&!n[0].femaleQty?(o.maleQty=H().required(),o.femaleQty=H().required()):(o.maleQty=H(),o.femaleQty=H()),n[0].identificationMethod==="Y"?o.imf=ce().test("imf","required",function(l){return l!==void 0&&l.size!==void 0&&l.size!==0}):o.identificationMethodFile=ce(),a.shape(o)}),dt={for:"contentLr",class:"col-sm-3 col-form-label"},pt={class:"col-8",id:"contentLr"},b=Object.assign({inheritAttrs:!1},{__name:"LayoutRow",props:{label:{type:String}},setup(n){return(a,o)=>(m(),v("div",K({class:"row form-group"},a.$attrs),[e("label",dt,F(n.label),1),e("div",pt,[Ke(a.$slots,"content")])],16))}}),ee=Object.assign({inheritAttrs:!1},{__name:"LayoutRowAnimalSpecies",props:{name:{type:String,required:!0}},setup(n){const a=n;return(o,l)=>{const s=d("AppRadio"),u=d("AppRadioInput");return m(),I(b,{label:"Animal Species :"},{content:c(()=>[t(s,{id:a.name+"Mouse",name:a.name,"checked-value":"mouse",label:"Mouse"},null,8,["id","name"]),t(s,{id:a.name+"Rat",name:a.name,"checked-value":"rat",label:"Rat"},null,8,["id","name"]),t(u,{label:"Other",id:a.name+"Other","radio-name":a.name,"checked-value":"other","input-name":`${a.name}Other`},null,8,["id","radio-name","input-name"])]),_:1})}}}),ut=e("h6",null,"Complete Blood Count",-1),ht=Object.assign({inheritAttrs:!1},{__name:"PanelCompleteBloodCount",props:{prefix:{type:String,default:""}},setup(n){return(a,o)=>{const l=d("AppCheckboxInput"),s=d("AppCheckboxTwoInput"),u=d("AppRadio");return m(),v("div",K(a.$attrs,{class:"p-2"}),[ut,t(ee,{name:`${n.prefix}.cbc.animalSpecies`},null,8,["name"]),t(b,{label:"Specimen"},{content:c(()=>[t(l,{"checkbox-name":`${n.prefix}.cbc.specimen[0].item`,id:"cbcWholeBlood",label:"Whole blood","checked-value":"wholeBlood","input-name":`${n.prefix}.cbc.specimen[0].amount`,"input-type":"number","input-min":0},null,8,["checkbox-name","input-name"]),t(s,{"checkbox-name":`${n.prefix}.cbc.specimen[1].item`,id:"cbcOtherSpecimen",label:"Other","checked-value":"otherSpecimen","first-input-name":`${n.prefix}.cbc.specimen[1].otherItem`,"second-input-name":`${n.prefix}.cbc.specimen[1].amount`,"second-input-type":"number"},null,8,["checkbox-name","first-input-name","second-input-name"])]),_:1}),t(b,{label:"Delivery status:"},{content:c(()=>[t(u,{id:"cbcRoomTemperature",name:`${n.prefix}.cbc.deliveryStatus`,label:"Room Temperature","checked-value":"roomTemperature"},null,8,["name"]),t(u,{id:"cbcIceBath",name:`${n.prefix}.cbc.deliveryStatus`,label:"Ice Bath","checked-value":"iceBath"},null,8,["name"]),t(u,{id:"cbcTMC",name:`${n.prefix}.cbc.deliveryStatus`,label:"TMC was authorized to collect","checked-value":"twatc"},null,8,["name"])]),_:1})],16)}}}),bt=e("h6",null,"Blood chemistry",-1),_t={class:"row"},yt=Object.assign({inheritAttrs:!1},{__name:"PanelBloodChemistry",props:{prefix:{type:String,default:""}},setup(n){const a=X([{name:"TCHO",value:"tcho"},{name:"TG",value:"tg"},{name:"HDL-C",value:"hdlc"},{name:"ALB",value:"alb"},{name:"LDL",value:"ldl"},{name:"GLU",value:"glu"},{name:"AST(GOT)",value:"ast"},{name:"ALT(GPT)",value:"alt"},{name:"ALP",value:"alp"},{name:"TBIL",value:"tbil"},{name:"TP",value:"tp"},{name:"AMY(AMYL)",value:"amy"},{name:"CRE",value:"cre"},{name:"LDH",value:"ldh"},{name:"BUN",value:"bun"},{name:"UA",value:"ua"},{name:"CA",value:"ca"},{name:"CK (CPK)",value:"ck"},{name:"MG",value:"mg"},{name:"LPS",value:"lps"},{name:"P(IP)",value:"ip"},{name:"CKMB",value:"ckmb"},{name:"CRP",value:"crp"},{name:"NH3-W",value:"nh3w"},{name:"Na-K-Cl",value:"nakcl"}]);return(o,l)=>{const s=d("AppCheckboxInput"),u=d("AppCheckboxTwoInput"),i=d("AppRadio");return m(),v("div",K(o.$attrs,{class:"p-2"}),[bt,t(ee,{name:`${n.prefix}.bloodChemistry.animalSpecies`},null,8,["name"]),t(b,{label:"Specimen:"},{content:c(()=>[t(s,{id:"bloodChemistrySerum","checkbox-name":`${n.prefix}.bloodChemistry.specimen[0].item`,"checked-value":"serum",label:"Serum","input-name":`${n.prefix}.bloodChemistry.specimen[0].amount`,"input-type":"number","input-min":0},null,8,["checkbox-name","input-name"]),t(s,{id:"bloodChemistryPlasma","checkbox-name":`${n.prefix}.bloodChemistry.specimen[1].item`,"checked-value":"plasma",label:"Plasma","input-name":`${n.prefix}.bloodChemistry.specimen[1].amount`,"input-type":"number","input-min":0},null,8,["checkbox-name","input-name"]),t(u,{id:"bloodChemistryOther","checkbox-name":`${n.prefix}.bloodChemistry.specimen[2].item`,"checked-value":"other",label:"Other","first-input-name":`${n.prefix}.bloodChemistry.specimen[2].otherItem`,"second-input-name":`${n.prefix}.bloodChemistry.specimen[2].amount`,"second-input-type":"number"},null,8,["checkbox-name","first-input-name","second-input-name"])]),_:1}),t(b,{label:"Delivery status:"},{content:c(()=>[t(i,{id:"bloodChemistryRoomTemperature",name:`${n.prefix}.bloodChemistry.deliveryStatus`,"checked-value":"roomTemperature",label:"Room Temperature"},null,8,["name"]),t(i,{id:"bloodChemistryIceBath",name:`${n.prefix}.bloodChemistry.deliveryStatus`,"checked-value":"iceBath",label:"Ice Bath"},null,8,["name"]),t(i,{id:"bloodChemistryDryIceBath",name:`${n.prefix}.bloodChemistry.deliveryStatus`,"checked-value":"dryIceBath",label:"Dry Ice Bath"},null,8,["name"]),t(i,{id:"bloodChemistryTMC",name:`${n.prefix}.bloodChemistry.deliveryStatus`,"checked-value":"twatc",label:"TMC was authorized to collect"},null,8,["name"])]),_:1}),t(b,{label:"檢測項目"},{content:c(()=>[e("div",_t,[(m(!0),v(U,null,V(a.value,(h,k)=>(m(),v("div",{class:"col-4",key:h.value},[t(s,{class:"m-1",id:`bloodChemistry${h.value}`,"checkbox-name":`${n.prefix}.bloodChemistry.testItems[${k}].item`,"checked-value":h.value,label:h.name,"input-name":`${n.prefix}.bloodChemistry.testItems[${k}].amount`,"input-type":"number","input-min":0},null,8,["id","checkbox-name","checked-value","label","input-name"])]))),128))])]),_:1})],16)}}}),gt=e("h6",null,"Urine Assay",-1),vt=Object.assign({inheritAttrs:!1},{__name:"PanelUrineAssay",props:{prefix:{type:String,default:""}},setup(n){return(a,o)=>{const l=d("AppRadio"),s=d("AppInput");return m(),v("div",K(a.$attrs,{class:"p-2"}),[gt,t(ee,{name:`${n.prefix}.urineAssay.animalSpecies`},null,8,["name"]),t(b,{label:"Delivery status:"},{content:c(()=>[t(l,{id:"urineAssayRoomTemperature",label:"Room Temperature",name:`${n.prefix}.urineAssay.deliveryStatus`,"checked-value":"roomTemperature"},null,8,["name"]),t(l,{id:"urineAssayIceBath",name:`${n.prefix}.urineAssay.deliveryStatus`,label:"Ice Bath","checked-value":"iceBath"},null,8,["name"]),t(l,{id:"urineAssayDryIceBath",name:`${n.prefix}.urineAssay.deliveryStatus`,label:"Dry Ice Bath","checked-value":"dryIceBath"},null,8,["name"]),t(l,{id:"urineAssayTMC",name:`${n.prefix}.urineAssay.deliveryStatus`,label:"TMC was authorized to collect","checked-value":"twatc"},null,8,["name"])]),_:1}),t(b,{label:"Number of Species:"},{content:c(()=>[t(s,{name:`${n.prefix}.urineAssay.noOfSpecies`},null,8,["name"])]),_:1})],16)}}}),ft=e("h6",null,"ELISA",-1),St={class:"input-group"},xt=["onClick"],kt=e("i",{class:"bi bi-dash"},null,-1),$t=[kt],At=e("i",{class:"bi bi-plus"},null,-1),Ct=[At],Tt=e("i",{class:"bi bi-plus"},null,-1),It=[Tt],wt=Object.assign({inheritAttrs:!1},{__name:"PanelElisa",props:{prefix:{type:String,default:""}},setup(n){const a={itemName:"",plate:""},{remove:o,push:l,fields:s}=ae("elisa.testItems"),u=i=>i===s.value.length-1;return(i,h)=>{const k=d("AppCheckboxInput"),y=d("AppCheckboxTwoInput"),g=d("AppRadio"),r=d("AppInput");return m(),v("div",K(i.$attrs,{class:"p-2"}),[ft,t(ee,{name:`${n.prefix}.elisa.animalSpecies`},null,8,["name"]),t(b,{label:"Specimen:"},{content:c(()=>[t(k,{id:"elisaSerum","checkbox-name":`${n.prefix}.elisa.specimen[0].item`,"checked-value":"serum",label:"Serum","input-name":`${n.prefix}.elisa.specimen[0].amount`,"input-type":"number","input-min":0},null,8,["checkbox-name","input-name"]),t(k,{id:"elisaPlasma","checkbox-name":`${n.prefix}.elisa.specimen[1].item`,"checked-value":"plasma",label:"Plasma","input-name":`${n.prefix}.elisa.specimen[1].amount`,"input-type":"number","input-min":0},null,8,["checkbox-name","input-name"]),t(y,{id:"elisaOther","checkbox-name":`${n.prefix}.elisa.specimen[2].item`,"checked-value":"other",label:"Other","first-input-name":`${n.prefix}.elisa.specimen[2].otherItem`,"second-input-name":`${n.prefix}.elisa.specimen[2].amount`,"second-input-type":"number"},null,8,["checkbox-name","first-input-name","second-input-name"])]),_:1}),t(b,{label:"Delivery status:"},{content:c(()=>[t(g,{id:"elisaRoomTemperature",name:`${n.prefix}.elisa.deliveryStatus`,"checked-value":"roomTemperature",label:"Room Temperature"},null,8,["name"]),t(g,{id:"elisaIceBath",name:`${n.prefix}.elisa.deliveryStatus`,"checked-value":"iceBath",label:"Ice Bath"},null,8,["name"]),t(g,{id:"elisaDryIceBath",name:`${n.prefix}.elisa.deliveryStatus`,"checked-value":"dryIceBath",label:"Dry Ice Bath"},null,8,["name"]),t(g,{id:"elisaTMC",name:`${n.prefix}.elisa.deliveryStatus`,label:"TMC was authorized to collect","checked-value":"twatc"},null,8,["name"])]),_:1}),t(b,{label:"檢測項目"},{content:c(()=>[(m(!0),v(U,null,V(p(s),(S,f)=>(m(),v("div",{key:S.key},[e("div",St,[t(r,{name:`${n.prefix}.elisa.testItems[${f}].itemName`,placeholder:"項目名稱"},null,8,["name"]),t(r,{name:`${n.prefix}.elisa.testItems[${f}].plate`,type:"number",min:"0",placeholder:"plate"},null,8,["name"]),e("button",{onClick:N(A=>p(o)(f),["prevent"]),class:"btn btn-danger"},$t,8,xt),x(e("button",{onClick:h[0]||(h[0]=N(A=>p(l)(a),["prevent"])),class:"btn btn-success"},Ct,512),[[$,u(f)]])])]))),128)),x(e("button",{onClick:h[1]||(h[1]=N(S=>p(l)(a),["prevent"])),class:"btn btn-success"},It,512),[[$,p(s).length===0]])]),_:1})],16)}}}),Ot=e("h6",null,"Luminex",-1),Bt={class:"input-group"},Ft=["onClick"],Et=e("i",{class:"bi bi-dash"},null,-1),Rt=[Et],Pt=e("i",{class:"bi bi-plus"},null,-1),Lt=[Pt],Nt=e("i",{class:"bi bi-plus"},null,-1),Dt=[Nt],qt=Object.assign({inheritAttrs:!1},{__name:"PanelLuminex",props:{prefix:{type:String,default:""}},setup(n){const a={itemName:"",plate:""},{remove:o,push:l,fields:s}=ae("luminex.testItems"),u=i=>i===s.value.length-1;return(i,h)=>{const k=d("AppCheckboxInput"),y=d("AppCheckboxTwoInput"),g=d("AppRadio"),r=d("AppInput");return m(),v("div",K(i.$attrs,{class:"p-2"}),[Ot,t(ee,{name:`${n.prefix}.luminex.animalSpecies`},null,8,["name"]),t(b,{label:"Specimen:"},{content:c(()=>[t(k,{id:"luminexSerum","checkbox-name":`${n.prefix}.luminex.specimen[0].item`,"checked-value":"serum",label:"Serum","input-name":`${n.prefix}.luminex.specimen[0].amount`,"input-type":"number","input-min":0},null,8,["checkbox-name","input-name"]),t(k,{id:"luminexPlasma","checkbox-name":`${n.prefix}.luminex.specimen[1].item`,"checked-value":"plasma",label:"Plasma","input-name":`${n.prefix}.luminex.specimen[1].amount`,"input-type":"number","input-min":0},null,8,["checkbox-name","input-name"]),t(y,{id:"luminexOther","checkbox-name":`${n.prefix}.luminex.specimen[2].item`,"checked-value":"other",label:"Other","first-input-name":`${n.prefix}.luminex.specimen[2].otherItem`,"second-input-name":`${n.prefix}.luminex.specimen[2].amount`,"second-input-type":"number"},null,8,["checkbox-name","first-input-name","second-input-name"])]),_:1}),t(b,{label:"Delivery status:"},{content:c(()=>[t(g,{id:"luminexRoomTemperature",name:`${n.prefix}.luminex.deliveryStatus`,"checked-value":"roomTemperature",label:"Room Temperature"},null,8,["name"]),t(g,{id:"luminexIceBath",name:`${n.prefix}.luminex.deliveryStatus`,"checked-value":"iceBath",label:"Ice Bath"},null,8,["name"]),t(g,{id:"luminexDryIceBath",name:`${n.prefix}.luminex.deliveryStatus`,"checked-value":"dryIceBath",label:"Dry Ice Bath"},null,8,["name"]),t(g,{id:"luminexTMC",name:`${n.prefix}.luminex.deliveryStatus`,label:"TMC was authorized to collect","checked-value":"twatc"},null,8,["name"])]),_:1}),t(b,{label:"檢測項目"},{content:c(()=>[(m(!0),v(U,null,V(p(s),(S,f)=>(m(),v("div",{key:S.key},[e("div",Bt,[t(r,{name:`${n.prefix}.luminex.testItems[${f}].itemName`,placeholder:"項目名稱"},null,8,["name"]),t(r,{name:`${n.prefix}.luminex.testItems[${f}].plate`,type:"number",min:"0",placeholder:"plate"},null,8,["name"]),e("button",{onClick:N(A=>p(o)(f),["prevent"]),class:"btn btn-danger"},Rt,8,Ft),x(e("button",{onClick:h[0]||(h[0]=N(A=>p(l)(a),["prevent"])),class:"btn btn-success"},Lt,512),[[$,u(f)]])])]))),128)),x(e("button",{onClick:h[1]||(h[1]=N(S=>p(l)(a),["prevent"])),class:"btn btn-success"},Dt,512),[[$,p(s).length===0]])]),_:1})],16)}}}),zt=e("h6",null,"Platelet Aggresation",-1),Ht={class:"row col-11"},jt={class:"input-group"},Mt=["onClick"],Ut=e("i",{class:"bi bi-dash"},null,-1),Kt=[Ut],Yt=e("i",{class:"bi bi-plus"},null,-1),Qt=[Yt],Vt=e("i",{class:"bi bi-plus"},null,-1),Gt=[Vt],Wt=Object.assign({inheritAttrs:!1},{__name:"PanelPlateletAggregation",props:{prefix:{type:String,default:""}},setup(n){const a=X([new ie("resistance","電阻","電阻"),new ie("optical","光學法","光學法")]),o=X([new ie("adp","ADP","ADP"),new ie("collagen","Collagen","Collagen")]),l={method:"",drug:"",amount:""},{remove:s,push:u,fields:i}=ae("plateletAggregation.testItems"),h=()=>{u(l)},k=y=>y===i.value.length-1&&i.value.length<4;return(y,g)=>{const r=d("AppCheckboxInput"),S=d("AppCheckboxTwoInput"),f=d("AppRadio"),A=d("AppSelect"),q=d("AppInput");return m(),v("div",K(y.$attrs,{class:"p-2"}),[zt,t(ee,{name:`${n.prefix}.plateletAggregation.animalSpecies`},null,8,["name"]),t(b,{label:"Specimen"},{content:c(()=>[t(r,{"checkbox-name":`${n.prefix}.plateletAggregation.specimen[0].item`,id:"plateletAggregationWholeBlood",label:"Whole blood","checked-value":"wholeBlood","input-name":`${n.prefix}.plateletAggregation.specimen[0].amount`,"input-type":"number","input-min":0},null,8,["checkbox-name","input-name"]),t(r,{"checkbox-name":`${n.prefix}.plateletAggregation.specimen[1].item`,id:"plateletAggregationPlasma",label:"Plasma","checked-value":"plasma","input-name":`${n.prefix}.plateletAggregation.specimen[1].amount`,"input-type":"number","input-min":0},null,8,["checkbox-name","input-name"]),t(S,{"checkbox-name":`${n.prefix}.plateletAggregation.specimen[2].item`,id:"plateletAggregationOtherSpecimen",label:"Other","checked-value":"otherSpecimen","first-input-name":`${n.prefix}.plateletAggregation.specimen[2].otherItem`,"second-input-name":`${n.prefix}.plateletAggregation.specimen[2].amount`,"second-input-type":"number"},null,8,["checkbox-name","first-input-name","second-input-name"])]),_:1}),t(b,{label:"Delivery status:"},{content:c(()=>[t(f,{id:"plateletAggregationRoomTemperature",name:`${n.prefix}.plateletAggregation.deliveryStatus`,"checked-value":"roomTemperature",label:"Room Temperature"},null,8,["name"]),t(f,{id:"plateletAggregationTMC",name:`${n.prefix}.plateletAggregation.deliveryStatus`,label:"TMC was authorized to collect","checked-value":"twatc"},null,8,["name"])]),_:1}),t(b,{label:"檢測項目"},{content:c(()=>[(m(!0),v(U,null,V(p(i),(Y,O)=>(m(),v("div",{key:Y.key},[e("div",Ht,[e("div",jt,[t(A,{name:`${n.prefix}.plateletAggregation.testItems[${O}].method`,options:a.value},null,8,["name","options"]),P(" * "),t(A,{name:`${n.prefix}.plateletAggregation.testItems[${O}].drug`,options:o.value},null,8,["name","options"]),P(" * "),t(q,{name:`${n.prefix}.plateletAggregation.testItems[${O}].amount`,type:"number",min:"0",placeholder:"數量"},null,8,["name"]),e("button",{onClick:N(G=>p(s)(O),["prevent"]),class:"btn btn-danger"},Kt,8,Mt),x(e("button",{onClick:g[0]||(g[0]=N(G=>p(u)(l),["prevent"])),class:"btn btn-success"},Qt,512),[[$,k(O)]])])])]))),128)),x(e("button",{onClick:N(h,["prevent"]),class:"btn btn-success"},Gt,512),[[$,p(i).length===0]])]),_:1})],16)}}}),Xt=e("h5",{class:"mb-0"},"填寫血液/血清/尿液/組織均質液/其他體液",-1),Be=Object.assign({inheritAttrs:!1},{__name:"BloodForm",setup(n){const a=Ye("parentValues");return(o,l)=>{const s=d("AppCheckbox"),u=d("AppCard");return m(),I(u,K(o.$attrs,{class:"p-2"}),{header:c(()=>[Xt]),body:c(()=>{var i,h,k,y,g,r,S,f,A,q,Y,O;return[t(b,{label:"檢驗項目"},{content:c(()=>[t(s,{id:"cbc",name:"blood.inspectionItems",label:"Complete Blood Count","checked-value":"cbc"}),t(s,{id:"bloodChemistry",name:"blood.inspectionItems",label:"Blood chemistry","checked-value":"bloodChemistry"}),t(s,{id:"urineAssay",name:"blood.inspectionItems",label:"Urine Assay","checked-value":"urineAssay"}),t(s,{id:"elisa",name:"blood.inspectionItems",label:"ELISA","checked-value":"elisa"}),t(s,{id:"luminex",name:"blood.inspectionItems",label:"Luminex","checked-value":"luminex"}),t(s,{id:"plateletAggregation",name:"blood.inspectionItems",label:"Platelet aggregation","checked-value":"plateletAggregation"})]),_:1}),(h=(i=p(a).blood)==null?void 0:i.inspectionItems)!=null&&h.includes("cbc")?(m(),I(ht,{key:0,class:"my-2 text-bg-light",prefix:"blood"})):C("",!0),(y=(k=p(a).blood)==null?void 0:k.inspectionItems)!=null&&y.includes("bloodChemistry")?(m(),I(yt,{key:1,class:"my-2 text-bg-light",prefix:"blood"})):C("",!0),(r=(g=p(a).blood)==null?void 0:g.inspectionItems)!=null&&r.includes("urineAssay")?(m(),I(vt,{key:2,class:"my-2 text-bg-light",prefix:"blood"})):C("",!0),(f=(S=p(a).blood)==null?void 0:S.inspectionItems)!=null&&f.includes("elisa")?(m(),I(wt,{key:3,class:"my-1 text-bg-light",prefix:"blood"})):C("",!0),(q=(A=p(a).blood)==null?void 0:A.inspectionItems)!=null&&q.includes("luminex")?(m(),I(qt,{key:4,class:"my-2 text-bg-light",prefix:"blood"})):C("",!0),(O=(Y=p(a).blood)==null?void 0:Y.inspectionItems)!=null&&O.includes("plateletAggregation")?(m(),I(Wt,{key:5,class:"my-2 text-bg-light",prefix:"blood"})):C("",!0)]}),_:1},16)}}}),Zt={key:0},Jt={class:"fw-bold"},en={class:"col-4"},tn={class:"col-7"},nn=e("br",null,null,-1),an={class:"col-1"},on=["onClick"],ln=e("i",{class:"bi bi-x-octagon"},null,-1),sn=[ln],Fe=Object.assign({inheritAttrs:!1},{__name:"LayoutSelectedItemList",props:{items:{type:Array,required:!0},title:{type:String}},emits:["remove-item"],setup(n,{emit:a}){const o=n,l=a;return(s,u)=>o.items?(m(),v("div",K({key:0,class:"p-2"},s.$attrs),[n.title?(m(),v("h6",Zt,F(n.title),1)):C("",!0),x(e("span",Jt,"未選擇",512),[[$,!o.items.length]]),(m(!0),v(U,null,V(o.items,i=>(m(),v("div",{class:"row",key:i.main},[e("div",en,[e("span",null,F(i.main),1)]),e("div",tn,[(m(!0),v(U,null,V(i.minors,h=>(m(),v("span",{key:h},[x(e("span",{class:"badge text-bg-info"},F(h),513),[[$,h]]),nn]))),128))]),e("div",an,[e("a",{href:"#",class:"text-danger",onClick:N(h=>l("remove-item",i),["prevent"])},sn,8,on)])]))),128))],16)):C("",!0)}}),cn=["Ear","Lung","Prostate","Spinal cord","Head-nasal passages","Thymus","Urinary bladder","WAT","Brain","Heart","Ovary","BAT","Adrenal gland","Liver","Uterus","Skin","Pituitary gland","Gall bladder","Preputial gland","Long Bone","Eyes","Spleen","Epididymis","Joint","Teeth","Pancreas","Testes","Foot pad","Salivary gland","Kidney","Lymph node","Tumor","Trachea","Stomach","Skeletal muscle","Cell","Thyroid and parathyroid gland","Intestine","Sciatic nerve","Other"],rn={class:"row"},Ee={__name:"Organ",setup(n){const a=Qe();return(o,l)=>{const s=d("AppCheckbox"),u=d("AppCheckboxInput");return m(),v("div",rn,[(m(!0),v(U,null,V(p(cn),i=>(m(),v("div",{class:"col-4",key:i},[i!=="Other"?(m(),I(s,{key:0,id:`${p(a)+i}`,name:"organ",label:i,"checked-value":i},null,8,["id","label","checked-value"])):C("",!0),i==="Other"?(m(),I(u,{key:1,id:`${p(a)+i}`,"checkbox-name":"organ",label:i,"checked-value":i,"input-name":"otherOrganInput"},null,8,["id","label","checked-value"])):C("",!0)]))),128))])}}},mn=e("h6",null,"Organ",-1),dn={class:"input-group mb-3"},pn=e("span",{class:"input-group-text",id:"frozenSectionBlankNum"},"Blank",-1),un={class:"input-group mb-3"},hn=e("span",{class:"input-group-text",id:"paraffinBlankNum"},"Blank",-1),bn={class:"input-group mb-3"},_n=e("span",{class:"input-group-text",id:"heNum"},"HE    ",-1),yn=e("div",{class:"mb-2 d-flex justify-content-between flex-row-reverse mt-2"},[e("button",{type:"submit",class:"btn btn-secondary"},"新增")],-1),gn=Object.assign({inheritAttrs:!1},{__name:"PanelTissueSectionOrgan",emits:["addOrgans"],setup(n,{emit:a}){const o=a,{handleSubmit:l}=le({validationSchema:Oe}),s=l(u=>{o("addOrgans",u)});return(u,i)=>{const h=d("AppCheckbox"),k=d("AppInput"),y=d("LayoutTwoColumn");return m(),v("div",null,[mn,e("form",{onSubmit:i[0]||(i[0]=N((...g)=>p(s)&&p(s)(...g),["prevent"]))},[t(y,null,{main:c(()=>[t(Ee)]),minor:c(()=>[t(b,{label:"Items:"},{content:c(()=>[t(h,{name:"items",id:"tissueTrimming","checked-value":"tissueTrimming",label:"Tissue trimming"}),t(h,{name:"items",id:"decalcification","checked-value":"decalcification",label:"Decalcification"}),t(h,{name:"items",id:"tpae","checked-value":"tpae",label:"Tissue processing and embedding"})]),_:1}),t(b,{label:"Frozen section:"},{content:c(()=>[e("div",dn,[pn,t(k,{id:"frozenSectionBlankNum",name:"frozenSectionBlankNum",type:"number",placeholder:"input number"})])]),_:1}),t(b,{label:"Paraffin:"},{content:c(()=>[e("div",un,[hn,t(k,{id:"paraffinBlankNum",name:"paraffinBlankNum",type:"number",placeholder:"input number"})]),e("div",bn,[_n,t(k,{id:"heNum",name:"heNum",type:"number",placeholder:"input number"})])]),_:1}),yn]),_:1})],32)])}}});class Re{constructor(a,o){this.main=a,this.minors=o}}const vn={class:"accordion",id:"accordionExample"},fn={class:"accordion-item"},Sn=e("h2",{class:"accordion-header",id:"headingOne"},[e("button",{class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"false","aria-controls":"collapseOne"},[e("h5",{class:"mb-0"},"填寫組織切片")])],-1),xn={id:"collapseOne",class:"accordion-collapse collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample"},kn={class:"accordion-body"},$n={class:"row mb-3"},An=e("label",{for:"fixativeTime",class:"col-sm-2 col-form-label red-star"},"Fixative Time",-1),Cn={class:"col-8"},Tn={class:"row mb-3"},In=e("label",{for:"contact",class:"col-sm-2 col-form-label red-star"},"處置方式",-1),wn={class:"col-8 border"},Pe=Object.assign({inheritAttrs:!1},{__name:"TissueSectionForm",setup(n){const{remove:a,push:o}=ae("tissueSection.organs"),l=X([]),s=i=>{a(i),l.value.splice(i,1)},u=i=>{o(i);for(const h of i.organ){const k=`${i.paraffinBlankNum?`Blank(${i.paraffinBlankNum})`:""}${i.heNum?`HE(${i.heNum})`:""}`,y=new Re(`${h!=="Other"?h:i.otherOrganInput}`,[`Items: ${i.items.join(",")}`,`${i.frozenSectionBlankNum?`Frozen section: Blank ${i.frozenSectionBlankNum}`:""}`,`${k?`Paraffin: ${k}`:""}`]);l.value.push(y)}};return(i,h)=>{const k=d("AppInput"),y=d("AppCard");return m(),v("div",me(de(i.$attrs)),[e("div",vn,[e("div",fn,[Sn,e("div",xn,[e("div",kn,[t(y,null,{body:c(()=>[e("div",$n,[An,e("div",Cn,[t(k,{id:"fixativeTime",name:"tissueSection.fixativeTime",type:"datetime-local"})])]),e("div",Tn,[In,e("div",wn,[t(Fe,{class:"my-2",items:l.value,onRemoveItem:s},null,8,["items"])])]),t(gn,{onAddOrgans:u})]),_:1})])])])])],16)}}}),On=e("h6",null,"Organ",-1),Bn={class:"border border-info m-2 p-2"},Fn=e("h6",null,"Immunohistochemistry(IHC)/Immunoflurescence(IF)",-1),En=e("div",{class:"mb-2 d-flex justify-content-between flex-row-reverse mt-2"},[e("button",{type:"submit",class:"btn btn-secondary"},"新增")],-1),Rn=Object.assign({inheritAttrs:!1},{__name:"PanelSlideScanningOrgan",emits:["addOrgans"],setup(n,{emit:a}){const o=a,{handleSubmit:l,values:s,errors:u}=le({validationSchema:ct}),i=l(k=>{o("addOrgans",k)}),h=Q(()=>s.staining!==void 0&&(s.staining.includes("IHC")||s.staining.includes("IF")));return(k,y)=>{const g=d("AppCheckbox"),r=d("AppCheckboxInput"),S=d("AppInput"),f=d("LayoutTwoColumn");return m(),v("div",null,[On,e("form",{onSubmit:y[0]||(y[0]=N((...A)=>p(i)&&p(i)(...A),["prevent"]))},[t(f,null,{main:c(()=>[t(Ee)]),minor:c(()=>[t(b,{label:"Staining:"},{content:c(()=>[t(g,{name:"staining",id:"IHC","checked-value":"IHC",label:"Immunohistochemistry(IHC)"}),t(g,{name:"staining",id:"IF","checked-value":"IF",label:"Immunofluorescence (IF)"}),t(g,{name:"staining",id:"picroSiriusRedStainKit","checked-value":"picroSiriusRedStainKit",label:"Picro-sirius Red Stain Kit (for collagen)"}),t(g,{name:"staining",id:"trichromeStrainKit","checked-value":"trichromeStrainKit",label:"Trichrome Strain Kit(Modified Masson’s)"}),t(g,{name:"staining",id:"oilRedOStainKit","checked-value":"oilRedOStainKit",label:"Oil Red O Stain Kit (for fat /only for frozen tissue section)"}),t(g,{name:"staining",id:"alcianBlueStainKit","checked-value":"alcianBlueStainKit",label:"Alcian Blue Stain Kit (for cartilage)"}),t(r,{id:"otherStaining","checkbox-name":"staining",label:"Other","checked-value":"other","input-name":"otherStainingInput"})]),_:1}),x(e("div",Bn,[Fn,t(b,{label:"Positive Ctrl"},{content:c(()=>[t(S,{id:"positiveCtrl",name:"positiveCtrl"})]),_:1}),t(b,{label:"Negative Ctrl"},{content:c(()=>[t(S,{id:"negativeCtrl",name:"negativeCtrl"})]),_:1}),t(b,{label:"Primary Antibody"},{content:c(()=>[t(S,{id:"primaryAntibody",name:"primaryAntibody"})]),_:1}),t(b,null,{content:c(()=>[t(g,{id:"mousePa",name:"primaryAntibodySpecies",label:"Mouse","checked-value":"mouse"}),t(g,{id:"rabbitPa",name:"primaryAntibodySpecies",label:"Rabbit","checked-value":"rabbit"}),t(g,{id:"humanPa",name:"primaryAntibodySpecies",label:"Human","checked-value":"human"}),t(g,{id:"goatPa",name:"primaryAntibodySpecies",label:"Goat","checked-value":"goat"}),t(r,{id:"otherPrimaryAntibodySpeciesPa","checkbox-name":"primaryAntibodySpecies",label:"Other","checked-value":"other","input-name":"otherPrimaryAntibodySpeciesInput"})]),_:1}),t(b,{label:"Secondary Antibody"},{content:c(()=>[t(S,{id:"secondaryAntibody",name:"secondaryAntibody"})]),_:1}),t(b,null,{content:c(()=>[t(g,{id:"mousesSa",name:"secondaryAntibodySpecies",label:"Mouse","checked-value":"mouse"}),t(g,{id:"rabbitSa",name:"secondaryAntibodySpecies",label:"Rabbit","checked-value":"rabbit"}),t(g,{id:"humanSa",name:"secondaryAntibodySpecies",label:"Human","checked-value":"human"}),t(g,{id:"goatSa",name:"secondaryAntibodySpecies",label:"Goat","checked-value":"goat"}),t(r,{id:"otherSecondaryAntibodySpeciesSa","checkbox-name":"secondaryAntibodySpecies",label:"Other","checked-value":"other","input-name":"otherSecondaryAntibodySpeciesInput"})]),_:1})],512),[[$,h.value]]),t(b,{label:"Slide Scanning"},{content:c(()=>[t(g,{id:"leicaAperiaAT2Ss",name:"slideScanning",label:"Leica Aperia AT2 200X / 400X","checked-value":"leicaAperiaAT2"}),t(g,{id:"leicaAperiaFLSs",name:"slideScanning",label:"Leica Aperia FL 200X","checked-value":"leicaAperiaFL"}),t(g,{id:"zwissImagerM2Ss",name:"slideScanning",label:"ZWISS Imager M2","checked-value":"zwissImagerM2"}),t(g,{id:"zwissMiraxScanSs",name:"slideScanning",label:"ZWISS Mirax Scan","checked-value":"zwissMiraxScan"}),t(b,{label:"備註"},{content:c(()=>[t(S,{id:"noteSs",name:"note"})]),_:1})]),_:1}),En]),_:1})],32)])}}}),Pn={class:"accordion",id:"slideScanningAccordion"},Ln={class:"accordion-item"},Nn=e("h2",{class:"accordion-header",id:"headingOne"},[e("button",{class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"false","aria-controls":"collapseOne"},[e("h5",{class:"mb-0"},"填寫組織染色及玻片掃描")])],-1),Dn={id:"collapseOne",class:"accordion-collapse collapse show","aria-labelledby":"headingOne","data-bs-parent":"#slideScanningAccordion"},qn={class:"accordion-body"},zn={class:"row mb-3"},Hn=e("legend",{class:"col-form-label col-sm-2 pt-0 red-star"},"Animal Species",-1),jn={class:"col-sm-10"},Mn={class:"row mb-3"},Un=e("label",{for:"contact",class:"col-sm-2 col-form-label red-star"},"處置方式",-1),Kn={class:"col-8 border"},Le={__name:"SlideScanningForm",setup(n){var y,g;const a=se(),o=X([]),{remove:l,push:s}=ae("slideScanning.organs"),u=r=>{l(r),o.value.splice(r,1)},i=(r,S,f)=>{if(r.includes(S)){const A=r.indexOf(S);r[A]=f}},h=r=>{const S=[];S.push(`Staining: ${r.staining.join(",")}`),r.positiveCtrl&&S.push(`Positive Control: ${r.positiveCtrl}`),r.negativeCtrl&&S.push(`Negative Control: ${r.negativeCtrl}`),r.primaryAntibody&&(i(r.primaryAntibodySpecies,"other",r.otherPrimaryAntibodySpeciesInput),S.push(`Primary Antibody: ${r.primaryAntibody}, ${r.primaryAntibodySpecies.join(",")}`)),r.secondaryAntibody&&(i(r.secondaryAntibodySpecies,"other",r.otherSecondaryAntibodySpeciesInput),S.push(`Secondary Antibody: ${r.secondaryAntibody}, ${r.secondaryAntibodySpecies.join(",")}`)),r.slideScanning&&S.push(`Slide Scanning: ${r.slideScanning.join(",")}`),r.note&&S.push(`Note: ${r.note}`);for(const f of r.organ){const A=`${f!=="Other"?f:r.otherOrganInput}`,q=new Re(A,S);o.value.push(q)}},k=r=>{s(r),i(r.staining,"other",r.otherStainingInput),h(r)};if((g=(y=a.expCase.nonLivingForm)==null?void 0:y.slideScanning)!=null&&g.organs)for(let r of a.expCase.nonLivingForm.slideScanning.organs)h(r);return(r,S)=>{const f=d("AppCheckbox"),A=d("AppCheckboxInput"),q=d("AppCard");return m(),v("div",me(de(r.$attrs)),[e("div",Pn,[e("div",Ln,[Nn,e("div",Dn,[e("div",qn,[t(q,null,{body:c(()=>[e("fieldset",zn,[Hn,e("div",jn,[t(f,{label:"Mouse",name:"slideScanning.animalSpecies",id:"mouse","checked-value":"mouse"}),t(f,{label:"影像學",name:"slideScanning.animalSpecies",id:"rat","checked-value":"radiology"}),t(A,{label:"Other",id:"slideScanning.animalSpecies","checkbox-name":"slideScanning.animalSpecies","checked-value":"other","input-name":"slideScanning.animalSpeciesOther"})])]),e("div",Mn,[Un,e("div",Kn,[t(Fe,{class:"my-2",items:o.value,onRemoveItem:u},null,8,["items"])])]),t(Rn,{onAddOrgans:k})]),_:1})])])])])],16)}}},Yn=e("h5",{class:"mb-0"},"填寫病理切片判讀",-1),Qn=e("ol",{class:"my-4"},[e("li",null," 請盡可能詳實填寫上述檢體描述、分組/對照組/實驗組變因、給藥處理。若病理獸醫師判定檢體資訊不足，將會退回請申請者再次進行確認。 "),e("li",null," 病理報告格式為英文肉眼病變(gross finding，如有病理剖檢)、病變描述(histopathology finding)、註解(comment)與必要病理切片影像，不一定包含病變評分表及數據分析。 "),e("li",null," 所有描述之病變影像及病變箭頭指標，依照病理獸醫師判斷視狀況添加，非固定所含之內容。如果需要其他報告語言，例如中文，或是其他原始資料，如照片影像檔，將額外計價、收費。 "),e("li",null," 檢體處理與報告時間若沒有約定，則依照台灣小鼠診所內部流程進行排程，申請者得補件。若須約定交件日期則以急件處理、計價、收費。病理判讀依片數多寡，約需1-4個月。 "),e("li",null," 病理獸醫師業務內容不保證檢體處理、組織切片及染色之各項品質。當台灣小鼠診所病理業務經理交付切片檢體後，病理獸醫師將於文件下方簽名與日期，再次寄送交件日期通知給申請者。 "),e("li",null," 病理報告交付後，若有其他問題，依照台灣小鼠診所政策得諮詢內容，若超過諮詢之義務及對內容有疑義，須循報價系統進行計價、收費後方得進行。 ")],-1),Vn={class:"form-check form-check-inline"},Gn=e("label",{class:"form-check-label",for:"terms"}," 我已詳細閱讀並同意上述規定 ",-1),Ne={__name:"HistopathologyForm",setup(n){return(a,o)=>{const l=d("AppRadio"),s=d("AppInput"),u=d("AppTextarea"),i=d("AppCheckbox"),h=d("AppCard");return m(),I(h,null,{header:c(()=>[Yn]),body:c(()=>[t(b,{label:"物種",class:"my-1"},{content:c(()=>[t(l,{id:"hfRat",name:"histopathology.species","checked-value":"rat",label:"大鼠"}),t(l,{id:"hfMouse",name:"histopathology.species","checked-value":"mouse",label:"小鼠"})]),_:1}),t(b,{label:"品系",class:"my-1"},{content:c(()=>[t(s,{name:"histopathology.strain"})]),_:1}),t(b,{label:"週齡",class:"my-1"},{content:c(()=>[t(s,{name:"histopathology.age"})]),_:1}),t(b,{label:"性別",class:"my-1"},{content:c(()=>[t(l,{id:"hfMale",name:"histopathology.gender","checked-value":"male",label:"公"}),t(l,{id:"hfFemale",name:"histopathology.gender","checked-value":"female",label:"母"})]),_:1}),t(b,{label:"檢體描述",class:"my-1"},{content:c(()=>[t(u,{name:"histopathology.specimenDescription",rows:"5",placeholder:"Specimen Description (group, clinical signs, label, treatment, fixation) 檢體描述 （分組、臨床症狀、標記、處理方式、固定液等等"})]),_:1}),Qn,e("div",Vn,[t(i,{id:"terms",name:"histopathology.terms","checked-value":"agree"}),Gn])]),_:1})}}},Wn={class:"row"},Xn=e("div",{class:"text-dark bg-info"}," 欲進行設施內病理獸醫師進行剖檢，請填妥試驗背景資訊、詳細描述，閱讀以下資訊並勾選同意授權研究經理、獸醫師進行處置。 Please fill this form with necessary experimental detail and description for the necropsy service by in-house pathologist. Read the agreement and tick the checkbox to authorizate the Study Director or veterinarians. ",-1),Zn={class:"row m-2"},Jn={class:"my-3"},ea=e("div",{class:"bg-light red-star"}," 試驗描述（籠位、分組、可能臨床症狀、標記、處理或給藥方式等等）Signalment (cage number, grouping, likely clinical signs, label, treatment)： ",-1),ta={class:"my-3"},na=e("div",{class:"bg-light red-star"}," 台灣小鼠診所針對指定籠內虛弱瀕死動物進行實驗動物人道安樂死與病理剖檢。若不同意，將會在每次發出瀕死/死亡通知後詢問，貴單位須承擔其延遲時間之後果。 Agree or disagree: Following by veterinary evaluation, assigned laboratory animal(s) showing moribund or impending death is euthanatized for pathology examination without informing in advance. ",-1),aa={class:"form-check form-check-inline"},oa={class:"form-check form-check-inline"},ia={class:"my-3"},la=e("div",{class:"bg-light red-star"}," 保留下列臟器組織於10%中性福馬林內以供未來研究所需： Select desired organs for your future study (in 10% neutral buffered formalin): ",-1),sa={class:"form-check form-check-inline"},ca={class:"form-check form-check-inline"},ra={class:"form-check form-check-inline"},ma={class:"form-check form-check-inline"},da={class:"form-check form-check-inline"},pa={class:"form-check form-check-inline"},ua={class:"form-check form-check-inline"},ha={class:"my-3 red-star"},ba=e("span",{for:"terms"},"我瞭解由病理獸醫師依實際情況判定是否需要進行組織病理學檢查（製作切片進一步進行診斷）。肉眼初步結果及後續組織病理之「正式病理報告」將會向貴單位報價，貴單位繳費後正式發給報告。 Our pathologists will perform a comprehensive gross examination, followed by an assessment to determine the necessity of conducting histopathology for more detailed findings. You will receive a quotation from TMC, but the final pathology report will be issued after the fee is paid.",-1),_a=Object.assign({inheritAttrs:!1},{__name:"PanelNecropsy",props:{prefix:{type:String,default:""}},setup(n){return(a,o)=>{const l=d("AppTextarea"),s=d("AppRadio"),u=d("AppCheckbox"),i=d("AppCheckboxInput"),h=d("AppCard");return m(),I(h,K(a.$attrs,{class:"p-2"}),{body:c(()=>[e("div",Wn,[Xn,e("div",Zn,[e("ol",null,[e("li",Jn,[ea,t(l,{rows:"5",name:`${n.prefix}.description`},null,8,["name"])]),e("li",ta,[na,e("div",aa,[t(s,{name:`${n.prefix}.euthanasia`,id:"euthanasiaY",label:"同意","checked-value":"Y"},null,8,["name"])]),e("div",oa,[t(s,{name:`${n.prefix}.euthanasia`,id:"euthanasiaN",label:"不同意","checked-value":"N"},null,8,["name"])])]),e("li",ia,[la,e("div",sa,[t(u,{id:"organStudyHeart",name:`${n.prefix}.organStudy`,"checked-value":"Heart",label:"Heart"},null,8,["name"])]),e("div",ca,[t(u,{id:"organStudyLiver",name:`${n.prefix}.organStudy`,"checked-value":"Liver",label:"Liver"},null,8,["name"])]),e("div",ra,[t(u,{id:"organStudySpleen",name:`${n.prefix}.organStudy`,"checked-value":"Spleen",label:"Spleen"},null,8,["name"])]),e("div",ma,[t(u,{id:"organStudyLung",name:`${n.prefix}.organStudy`,"checked-value":"Lung",label:"Lung"},null,8,["name"])]),e("div",da,[t(u,{id:"organStudyKidney",name:`${n.prefix}.organStudy`,"checked-value":"Kidney",label:"Kidney"},null,8,["name"])]),e("div",pa,[t(u,{id:"organStudyBrain",name:`${n.prefix}.organStudy`,"checked-value":"Brain",label:"Brain"},null,8,["name"])]),e("div",ua,[t(i,{id:"organStudyOther","checkbox-name":`${n.prefix}.organStudy`,"checked-value":"other",label:"Other:","input-name":`${n.prefix}.otherOrganStudy`},null,8,["checkbox-name","input-name"])])]),e("li",ha,[t(u,{id:"terms",name:`${n.prefix}.terms`,"checked-value":"agree"},null,8,["name"]),ba])])])])]),_:1},16)}}}),ya=Object.assign({inheritAttrs:!1},{__name:"PanelFilledLivingForm",props:{livingForm:{type:Object,required:!0,default:()=>({})}},setup(n){const o=Ve(n.livingForm.iacucProtocal);return(l,s)=>{const u=d("AppDownloadLink");return m(),v("div",me(de(l.$attrs)),[t(b,{label:"物種"},{content:c(()=>[P(F(n.livingForm.animalType==="rat"?"大鼠":"小鼠"),1)]),_:1}),t(b,{label:"品系"},{content:c(()=>[P(F(n.livingForm.strain),1)]),_:1}),t(b,{label:"週齡"},{content:c(()=>[P(F(n.livingForm.age),1)]),_:1}),t(b,{label:"Note"},{content:c(()=>[P(F(n.livingForm.note),1)]),_:1}),t(b,{label:"預計運送動物日期"},{content:c(()=>[P(F(n.livingForm.animalArrivalDate),1)]),_:1}),t(b,{label:"預計運送動物時間"},{content:c(()=>[P(F(n.livingForm.animalArrivalTime==="morning"?"上午9:00~12:00":"下午13:30~16:30"),1)]),_:1}),t(b,{label:"入室隻數"},{content:c(()=>[e("span",null,"公："+F(n.livingForm.maleQty),1),e("span",null,"母："+F(n.livingForm.femaleQty),1)]),_:1}),t(b,{label:"送養籠數"},{content:c(()=>[P(F(n.livingForm.sendingCagesQty),1)]),_:1}),t(b,{label:"實驗籠數"},{content:c(()=>[P(F(n.livingForm.expCage),1)]),_:1}),t(b,{label:"IACUC Protocal"},{content:c(()=>[t(u,{name:p(o).name,value:p(o).value},null,8,["name","value"])]),_:1})],16)}}}),ga={class:"mt-4"},va=e("h5",{class:"mb-0"},"填寫入室資料",-1),fa={class:"row mb-3"},Sa=e("label",{for:"iacucfile",class:"col-sm-2 col-form-label"},"選擇表單來源",-1),xa={class:"col-8"},ka={class:"input-group"},$a=e("option",{value:"new"},"新表單",-1),Aa=e("option",{value:"TMC-00001"},"TMC-00001",-1),Ca=e("option",{value:"TMC-00002"},"TMC-00002",-1),Ta=[$a,Aa,Ca],Ia={class:"row mb-3"},wa=e("legend",{class:"col-form-label col-sm-2 pt-0 red-star"},"物種",-1),Oa={class:"col-sm-10"},Ba={class:"row mb-3"},Fa=e("legend",{class:"col-form-label col-sm-2 pt-0 red-star"},"品系",-1),Ea={class:"col-sm-10"},Ra={class:"row mb-3"},Pa={class:"row mb-3"},La=e("legend",{class:"col-form-label col-sm-2 pt-0 red-star"},"是否需要特殊照顧或觀察?",-1),Na={class:"col-sm-10"},Da={class:"row mb-3"},qa=e("label",{for:"age",class:"col-sm-2 col-form-label red-star"},"週齡",-1),za={class:"col-sm-8"},Ha={class:"row mb-3"},ja=e("label",{for:"animalArrivalDate",class:"col-sm-2 col-form-label red-star"},"預計運送動物日期",-1),Ma={class:"col-8"},Ua={class:"row mb-3"},Ka=e("label",{for:"arrivalTime",class:"col-sm-2 col-form-label red-star"},"預計運送動物時間",-1),Ya={class:"col-sm-10"},Qa={class:"row mb-3"},Va=e("label",{for:"male",class:"col-sm-2 col-form-label red-star"},"入室隻數",-1),Ga={class:"col-sm-10"},Wa={class:"row"},Xa={class:"col-sm-4"},Za={class:"input-group mb-3"},Ja=e("span",{class:"input-group-text",id:"inputGroup-sizing-default"},"公",-1),eo={class:"col-sm-4"},to={class:"input-group mb-3"},no=e("span",{class:"input-group-text",id:"inputGroup-sizing-default"},"母",-1),ao={class:"row mb-3"},oo=e("label",{for:"checkinCage",class:"col-sm-2 col-form-label red-star"},"送來的竉數",-1),io={class:"col-8"},lo={class:"row mb-3"},so=e("label",{for:"expCage",class:"col-sm-2 col-form-label red-star"},"實驗竉數",-1),co={class:"col-8"},ro={class:"row mb-3"},mo=e("label",{for:"location",class:"col-sm-2 col-form-label red-star"},"入室前所在地",-1),po={class:"col-8"},uo=e("option",{value:""},"請選擇",-1),ho=["value"],bo={class:"row mb-3"},_o=e("label",{for:"iacucNo",class:"col-sm-2 col-form-label red-star"},"IACUC Number",-1),yo={class:"col-8"},go={class:"row mb-3"},vo=e("label",{for:"iacucDate",class:"col-sm-2 col-form-label red-star"},"IACUC 到期日",-1),fo={class:"col-8"},So={class:"row mb-3"},xo=e("label",{for:"iacucDate",class:"col-sm-2 col-form-label red-star"},"IACUC E-mail",-1),ko={class:"col-8"},$o={class:"row mb-3"},Ao=e("label",{class:"col-sm-2 col-form-label red-star"},"IACUC Protocal",-1),Co={class:"col-sm-8"},To=e("a",{href:"http://tmc.sinica.edu.tw/animal_checkin_c_01.html",target:"_blank"}," 官網 ",-1),Io={class:"row mb-3"},wo=e("label",{class:"col-sm-2 col-form-label red-star"},"健康檢騇報告檔",-1),Oo={class:"col-8"},Bo={class:"row mb-3"},Fo=e("label",{for:"food",class:"col-sm-2 col-form-label red-star"},"飼料",-1),Eo={class:"col-sm-10"},Ro={class:"row mb-3"},Po=e("label",{for:"water",class:"col-sm-2 col-form-label red-star"},"飲水",-1),Lo={class:"col-sm-10"},No={class:"row mb-3"},Do=e("label",{for:"animalNo",class:"col-sm-2 col-form-label red-star"},"動物編號",-1),qo={class:"col-sm-8"},zo={class:"row mb-3"},Ho=e("label",{for:"idMethod",class:"col-sm-2 col-form-label red-star"},"標示方式，是否已自行標示?",-1),jo={class:"col-sm-10"},Mo=e("p",{class:"fst-italic fw-light"}," 需上傳辨識說明文件(Animal identification systems:) (辨識動物的方式如：耳號、趾號，並請上傳圖文檔 e.g. ear punching, toe notch) ",-1),Uo={class:"row mb-3"},Ko=e("label",{for:"note",class:"col-sm-2 col-form-label"},"Note",-1),Yo={class:"col-sm-8"},Qo=e("p",{class:"fst-italic fw-light"}," (例如:於入室前接受手術、接種病毒載體、給予危險性物質等，請務必告知) ",-1),Vo={class:"row mb-3"},Go=e("label",{for:"fgh",class:"col-sm-2 col-form-label red-star"},"動物單獨飼養",-1),Wo={class:"col-sm-8"},Xo=e("br",null,null,-1),Zo=e("p",{class:"fst-italic fw-light"}," 我同意當動物飼養於本設施期間，若有獨飼狀況，基於動物福祉，TMC/AIF有權進行處理 (請於動物入室時附上已滅菌之環境豐富化物料，若未附上TMC/AIF將主動添加並酌收費用。) ",-1),Jo={class:"row mb-3"},ei=e("legend",{class:"col-form-label col-sm-2 pt-0"},"是否為病理實驗",-1),ti={class:"col-sm-10"},ni={class:"row mb-3"},ai=e("label",{for:"sampleNumber",class:"col-sm-2 col-form-label"},"病理實驗類型",-1),oi={class:"col-sm-6 d-flex flex-column"},ii={class:"row mb-3"},li=e("label",{for:"necropsy",class:"col-sm-2 col-form-label"},"是否申請為動物剖檢",-1),si={class:"col-sm-2"},ci={key:0,class:"row mb-3"},ri={key:1,class:"row mb-3"},mi={key:2,class:"row mb-3"},di={key:3,class:"row mb-3"},pi={key:4,class:"row mb-3"},ui={class:"d-flex flex-row-reverse"},hi=["id"],bi={class:"accordion-item"},_i={class:"accordion-header",id:"headingOne"},yi=["data-bs-target","aria-controls"],gi={class:"mb-0"},vi=["id","data-bs-parent"],fi={class:"accordion-body"},Si={class:"mt-2 d-flex flex-row-reverse"},xi=["onClick"],ki=["onClick"],$i={class:"mb-2 d-flex justify-content-between flex-row-reverse mt-2"},Ai={__name:"LivingForm",setup(n){const a=se(),o=X("new"),l=X(!1),s=X(null),u=Xe(),{handleSubmit:i,defineField:h,errors:k,values:y,resetForm:g}=le({validationSchema:mt});Se("parentValues",y);const[r]=h("mouseSource"),S=Q(()=>y.pathologicalExpType!==void 0&&y.pathologicalExpType.includes("Blood")),f=Q(()=>y.pathologicalExpType!==void 0&&y.pathologicalExpType.includes("SlideScanning")),A=Q(()=>y.pathologicalExpType!==void 0&&y.pathologicalExpType.includes("TissueSection")),q=Q(()=>y.pathologicalExpType!==void 0&&y.pathologicalExpType.includes("Histopathology"));function Y(){return y.animalType==="rat"}function O(){return y.animalType==="mice"}function G(E){g({values:E},{force:!0})}const ue=i(()=>{a.addLivingForm(ge.cloneDeep(y)),G({}),o.value="new"});function De(E){return E?"is-invalid":""}function qe(){s.value=null,l.value=!1;const E=a.fetchLivingForm(o.value);G(E),r.value=E.mouseSource}const ze=E=>{l.value=!0,s.value=E;let z=a.expCase.livingForms[E];G(z),window.scrollTo({top:100,behavior:"smooth"})},he=i(()=>{const E=ge.cloneDeep(y);G({}),a.updateLivingForm(s.value,E),o.value="new",s.value=null,l.value=!1}),He=E=>{l.value=!1,s.value=E,a.removeLivingForm(E)},je=()=>{a.deleteNonLivingForm(),a.proceedToStep3()};return(E,z)=>{var _e,ye;const T=d("AppRadio"),te=d("AppRadioInput"),D=d("AppInput"),Me=d("AppFileInput"),ne=d("AppCheckbox"),be=d("AppCard");return m(),v("form",ga,[t(be,{class:"mt-4"},{header:c(()=>[va]),body:c(()=>[e("div",fa,[Sa,e("div",xa,[e("div",ka,[x(e("select",{class:"form-select",id:"formSource",name:"formSource","aria-label":"Example select with button addon","onUpdate:modelValue":z[0]||(z[0]=R=>o.value=R),as:"select",onChange:z[1]||(z[1]=R=>qe())},Ta,544),[[ve,o.value]])])]),e("fieldset",Ia,[wa,e("div",Oa,[t(T,{id:"rat",name:"animalType","checked-value":"rat",label:"大鼠"}),t(T,{id:"mice",name:"animalType","checked-value":"mice",label:"小鼠"})])]),x(e("fieldset",Ba,[Fa,e("div",Ea,[x(t(T,{name:"strain",id:"C57BL/6","checked-value":"C57BL/6",label:"C57BL/6"},null,512),[[$,O()]]),x(t(T,{name:"strain",id:"ICR","checked-value":"ICR",label:"ICR"},null,512),[[$,O()]]),x(t(T,{name:"strain",id:"BALB/c","checked-value":"BALB/c",label:"BALB/c"},null,512),[[$,O()]]),x(t(T,{name:"strain",id:"immunodeficiency","checked-value":"immunodeficiency",label:"免疫缺陷鼠"},null,512),[[$,O()]]),x(t(T,{name:"strain",id:"SD","checked-value":"SD",label:"SD"},null,512),[[$,Y()]]),Y()?(m(),I(te,{key:0,"radio-name":"strain",id:"ratOther","checked-value":"ratOther",label:"其他品系：","input-name":"ratOtherStrain"})):C("",!0),x(t(T,{name:"strain",id:"NUDE","checked-value":"NUDE",label:"NUDE"},null,512),[[$,O()]]),x(t(T,{name:"strain",id:"NODSCID","checked-value":"NOD SCID",label:"NOD SCID"},null,512),[[$,O()]]),x(t(T,{name:"strain",id:"ASID","checked-value":"ASID",label:"ASID"},null,512),[[$,O()]]),O()?(m(),I(te,{key:1,"radio-name":"strain","input-name":"miceStrainOther",id:"miceOther","checked-value":"miceOther",label:"其他："})):C("",!0)])],512),[[$,!!p(y).animalType]]),x(e("div",Ra,[e("fieldset",Pa,[La,e("div",Na,[t(T,{id:"special1",name:"special","checked-value":"N",label:"否"}),t(te,{"radio-name":"special","input-name":"specialExplain",id:"special2","checked-value":"Y",label:"是，請說明:"}),P(" (例如：提供巢料、放置飼料於墊料) ")])])],512),[[$,p(y).strain==="ratOther"]]),e("div",Da,[qa,e("div",za,[t(D,{type:"number",name:"age"}),P(" P.S.入室小鼠若低於5週齡或為懷孕母鼠，請先洽詢賴超坤博士 (02-77505514) ")])]),e("div",Ha,[ja,e("div",Ma,[t(D,{type:"date",name:"animalArrivalDate"})])]),x(e("div",Ua,[Ka,e("div",Ya,[t(T,{id:"animalArrivalTimeMorning",name:"animalArrivalTime","checked-value":"morning",label:"上午9:00~12:00"}),t(T,{id:"animalArrivalTimeAfternoon",name:"animalArrivalTime","checked-value":"afternoon",label:"下午13:30~16:30"})])],512),[[$,o.value==="new"]]),e("div",Qa,[Va,e("div",Ga,[e("div",Wa,[e("div",Xa,[e("div",Za,[Ja,t(D,{type:"number",name:"maleQty"})])]),e("div",eo,[e("div",to,[no,t(D,{type:"number",name:"femaleQty"})])])])])]),x(e("div",ao,[oo,e("div",io,[t(D,{type:"number",name:"sendingCagesQty"})])],512),[[$,o.value=="new"]]),e("div",lo,[so,e("div",co,[t(D,{type:"number",name:"expCage"})])]),e("div",ro,[mo,e("div",po,[x(e("select",{name:"mouseSource",class:Ge(["select2 form-select",De(p(k).mouseSource)]),as:"select","onUpdate:modelValue":z[2]||(z[2]=R=>We(r)?r.value=R:null)},[uo,(m(!0),v(U,null,V(p(u),R=>(m(),v("option",{key:R.id,value:R.id},F(R.name),9,ho))),128))],2),[[ve,p(r)]])])]),e("div",bo,[_o,e("div",yo,[t(D,{type:"text",name:"iacucNo"})])]),e("div",go,[vo,e("div",fo,[t(D,{type:"date",name:"iacucDate"})])]),e("div",So,[xo,e("div",ko,[t(D,{type:"email",name:"iacucEmail"})])]),e("div",$o,[Ao,e("div",Co,[t(Me,{name:"iacucProtocal"}),P(" 細節說明見"),To])]),e("div",Io,[wo,e("div",Oo,[t(D,{type:"file",name:"healthMonitoringReport"})])]),e("div",Bo,[Fo,e("div",Eo,[t(T,{name:"foodType",id:"foodTypeNormal","checked-value":"normal",label:"一般飼料"}),t(T,{name:"foodType",id:"foodTypeSpecial","checked-value":"special",label:"特殊飼料"}),t(te,{"radio-name":"foodType","input-name":"foodTypeOtherCustom","checked-value":"other",id:"foodTypeOther",label:"其他"})])]),e("div",Ro,[Po,e("div",Lo,[t(T,{name:"waterType",id:"waterTypeNormal","checked-value":"normal",label:"一般飲水"}),t(T,{name:"waterType",id:"waterTypeSpecial","checked-value":"special",label:"特殊飲水"}),t(te,{"radio-name":"waterType","input-name":"waterTypeOther","checked-value":"other",id:"waterTypeOther",label:"其他"})])]),e("div",No,[Do,e("div",qo,[t(D,{type:"text",name:"animalNo"})])]),x(e("div",zo,[Ho,e("div",jo,[t(T,{name:"identificationMethod",id:"identificationMethodY","checked-value":"Y",label:"是"}),x(e("div",null,[t(D,{type:"file",name:"imf"}),Mo],512),[[$,p(y).identificationMethod==="Y"]]),t(T,{name:"identificationMethod",id:"identificationMethodN","checked-value":"N",label:"否，請確認是否已申請動物房技術支援(打耳號)"})])],512),[[$,o.value=="new"]]),e("div",Uo,[Ko,e("div",Yo,[t(D,{type:"text",name:"note"}),Qo])]),e("div",Vo,[Go,e("div",Wo,[t(T,{name:"alone",id:"aloneY","checked-value":"1",label:"是"}),t(T,{name:"alone",id:"aloneN","checked-value":"2",label:"否"}),Xo,Zo])]),e("fieldset",Jo,[ei,e("div",ti,[t(T,{name:"pathologicalExp",id:"pathologicalExpY","checked-value":"Y",label:"是"}),t(T,{name:"pathologicalExp",id:"pathologicalExpN","checked-value":"N",label:"否"})])]),x(e("div",ni,[ai,e("div",oi,[t(ne,{label:"血液/血清/尿液/組織均質液/其他體液",name:"pathologicalExpType",id:"pathologicalExpTypeBlood","checked-value":"Blood"}),t(ne,{label:"組織切片",name:"pathologicalExpType",id:"pathologicalExpTypeTissueSection","checked-value":"TissueSection"}),t(ne,{label:"組織染色及玻片掃描",name:"pathologicalExpType",id:"pathologicalExpTypeSlideScanning","checked-value":"SlideScanning"}),t(ne,{label:"病理切片判讀",name:"pathologicalExpType",id:"pathologicalExpTypeHistopathology","checked-value":"Histopathology"})])],512),[[$,p(y).pathologicalExp==="Y"]]),x(e("div",ii,[li,e("div",si,[t(ne,{name:"necropsyApplication","checked-value":"Y",id:"necropsy"})])],512),[[$,o.value!=="new"]]),S.value?(m(),v("div",ci,[t(Be,{class:"mt-4"})])):C("",!0),A.value?(m(),v("div",ri,[t(Pe,{class:"mt-4"})])):C("",!0),f.value?(m(),v("div",mi,[t(Le,{class:"mt-4"})])):C("",!0),q.value?(m(),v("div",di,[t(Ne,{class:"mt-4"})])):C("",!0),p(y).necropsyApplication==="Y"?(m(),v("div",pi,[t(_a,{class:"row mb-3",prefix:"necropsy"})])):C("",!0),e("div",ui,[x(e("button",{class:"btn btn-primary",type:"button",onClick:z[3]||(z[3]=(...R)=>p(he)&&p(he)(...R))}," 修改 ",512),[[$,l.value]]),x(e("button",{class:"btn btn-info text-white",type:"button",onClick:z[4]||(z[4]=(...R)=>p(ue)&&p(ue)(...R))}," 填寫完畢 ",512),[[$,!l.value]])])])]),_:1}),(_e=p(a).expCase.livingForms)!=null&&_e.length?(m(),I(be,{key:0,class:"mt-2"},{title:c(()=>[P(" 已填寫入室申請表 ")]),body:c(()=>[(m(!0),v(U,null,V(p(a).expCase.livingForms,(R,W)=>(m(),v("div",{key:R.id},[e("div",{class:"accordion my-2",id:`slideScanningAccordion${W}`},[e("div",bi,[e("h2",_i,[e("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse${W}`,"aria-expanded":"false","aria-controls":`collapse${W}`},[e("h5",gi,"# "+F(W+1),1)],8,yi)]),e("div",{id:`collapse${W}`,class:"accordion-collapse collapse","aria-labelledby":"headingOne","data-bs-parent":`#slideScanningAccordion${W}`},[e("div",fi,[t(ya,{livingForm:R},null,8,["livingForm"]),e("div",Si,[e("button",{type:"button",class:"btn btn-secondary",onClick:N(Ue=>ze(W),["prevent"])}," 編輯 ",8,xi),e("button",{type:"button",class:"btn btn-danger mx-1",onClick:N(Ue=>He(W),["prevent"])}," 刪除 ",8,ki)])])],8,vi)])],8,hi)]))),128))]),_:1})):C("",!0),e("div",$i,[x(e("button",{type:"button",class:"btn btn-primary",onClick:je}," 下一步 ",512),[[$,(ye=p(a).expCase.livingForms)==null?void 0:ye.length]])])])}}},Ci=e("h5",{class:"mb-0"},"填寫非活體資料",-1),Ti={class:"row mb-3"},Ii=e("label",{for:"contact",class:"col-sm-2 col-form-label red-star"},"聯絡人姓名",-1),wi={class:"col-8"},Oi={class:"row mb-3"},Bi=e("label",{for:"contactTel",class:"col-sm-2 col-form-label red-star"},"聯絡人電話",-1),Fi={class:"col-8"},Ei={class:"row mb-3"},Ri=e("label",{for:"contactEmail",class:"col-sm-2 col-form-label red-star"},"聯絡人信箱",-1),Pi={class:"col-8"},Li={class:"row mb-3"},Ni=e("label",{for:"scheduledDeliveryDate",class:"col-sm-2 col-form-label red-star"},"約定的送件日期",-1),Di={class:"col-8"},qi={class:"row mb-3"},zi=e("legend",{class:"col-form-label col-sm-2 pt-0 red-star"},"實驗類型",-1),Hi={class:"col-sm-10"},ji={id:"radiologyRelated"},Mi={class:"row mb-3"},Ui=e("label",{for:"sampleNumber",class:"col-sm-2 col-form-label red-star"},"檢體數量",-1),Ki={class:"col-8"},Yi={class:"row mb-3"},Qi=e("label",{for:"sampleId",class:"col-sm-2 col-form-label red-star"},"檢體ID",-1),Vi={class:"col-8"},Gi={class:"row mb-3"},Wi=e("label",{for:"sampleType",class:"col-sm-2 col-form-label red-star"},"檢體類型",-1),Xi={class:"col-8"},Zi={class:"row mb-3"},Ji=e("label",{for:"radiologyNote",class:"col-sm-2 col-form-label"},"備註",-1),el={class:"col-8"},tl={id:"pathologyRelated"},nl={class:"row mb-3"},al=e("label",{for:"sampleNumber",class:"col-sm-2 col-form-label red-star"},"病理實驗類型",-1),ol={class:"col-sm-6 d-flex flex-column"},il=e("div",{class:"mb-2 d-flex justify-content-between flex-row-reverse mt-2"},[e("button",{type:"submit",class:"btn btn-primary"},"下一步")],-1),ll={__name:"NonLivingForm",setup(n){const a=se(),{handleSubmit:o,values:l,errors:s}=le({initialValues:a.expCase.nonLivingForm,validationSchema:st});Se("parentValues",l);const u=o(r=>{a.saveNonLivingFormData(r),a.proceedToStep3()}),i=r=>l.experimentType!==void 0&&l.experimentType.includes(r),h=Q(()=>l.pathologicalExpType!==void 0&&l.pathologicalExpType.includes("Blood")),k=Q(()=>l.pathologicalExpType!==void 0&&l.pathologicalExpType.includes("SlideScanning")),y=Q(()=>l.pathologicalExpType!==void 0&&l.pathologicalExpType.includes("TissueSection")),g=Q(()=>l.pathologicalExpType!==void 0&&l.pathologicalExpType.includes("Histopathology"));return(r,S)=>{const f=d("AppInput"),A=d("AppCheckbox"),q=d("AppRadio"),Y=d("AppRadioInput"),O=d("AppCard");return m(),v("form",{onSubmit:S[0]||(S[0]=(...G)=>p(u)&&p(u)(...G)),class:"mt-4"},[t(O,{class:"mt-4"},{header:c(()=>[Ci]),body:c(()=>[e("div",Ti,[Ii,e("div",wi,[t(f,{name:"contact"})])]),e("div",Oi,[Bi,e("div",Fi,[t(f,{name:"contactTel"})])]),e("div",Ei,[Ri,e("div",Pi,[t(f,{type:"email",name:"contactEmail"})])]),e("div",Li,[Ni,e("div",Di,[t(f,{type:"date",name:"scheduledDeliveryDate"})])]),e("fieldset",qi,[zi,e("div",Hi,[t(A,{label:"病理學",name:"experimentType",id:"experimentTypePathology","checked-value":"pathology"}),t(A,{label:"影像學",name:"experimentType",id:"experimentTypeRadiology","checked-value":"radiology"})])]),x(e("div",ji,[e("div",Mi,[Ui,e("div",Ki,[t(f,{type:"number",name:"sampleNumber"})])]),e("div",Yi,[Qi,e("div",Vi,[t(f,{type:"text",name:"sampleId"})])]),e("div",Gi,[Wi,e("div",Xi,[t(q,{name:"sampleType",id:"sampleTypeAnimal",label:"動物","checked-value":"animal"}),t(Y,{label:"其他",id:"otherSampleType","radio-name":"sampleType","checked-value":"other","input-name":"otherSampleTypeInput"})])]),e("div",Zi,[Ji,e("div",el,[t(f,{type:"text",name:"radiologyNote"})])])],512),[[$,i("radiology")]]),x(e("div",tl,[e("div",nl,[al,e("div",ol,[t(A,{label:"血液/血清/尿液/組織均質液/其他體液",name:"pathologicalExpType",id:"pathologicalExpTypeBlood","checked-value":"Blood"}),t(A,{label:"組織切片",name:"pathologicalExpType",id:"pathologicalExpTypeTissueSection","checked-value":"TissueSection"}),t(A,{label:"組織染色及玻片掃描",name:"pathologicalExpType",id:"pathologicalExpTypeSlideScanning","checked-value":"SlideScanning"}),t(A,{label:"病理切片判讀",name:"pathologicalExpType",id:"pathologicalExpTypeHistopathology","checked-value":"Histopathology"})])])],512),[[$,i("pathology")]])]),_:1}),h.value?(m(),I(Be,{key:0,class:"mt-4"})):C("",!0),y.value?(m(),I(Pe,{key:1,class:"mt-4"})):C("",!0),k.value?(m(),I(Le,{key:2,class:"mt-4"})):C("",!0),g.value?(m(),I(Ne,{key:3,class:"mt-4"})):C("",!0),il],32)}}},sl=e("h4",{class:"fw-bold py-3 mb-4"},"實驗類型",-1),cl=e("h5",{class:"mb-0"},"活體/非活體",-1),rl={class:"form-check form-check-inline"},ml=e("label",{class:"form-check-label",for:"living"}," 活體 ",-1),dl={class:"form-check form-check-inline"},pl=e("label",{class:"form-check-label",for:"nonLiving"}," 非活體 ",-1),_l={__name:"ExpApplicationStep2",props:["id"],setup(n){const a=n,o=se();return o.loadExpCaseById(a.id),(l,s)=>{const u=d("AppCard");return m(),v(U,null,[sl,t(u,null,{header:c(()=>[cl]),body:c(()=>[e("div",rl,[x(e("input",{name:"sampleCategory",class:"form-check-input",type:"radio",value:"living",id:"living","onUpdate:modelValue":s[0]||(s[0]=i=>p(o).expCase.sampleCategory=i)},null,512),[[fe,p(o).expCase.sampleCategory]]),ml]),e("div",dl,[x(e("input",{name:"sampleCategory",class:"form-check-input",type:"radio",value:"nonLiving",id:"nonLiving","onUpdate:modelValue":s[1]||(s[1]=i=>p(o).expCase.sampleCategory=i)},null,512),[[fe,p(o).expCase.sampleCategory]]),pl])]),_:1}),p(o).expCase.sampleCategory==="living"?(m(),I(Ai,{key:0})):C("",!0),p(o).expCase.sampleCategory==="nonLiving"?(m(),I(ll,{key:1})):C("",!0)],64)}}};export{_l as default};
