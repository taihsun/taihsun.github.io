import{r as a,e as g,o,f as n,D as N,B as U,h as u,w as l,F as h,g as e,C as x,i,b1 as L,A as w,j as A,K as C,b2 as D,t as d,ai as F}from"./index-224d4b7d.js";import{L as j}from"./LayoutManagement-bf643839.js";import{S as q}from"./ServiceItemService-9a5f480e.js";import"./InstrumentApiImpl-7d7ba7f2.js";const E=e("h4",{class:"fw-bold py-3 mb-4"},"服務項目管理",-1),K={class:"mb-2"},$=e("label",{for:"labType",class:"form-label"},"單位",-1),z=e("option",{value:""},"請選擇",-1),G=["value"],H={class:"mb-2"},J=e("label",{for:"code",class:"form-label"},"Service Item Code",-1),O={class:"mb-2"},P=e("label",{for:"name",class:"form-label"},"Service Item Name",-1),Q={class:"table display",id:"serviceItem"},R=e("thead",null,[e("tr",null,[e("th",null,"Status"),e("th",null,"單位"),e("th",null,"Service item code"),e("th",null,"Service item name"),e("th")])],-1),W={class:"form-check form-switch"},X=["checked","onUpdate:modelValue","onInput"],Y=e("i",{class:"bi bi-pencil-square"},null,-1),le={__name:"ServiceItemManagement",props:["message","success"],setup(V){const y=V,k=q.getInstance(),m=a(""),v=a(""),p=a(""),c=a(y.message||""),b=a(y.success||!1),M=D(),S=a([]),B=async()=>{try{S.value=await k.filterServiceItems(m.value,v.value,p.value)}catch(r){b.value=!1,c.value=r.message}},T=async(r,s)=>{try{await k.enableServiceItem(r,s)}catch(_){b.value=!1,c.value=_.message}};return(r,s)=>{const _=g("AppMessage"),f=g("router-link");return o(),n(h,null,[E,c.value?(o(),N(_,{key:0,message:c.value,success:b.value},null,8,["message","success"])):U("",!0),u(j,null,{addButtonSm:l(()=>[u(f,{to:"/serviceItem/create",class:"form-control btn btn-secondary"},{default:l(()=>[x("新增服務項目")]),_:1})]),addButton:l(()=>[u(f,{to:"/serviceItem/create",class:"form-control btn btn-secondary"},{default:l(()=>[x("新增服務項目")]),_:1})]),filterForm:l(()=>[e("form",null,[e("div",K,[$,i(e("select",{class:"form-select",id:"labType","onUpdate:modelValue":s[0]||(s[0]=t=>m.value=t)},[z,(o(!0),n(h,null,w(A(M),t=>(o(),n("option",{key:t.id,value:t.id},d(t.name),9,G))),128))],512),[[L,m.value]])]),e("div",H,[J,i(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=t=>v.value=t)},null,512),[[C,v.value]])]),e("div",O,[P,i(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[2]||(s[2]=t=>p.value=t)},null,512),[[C,p.value]])]),e("div",{class:"d-flex flex-row-reverse"},[e("button",{type:"button",class:"btn btn-primary",onClick:B},"Search")])])]),table:l(()=>[e("table",Q,[R,e("tbody",null,[(o(!0),n(h,null,w(S.value,t=>(o(),n("tr",{key:t.id},[e("td",null,[e("div",W,[i(e("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckChecked",checked:t.enable,"onUpdate:modelValue":I=>t.enable=I,onInput:I=>T(t.id,!t.enable)},null,40,X),[[F,t.enable]])])]),e("td",null,d(t.labType),1),e("td",null,d(t.code),1),e("td",null,d(t.name),1),e("td",null,[u(f,{to:{name:"ServiceItemModification",params:{serviceItemId:t.id}},class:"link-primary"},{default:l(()=>[Y]),_:2},1032,["to"])])]))),128))])])]),_:1})],64)}}};export{le as default};
