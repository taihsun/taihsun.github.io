var l=Object.defineProperty;var p=(t,e,a)=>e in t?l(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a;var i=(t,e,a)=>(p(t,typeof e!="symbol"?e+"":e,a),a);import{J as d,I as L,s as f,x as h}from"./index-224d4b7d.js";const y="locations",o=new d(y),b=()=>o.getObjects(),m=t=>{const e={id:L(),name:t,status:!0};o.createObject(e)},I=t=>{const e=b(),a=new Array;return e.forEach(c=>{(!t||c.name.includes(t))&&a.push(c)}),a},s=t=>o.findById(t),r=t=>{o.updateObject(t)},w=t=>{o.deleteObject(t)},B=()=>o.getObjects().filter(t=>t.status),E={apiCreateLocation:function(t){return m(t),Promise.resolve("新增入室前所在地成功")},apiFilterLocations:function(t){const e=I(t);return Promise.resolve(e)},apiFetchLocationById:function(t){return s(t)?Promise.resolve(s(t)):Promise.reject(new Error("找不到該筆資料"))},apiUpdateLocation:function(t){return r(t),Promise.resolve("更新成功")},apiEnableLocation:function(t,e){const a=s(t);return a.status=e,r(a),Promise.resolve("更新成功")},apiDeleteLocationById:function(t){return w(t),Promise.resolve("刪除成功")},apiFetchEnabledLocations:function(){return Promise.resolve(B())}};f.create({baseURL:"http://localhost:8080/Ratatouille/api/location",headers:h()});const n=class n{constructor(e){i(this,"api");this.api=e}static getInstance(){return n.instance||(n.instance=new n(E)),n.instance}async filterLocations(e){return await this.api.apiFilterLocations(e)}async enableLocation(e,a){return await this.api.apiEnableLocation(e,a)}async createLocation(e){return await this.api.apiCreateLocation(e)}async deleteLocationById(e){return await this.api.apiDeleteLocationById(e)}async fetchLocationById(e){return await this.api.apiFetchLocationById(e)}async updateLocation(e){return await this.api.apiUpdateLocation(e)}async fetchEnabledLocations(){return await this.api.apiFetchEnabledLocations()}};i(n,"instance");let u=n;export{u as L};
