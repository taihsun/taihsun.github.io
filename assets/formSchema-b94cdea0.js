import{at as s,aq as t,ar as i,aw as c,au as a,ay as p,ap as m,az as f,aA as h,aB as o,aC as P,aD as d,aE as b,aF as S,aG as k,aH as y,ax as l,aI as u,aJ as L,aK as Q,aL as q,aM as F,aN as x,aO as B,aP as $,aQ as V,aR as A,aS as z,aT as K}from"./index-668b5f53.js";const E=s().required().of(t().shape({itemName:i,sampleNo:c,duplicate:c})),w=e=>e!==void 0&&e.includes("pathology"),g=s().of(t().shape({item:a(),amount:a().when("item",{is:e=>e!==void 0&&e!==""&&e!=="twatc",then:()=>c,otherwise:()=>a().notRequired()}),otherItem:p("item","other")})).when((e,n)=>{const r=e[0],I=r==null?void 0:r.filter(T=>T.item!==void 0);return I&&I.length===0?n.innerType.fields.item=a().required():n.innerType.fields.item=a(),n}),M=t().shape({animalSpecies:i,animalSpeciesOther:p("animalSpecies","other"),specimen:g,deliveryStatus:i}),H=t().shape({animalSpecies:i,animalSpeciesOther:p("animalSpecies","other"),specimen:g,deliveryStatus:i,testItems:s().of(t().shape({amount:m().when("item",{is:e=>e!==void 0&&e!=="",then:e=>e.concat(c.min(1))}),otherItemName:f("item","other",i)})).when((e,n)=>(e[0].filter(T=>T.item!==void 0).length===0?n.innerType.fields.item=a().required():delete n.innerType.fields.item,n))}),Y=t().shape({animalSpecies:h,animalSpeciesOther:p("animalSpecies","other"),deliveryStatus:i,noOfSpecies:c}),j=t().shape({animalSpecies:i,animalSpeciesOther:p("animalSpecies","other"),specimen:g,deliveryStatus:i,testItems:E}),G=t().shape({animalSpecies:i,animalSpeciesOther:p("animalSpecies","other"),specimen:g,deliveryStatus:i,testItems:E}),J=t().shape({animalSpecies:i,animalSpeciesOther:p("animalSpecies","other"),specimen:g,testItems:s().of(t().shape({method:i,drug:i,amount:c}))}),O=t().shape({inspectionItems:h,cbc:o("inspectionItems","cbc",M),bloodChemistry:o("inspectionItems","bloodChemistry",H),urineAssay:o("inspectionItems","urineAssay",Y),luminex:o("inspectionItems","luminex",G),elisa:o("inspectionItems","elisa",j),plateletAggregation:o("inspectionItems","plateletAggregation",J)}),N=t().shape({organs:s().required().min(1)}),D=t().shape({animalSpecies:h,animalSpeciesOther:p("animalSpecies","other"),tissueType:P,staining:h,psrskNo:d("staining","picroSiriusRedStainKit"),tskNo:d("staining","trichromeStrainKit"),oroskNo:d("staining","oilRedOStainKit"),abskNo:d("staining","alcianBlueStainKit"),tunelNo:d("staining","tunel"),otherStainingInput:p("staining","other"),otherStainingNo:d("staining","other"),ihcOrganItems:b("staining",["ihc"]),ifOrganItems:b("staining",["if"])}),R=t().shape({type:i,magnification:S("type","可見光",i,a()),quantity:k("type",["可見光","螢光"],c,m()),channel:S("type","螢光",h,s())}),C=t().shape({species:i,strain:i,age:c,gender:i,specimenDescription:i,terms:i}),U=t().shape({sampleNumber:c,sampleId:i,sampleType:i,otherSampleTypeInput:a().when("sampleType",{is:"other",then:e=>e.required()})}),W=t().shape({sampleNumber:c,sampleId:i,sampleType:i,otherSampleTypeInput:a().when("sampleType",{is:"other",then:e=>e.required()})}),oe=t().shape({contact:i,contactTel:i,contactEmail:y,scheduledDeliveryDate:l().required(),experimentType:h,radiology:o("experimentType","radiology",U),other:o("experimentType","other",W),uploadedSampleSheetFile:u().when("experimentType",{is:e=>w(e),then:e=>e.required()}),pathologicalExpType:s().when("experimentType",{is:e=>w(e),then:e=>e.of(i).required().min(1)}),blood:o("pathologicalExpType","Blood",O),tissueSection:o("pathologicalExpType","TissueSection",N),ihc:o("pathologicalExpType","ihc",D),slideScanning:o("pathologicalExpType","SlideScanning",R),histopathology:o("pathologicalExpType","Histopathology",C)}),se=u().test("sampleSheetFile","請上傳 CSV 檔",function(e){return e&&L(e)}),re=u().test("sampleSheetFile","請上傳 PDF 檔",function(e){return e&&Q(e)}),X=t().shape({organs:h,otherOrganInput:a().when("organs",{is:e=>e!==void 0&&e.includes("Other"),then:e=>e.required()})}),ce=t().shape({organ:i,otherOrganName:S("organ","Other",i,a()),no:c,items:s().of(t().shape({primaryAntibody:i,hostOther:q("host","other")}))}),pe=t().shape({fixativeTime:i,sectionType:i,organs:F("sectionType",s().of(t().shape({tissueBlockNumber:S("haveTissueBlock","yes",i,a()),name:x("haveTissueBlock","yes",i,a()),otherOrgan:S("name","Other",i,a()),no:B("haveTissueBlock","yes",c,m()),method:x("haveTissueBlock","yes",h,s())})).required(),s()),blank:F("sectionType",i,a()),he:F("sectionType",i,a())}),v=e=>e!==void 0&&(e.includes("IHC")||e.includes("IF"));t().shape({staining:s().test("staining","Staining and Slide Scanning are mutually exclusive, choose one is required.",function(e,n){const{slideScanning:r}=n.parent;return r!==void 0&&r.length!==0||e!==void 0&&e.length!==0}),otherStainingInput:a().when("staining",{is:e=>e!==void 0&&e.includes("other"),then:e=>e.required()}),slideScanning:s().test("slideScanning","Staining and Slide Scanning are mutually exclusive, choose one is required.",function(e,n){const{staining:r}=n.parent;return r!==void 0&&r.length!==0||e!==void 0&&e.length!==0}),primaryAntibody:a().when("staining",{is:v,then:e=>e.required()}),primaryAntibodySpecies:s().when("staining",{is:v,then:e=>e.concat(h)}),otherPrimaryAntibodySpeciesInput:a().when("primaryAntibodySpecies",{is:e=>e!==void 0&&e.includes("other"),then:e=>e.required()}),secondaryAntibody:a().test("secondaryAntibody","Secondary Antibody is required when Primary Antibody is filled.",function(e){const{secondaryAntibodySpecies:n}=this.parent;return!(n!==void 0&&n.length!==0&&!e)}),secondaryAntibodySpecies:s().test("secondaryAntibodySpecies","Secondary Antibody Species is required when Secondary Antibody is filled.",function(e){const{secondaryAntibody:n}=this.parent;return!(n!==void 0&&n!==""&&(!e||e.length===0))}),otherSecondaryAntibodySpeciesInput:a().when("secondaryAntibodySpecies",{is:e=>e!==void 0&&e.includes("other"),then:e=>e.required()})}).concat(X);const Z=t().shape({administratedSubstance:i,compounds:i,otherCompounds:p("compounds","commercial"),otherCompoundsFile:$("compounds","commercial"),compoundSterile:p("compounds","novel"),hazardous:i,hazardousDescription:q("hazardous","yes"),anticipatedSymptoms:i,anticipatedSymptomsDescription:q("anticipatedSymptoms","yes"),viralVector:i,viralVectorDescription:q("viralVector","yes")}),_=t().shape({cellLineName:i,cellLineType:i,cellLineSource:h,otherCellLineSource:p("cellLineSource","others"),consistentSheddingVirus:i}),ee=t().shape({description:i,euthanasia:i,organStudy:h,otherOrganStudy:a().when("organStudy",{is:e=>V("other",e),then:e=>e.concat(i)}),terms:i}),ie=s().of(t().shape({strain:i,ratOtherStrain:p("strain","ratOther"),miceOtherStrain:a().when("strain",{is:"miceOther",then:e=>e.required()}),special:a().when("strain",{is:e=>["ratOther","miceOther"].includes(e),then:e=>e.required()}),specialExplain:a().when("special",{is:"Y",then:e=>e.required()}),age:i,maleQty:m().test("maleQty","required",function(e,n){return!(e===void 0||e<=0)|!(n.parent.femaleQty===void 0||n.parent.femaleQty<=0)}),femaleQty:m().test("femaleQty","required",function(e,n){return!(e===void 0||e<=0)|!(n.parent.maleQty===void 0||n.parent.maleQty<=0)}),sendingCagesQty:m().min(1).required(),expCage:m().min(1).required()})),te=t().shape({entrustedPi:i,contact:i,contactTel:i,contactEmail:y,animalType:i,deliveries:ie,animalArrivalDate:l().required().min(new Date,"Date must be greater than today"),animalArrivalTime:i,mouseSource:i,iacucNo:i,iacucDate:l().required(),iacucEmail:y,iacucProtocol:u().required(),healthMonitoringReport:u().required(),foodType:i,foodTypeDescription:A("foodType","normal"),waterType:i,waterTypeDescription:A("waterType","normal"),animalNo:i,alone:i,medicationInfo:f("showMedicationInfoFrom",!0,Z),cellLineInfo:f("showCellLineInfoFrom",!0,_),pathologicalExp:i,identificationMethod:i,imf:u().when("identificationMethod",{is:"Y",then:e=>e.required()}),pathologicalExpType:s().when("pathologicalExp",{is:"Y",then:e=>e.concat(h)}),blood:o("pathologicalExpType","Blood",O),tissueSection:o("pathologicalExpType","TissueSection",N),ihc:o("pathologicalExpType","ihc",D),slideScanning:o("pathologicalExpType","SlideScanning",R),histopathology:o("pathologicalExpType","Histopathology",C),necropsy:f("necropsyApplication","Y",ee)}),ne=s().required().of(te);t().shape({livingForms:ne});const he=t().shape({expDateStart:l().required("必填"),expDateEnd:l().required("必填").when("expDateStart",{is:e=>e!==void 0,then:e=>e.test("is-after-start-exp-date","結束日期早於起始日期",function(n){const r=this.resolve(z("expDateStart"));return r?n&&n>r:!0})}),liaison:c,drugScreening:i,terms:i}),me=t().shape({drugScreening:i}),le=t().shape({piEmail:y,contactEmail:y,contactPhone:i,code:i,name:i,organization:i,department:i,cooperate:K,projectSource:i,executionPeriodFrom:l().required(),executionPeriodTo:l().required()});export{me as A,he as T,re as a,ce as i,te as l,oe as n,le as p,se as s,pe as t};
