import{d as B,r as u,a as S,e as b,o as l,f as m,B as C,y as I,h as n,w as a,z as y,g as e,S as M,j as g,F as k,x as N,t as V}from"./index-501cd1c4.js";import{L as F}from"./LayoutManagement-9445bbd5.js";import{L as A}from"./LocationService-d3f74d48.js";const j=e("h4",{class:"fw-bold py-3 mb-4"},"入室前所在地管理",-1),q={class:"mb-2"},z=e("label",{for:"name",class:"form-label"},"入室前所在地名稱",-1),D={class:"d-flex flex-row-reverse"},E={class:"table display",id:"instrument"},T=e("thead",null,[e("tr",null,[e("th",null,"狀態"),e("th",null,"Name"),e("th")])],-1),$={class:"form-check form-switch"},G=["checked","onInput"],H=e("i",{class:"bi bi-pencil-square"},null,-1),P=B({__name:"LocationManagement",props:{message:{},success:{type:Boolean}},setup(v){const d=v,_=A.getInstance(),h=u(d.success||!0),r=u(d.message||""),p=u([]),{handleSubmit:w}=S({initialValues:{name:""}}),f=w(async o=>{try{const t=await _.filterLocations(o.name);p.value=t}catch(t){h.value=!1,r.value=t.message}}),x=async(o,t)=>{const i=o.target;try{await _.enableLocation(t,i.checked)}catch{}};return(o,t)=>{const i=b("AppMessage"),c=b("router-link");return l(),m(k,null,[j,r.value?(l(),C(i,{key:0,message:r.value,success:h.value},null,8,["message","success"])):I("",!0),n(F,null,{addButtonSm:a(()=>[n(c,{to:"/location/create",class:"form-control btn btn-secondary"},{default:a(()=>[y("新增入室前所在地")]),_:1})]),addButton:a(()=>[n(c,{to:"/location/create",class:"form-control btn btn-secondary"},{default:a(()=>[y("新增入室前所在地")]),_:1})]),filterForm:a(()=>[e("form",null,[e("div",q,[z,n(M,{id:"name",name:"name"})]),e("div",D,[e("button",{type:"button",class:"btn btn-primary",onClick:t[0]||(t[0]=(...s)=>g(f)&&g(f)(...s))},"Search")])])]),table:a(()=>[e("table",E,[T,e("tbody",null,[(l(!0),m(k,null,N(p.value,s=>(l(),m("tr",{key:s.id},[e("td",null,[e("div",$,[e("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckChecked",checked:s.status,onInput:L=>x(L,s.id)},null,40,G)])]),e("td",null,V(s.name),1),e("td",null,[n(c,{to:{name:"LocationModification",params:{locationId:s.id}}},{default:a(()=>[H]),_:2},1032,["to"])])]))),128))])])]),_:1})],64)}}});export{P as default};
