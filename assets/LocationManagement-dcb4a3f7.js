import{d as B,r as d,c as C,h as f,o as i,i as m,C as L,A as S,k as c,w as a,B as b,j as e,ab as F,m as k,F as y,z as M,t as N}from"./index-c3923e02.js";import{L as V}from"./LayoutManagement-576ce3e2.js";import{b as I,c as A}from"./LocationApi-2a0b8f6c.js";const E=e("h4",{class:"fw-bold py-3 mb-4"},"入室前所在地管理",-1),j={class:"mb-2"},q=e("label",{for:"name",class:"form-label"},"入室前所在地名稱",-1),z={class:"d-flex flex-row-reverse"},D={class:"table display",id:"instrument"},T=e("thead",null,[e("tr",null,[e("th",null,"狀態"),e("th",null,"Name"),e("th")])],-1),$={class:"form-check form-switch"},G=["checked","onInput"],H=e("i",{class:"bi bi-pencil-square"},null,-1),P=B({__name:"LocationManagement",props:{message:{},success:{type:Boolean}},setup(g){const h=g,u=d(h.success||!0),l=d(h.message||""),p=d([]),{handleSubmit:v}=C({initialValues:{name:""}}),_=v(async r=>{try{const t=await I(r.name);p.value=t.data}catch(t){u.value=!1,l.value=t.message}}),w=async(r,t)=>{const o=r.target;try{await A(t,o.checked)}catch(n){u.value=!1,l.value=n.message,o.checked=!o.checked}};return(r,t)=>{const o=f("AppMessage"),n=f("router-link");return i(),m(y,null,[E,l.value?(i(),L(o,{key:0,message:l.value,success:u.value},null,8,["message","success"])):S("",!0),c(V,null,{addButtonSm:a(()=>[c(n,{to:"/location/create",class:"form-control btn btn-secondary"},{default:a(()=>[b("新增入室前所在地")]),_:1})]),addButton:a(()=>[c(n,{to:"/location/create",class:"form-control btn btn-secondary"},{default:a(()=>[b("新增入室前所在地")]),_:1})]),filterForm:a(()=>[e("form",null,[e("div",j,[q,c(F,{id:"name",name:"name"})]),e("div",z,[e("button",{type:"button",class:"btn btn-primary",onClick:t[0]||(t[0]=(...s)=>k(_)&&k(_)(...s))},"Search")])])]),table:a(()=>[e("table",D,[T,e("tbody",null,[(i(!0),m(y,null,M(p.value,s=>(i(),m("tr",{key:s.id},[e("td",null,[e("div",$,[e("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckChecked",checked:s.status,onInput:x=>w(x,s.id)},null,40,G)])]),e("td",null,N(s.name),1),e("td",null,[c(n,{to:{name:"LocationModification",params:{locationId:s.id}}},{default:a(()=>[H]),_:2},1032,["to"])])]))),128))])])]),_:1})],64)}}});export{P as default};
