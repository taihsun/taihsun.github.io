import{ae as r,af as n,ag as i,ah as p,ai as a,aj as c,ak as u,al as d,am as o,an as N,ao as l,ap as R,aq as h,ar as L,as as S,at as g,au as y,av as Q,aw as k,ax as P,ay as b,az as I,aA as v}from"./index-c3923e02.js";const F=r().required().of(n().shape({itemName:i,sampleNo:p,duplicate:p})),T=e=>e!==void 0&&e.includes("radiology"),w=e=>e!==void 0&&e.includes("pathology"),f=r().of(n().shape({item:a(),amount:a().when("item",{is:e=>e!==void 0&&e!=="",then:e=>p,otherwise:e=>a().notRequired()}),otherItem:c("item","other")})).when((e,t)=>{const s=e[0],m=s==null?void 0:s.filter(q=>q.item!==void 0);return m&&m.length===0?t.innerType.fields.item=a().required():t.innerType.fields.item=a(),t}),z=n().shape({animalSpecies:i,animalSpeciesOther:c("animalSpecies","other"),specimen:f,deliveryStatus:i}),$=n().shape({animalSpecies:i,animalSpeciesOther:c("animalSpecies","other"),specimen:f,deliveryStatus:i,testItems:r().of(n().shape({amount:u().when("item",{is:e=>e!==void 0&&e!=="",then:e=>e.concat(p.min(1))})})).when((e,t)=>(e[0].filter(q=>q.item!==void 0).length===0?t.innerType.fields.item=a().required():delete t.innerType.fields.item,t))}),V=n().shape({animalSpecies:d,animalSpeciesOther:c("animalSpecies","other"),deliveryStatus:i,noOfSpecies:p}),M=n().shape({animalSpecies:i,animalSpeciesOther:c("animalSpecies","other"),specimen:f,deliveryStatus:i,testItems:F}),K=n().shape({animalSpecies:i,animalSpeciesOther:c("animalSpecies","other"),specimen:f,deliveryStatus:i,testItems:F}),Y=n().shape({animalSpecies:i,animalSpeciesOther:c("animalSpecies","other"),specimen:f,testItems:r().of(n().shape({method:i,drug:i,amount:p}))}),A=n().shape({inspectionItems:d,cbc:o("inspectionItems","cbc",z),bloodChemistry:o("inspectionItems","bloodChemistry",$),urineAssay:o("inspectionItems","urineAssay",V),luminex:o("inspectionItems","luminex",K),elisa:o("inspectionItems","elisa",M),plateletAggregation:o("inspectionItems","plateletAggregation",Y)}),E=n().shape({organs:r().required().min(1)}),O=n().shape({animalSpecies:d,animalSpeciesOther:c("animalSpecies","other"),tissueType:N,staining:d,ihcNo:l("staining","ihc"),ifNo:l("staining","if"),psrskNo:l("staining","picroSiriusRedStainKit"),tskNo:l("staining","trichromeStrainKit"),oroskNo:l("staining","oilRedOStainKit"),abskNo:l("staining","alcianBlueStainKit"),tunelNo:l("staining","tunel"),otherStainingInput:c("staining","other"),otherStainingNo:l("staining","other"),organs:R("staining",["ihc","if"])}),D=n().shape({type:i,magnification:h("type","visibleLight"),quantity:p,channel:L("type","fluorescence")}),C=n().shape({species:i,strain:i,age:i,gender:i,specimenDescription:i,terms:i}),W=n().shape({contact:i,contactTel:i,contactEmail:S,liaison:i,scheduledDeliveryDate:g().required(),experimentType:d,sampleNumber:u().when("experimentType",{is:e=>T(e),then:e=>e.required()}),sampleId:a().when("experimentType",{is:e=>T(e),then:e=>e.required()}),sampleType:a().when("experimentType",{is:e=>T(e),then:e=>e.required()}),otherSampleTypeInput:a().when("sampleType",{is:"other",then:e=>e.required()}),uploadedSampleSheetFile:y().when("experimentType",{is:e=>w(e),then:e=>e.required()}),pathologicalExpType:r().when("experimentType",{is:e=>w(e),then:e=>e.of(i).required().min(1)}),blood:o("pathologicalExpType","Blood",A),tissueSection:o("pathologicalExpType","TissueSection",E),ihc:o("pathologicalExpType","ihc",O),slideScanning:o("pathologicalExpType","SlideScanning",D),histopathology:o("pathologicalExpType","Histopathology",C)}),X=y().test("sampleSheetFile","請上傳 CSV 檔",function(e){return e&&Q(e)}),j=n().shape({organs:d,otherOrganInput:a().when("organs",{is:e=>e!==void 0&&e.includes("Other"),then:e=>e.required()})}),Z=n().shape({organ:i,no:p,items:r().of(n().shape({primaryAntibody:i,hostOther:h("host","other")}))}),_=n().shape({fixativeTime:i,sectionType:i,organs:r().required().of(n().shape({name:i,no:p,method:d})),blank:i,he:h("sectionType","paraffin")}),x=e=>e!==void 0&&(e.includes("IHC")||e.includes("IF"));n().shape({staining:r().test("staining","Staining and Slide Scanning are mutually exclusive, choose one is required.",function(e,t){const{slideScanning:s}=t.parent;return s!==void 0&&s.length!==0||e!==void 0&&e.length!==0}),otherStainingInput:a().when("staining",{is:e=>e!==void 0&&e.includes("other"),then:e=>e.required()}),slideScanning:r().test("slideScanning","Staining and Slide Scanning are mutually exclusive, choose one is required.",function(e,t){const{staining:s}=t.parent;return s!==void 0&&s.length!==0||e!==void 0&&e.length!==0}),primaryAntibody:a().when("staining",{is:x,then:e=>e.required()}),primaryAntibodySpecies:r().when("staining",{is:x,then:e=>e.concat(d)}),otherPrimaryAntibodySpeciesInput:a().when("primaryAntibodySpecies",{is:e=>e!==void 0&&e.includes("other"),then:e=>e.required()}),secondaryAntibody:a().test("secondaryAntibody","Secondary Antibody is required when Primary Antibody is filled.",function(e){const{secondaryAntibodySpecies:t}=this.parent;return!(t!==void 0&&t.length!==0&&!e)}),secondaryAntibodySpecies:r().test("secondaryAntibodySpecies","Secondary Antibody Species is required when Secondary Antibody is filled.",function(e){const{secondaryAntibody:t}=this.parent;return!(t!==void 0&&t!==""&&(!e||e.length===0))}),otherSecondaryAntibodySpeciesInput:a().when("secondaryAntibodySpecies",{is:e=>e!==void 0&&e.includes("other"),then:e=>e.required()})}).concat(j);const B=n().shape({administratedSubstance:i,compounds:i,otherCompounds:c("compounds","commercial"),otherCompoundsFile:k("compounds","commercial"),compoundSterile:c("compounds","novel"),hazardous:i,hazardousDescription:h("hazardous","yes"),anticipatedSymptoms:i,anticipatedSymptomsDescription:h("anticipatedSymptoms","yes"),viralVector:i,viralVectorDescription:h("viralVector","yes")}),H=n().shape({cellLineName:i,cellLineType:i,cellLineSource:d,otherCellLineSource:c("cellLineSource","others"),consistentSheddingVirus:i}),G=n().shape({description:i,euthanasia:i,organStudy:d,otherOrganStudy:a().when("organStudy",{is:e=>P("other",e),then:e=>e.concat(i)}),terms:i}),J=r().of(n().shape({strain:i,ratOtherStrain:c("strain","ratOther"),miceOtherStrain:a().when("strain",{is:"miceOther",then:e=>e.required()}),special:a().when("strain",{is:e=>["ratOther","miceOther"].includes(e),then:e=>e.required()}),specialExplain:a().when("special",{is:"Y",then:e=>e.required()}),age:i,maleQty:u().test("maleQty","required",function(e,t){return!(e===void 0||e<=0)|!(t.parent.femaleQty===void 0||t.parent.femaleQty<=0)}),femaleQty:u().test("femaleQty","required",function(e,t){return!(e===void 0||e<=0)|!(t.parent.maleQty===void 0||t.parent.maleQty<=0)}),sendingCagesQty:u().min(1).required(),expCage:u().min(1).required()})),ee=n().shape({contact:i,contactTel:i,contactEmail:S,animalType:i,deliveries:J,animalArrivalDate:g().required().min(new Date,"Date must be greater than today"),animalArrivalTime:i,mouseSource:i,liaison:i,iacucNo:i,iacucDate:g().required(),iacucEmail:S,iacucProtocol:y().required(),foodType:i,foodTypeDescription:b("foodType","normal"),waterType:i,waterTypeDescription:b("waterType","normal"),animalNo:i,alone:i,showMedicationInfoFrom:i,medicationInfo:I("showMedicationInfoFrom","true",B),showCellLineInfoFrom:i,cellLineInfo:I("showCellLineInfoFrom","true",H),pathologicalExp:i,identificationMethod:i,pathologicalExpType:r().when("pathologicalExp",{is:"Y",then:e=>e.concat(d)}),blood:o("pathologicalExpType","Blood",A),tissueSection:o("pathologicalExpType","TissueSection",E),ihc:o("pathologicalExpType","ihc",O),slideScanning:o("pathologicalExpType","SlideScanning",D),histopathology:o("pathologicalExpType","Histopathology",C),necropsy:I("necropsyApplication","Y",G)}).when((e,t)=>{const s={};return e[0].identificationMethod==="Y"?s.imf=y().test("imf","required",function(m){return m!==void 0&&m.size!==void 0&&m.size!==0}):s.identificationMethodFile=y(),t.shape(s)}),ie=n().shape({drugScreening:i,terms:i,items:r().of(n().shape({expDateStart:g().required("必填"),expDateEnd:g().required("必填").when("expDateStart",{is:e=>e!==void 0,then:e=>e.test("is-after-start-exp-date","結束日期早於起始日期",function(t){const s=this.resolve(v("expDateStart"));return s?t&&t>s:!0})})}))}),ne=n().shape({piEmail:S,coPiEmail:S,contactEmail:S,contactPhone:i,code:i,name:i,organization:i,department:i,cooperate:i,projectSource:i,deadline:i,executionPeriodFrom:h("deadline","yes"),executionPeriodTo:h("deadline","yes")});export{ie as c,Z as i,ee as l,W as n,ne as p,X as s,_ as t};
