import{r as l,e as h,o as n,f as o,B as S,y as T,h as c,w as s,F as p,g as e,z as y,i as g,aY as V,x,j as k,E as D,aZ as C,t as a,a7 as F}from"./index-72e9df21.js";import{L}from"./LayoutManagement-a83fc81f.js";import{I as A}from"./InstrumentService-bf91c3ca.js";import"./InstrumentApi-7eda8300.js";const E=e("h4",{class:"fw-bold py-3 mb-4"},"儀器管理",-1),O={class:"mb-2"},U=e("label",{for:"labType",class:"form-label"},"單位",-1),j=e("option",{value:""},"請選擇",-1),q=["value"],z={class:"mb-2"},Y=e("label",{for:"name",class:"form-label"},"名稱",-1),Z={class:"table display",id:"instrument"},G=e("thead",null,[e("tr",null,[e("th",null,"單位"),e("th",null,"NO."),e("th",null,"Name"),e("th",null,"Official service begin date"),e("th",null,"Function description"),e("th")])],-1),H={class:"d-inline-block text-truncate",style:{"max-width":"100px"}},J=e("i",{class:"bi bi-pencil-square"},null,-1),W={__name:"InstrumentManagement",props:["message","success"],setup(B){const f=B,w=A.getInstance(),u=l(""),i=l(""),d=l(f.message||""),_=l(f.success||!0),b=l([]),I=C();async function M(){try{b.value=await w.filterInstruments(u.value,i.value)}catch(v){_.value=!1,d.value=v.message}}return(v,r)=>{const N=h("AppMessage"),m=h("router-link");return n(),o(p,null,[E,d.value?(n(),S(N,{key:0,message:d.value,success:_.value},null,8,["message","success"])):T("",!0),c(L,null,{addButtonSm:s(()=>[c(m,{to:"/instrument/create",class:"form-control btn btn-secondary"},{default:s(()=>[y("新增儀器")]),_:1})]),addButton:s(()=>[c(m,{to:"/instrument/create",class:"form-control btn btn-secondary"},{default:s(()=>[y("新增儀器")]),_:1})]),filterForm:s(()=>[e("form",null,[e("div",O,[U,g(e("select",{class:"form-select",id:"labType","onUpdate:modelValue":r[0]||(r[0]=t=>u.value=t)},[j,(n(!0),o(p,null,x(k(I),t=>(n(),o("option",{key:t.id,value:t.id},a(t.name),9,q))),128))],512),[[V,u.value]])]),e("div",z,[Y,g(e("input",{type:"text",class:"form-control","onUpdate:modelValue":r[1]||(r[1]=t=>i.value=t)},null,512),[[D,i.value]])]),e("div",{class:"d-flex flex-row-reverse"},[e("button",{type:"button",class:"btn btn-primary",onClick:M},"Search")])])]),table:s(()=>[e("table",Z,[G,e("tbody",null,[(n(!0),o(p,null,x(b.value,t=>(n(),o("tr",{key:t.id},[e("td",null,a(t.labType),1),e("td",null,a(t.no),1),e("td",null,a(t.name),1),e("td",null,a(k(F)(t.officialServiceBeginDate)),1),e("td",null,[e("span",H,a(t.functionDescription),1)]),e("td",null,[c(m,{to:{name:"InstrumentModification",params:{instrumentId:t.id}}},{default:s(()=>[J]),_:2},1032,["to"])])]))),128))])])]),_:1})],64)}}};export{W as default};
