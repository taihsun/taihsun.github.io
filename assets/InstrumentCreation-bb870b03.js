import{d as S,c as y,r as f,aC as C,h as d,o as b,i as x,C as B,A as k,j as s,m as p,k as a,w as A,B as F,F as D}from"./index-c3923e02.js";import{g as N}from"./api-9f51bc32.js";import{u as I}from"./FormSchemaStore-2dcac12c.js";class h{constructor(n,e,_,t,c,u,i){this.id=n,this.labType=e,this.no=_,this.name=t,this.officialServiceBeginDate=c,this.functionDescription=u,this.deletable=i}static create(n){const e=new h;return Object.assign(e,n),e}}const T=s("h4",{class:"fw-bold py-3 mb-4"},"新增儀器",-1),V={class:"row"},j={class:"col-xxl"},O={class:"card mb-4"},M={class:"card-body"},E={class:"row mb-3"},L=s("label",{for:"labType",class:"col-sm-3 col-form-label red-star"},"單位 ",-1),q={class:"col-sm-4"},z={class:"row mb-3"},G=s("label",{for:"no",class:"col-sm-3 col-form-label red-star"},"NO. ",-1),H={class:"col-sm-4"},J={class:"row mb-3"},K=s("label",{for:"name",class:"col-sm-3 col-form-label red-star"},"名稱 ",-1),P={class:"col-sm-4"},Q={class:"row mb-3"},R=s("label",{for:"officialServiceBeginDate",class:"col-sm-3 col-form-label"},"Official service begin date",-1),U={class:"col-sm-4"},W={class:"row mb-3"},X=s("label",{for:"functionDescription",class:"col-sm-3 col-form-label red-star"},"Function description ",-1),Y={class:"col-sm-4"},Z={class:"d-flex justify-content-between flex-row-reverse"},$=s("button",{type:"submit",class:"btn btn-primary"},"新增",-1),as=S({__name:"InstrumentCreation",setup(ss){const{instrumentCreationFormSchema:n}=I(),{handleSubmit:e,resetForm:_}=y({validationSchema:n}),t=f(""),c=f(!1),u=C().map(o=>({id:o.id,name:o.name,value:o.id.toString()})),i=e(async o=>{const l=h.create(o);await N(l).then(r=>{c.value=!0,t.value=r,_({})}).catch(function(r){c.value=!1,t.value=r.message})});return(o,l)=>{const r=d("AppMessage"),v=d("AppSelect"),m=d("AppInput"),g=d("router-link");return b(),x(D,null,[T,t.value?(b(),B(r,{key:0,message:t.value,success:c.value},null,8,["message","success"])):k("",!0),s("div",V,[s("form",{onSubmit:l[0]||(l[0]=(...w)=>p(i)&&p(i)(...w))},[s("div",j,[s("div",O,[s("div",M,[s("div",E,[L,s("div",q,[a(v,{options:p(u),name:"labType","show-error-message":!0},null,8,["options"])])]),s("div",z,[G,s("div",H,[a(m,{name:"no","show-error-message":!0})])]),s("div",J,[K,s("div",P,[a(m,{name:"name","show-error-message":!0})])]),s("div",Q,[R,s("div",U,[a(m,{name:"officialServiceBeginDate",type:"date"})])]),s("div",W,[X,s("div",Y,[a(m,{name:"functionDescription","show-error-message":!0})])])])])]),s("div",Z,[$,a(g,{to:"/instrument/management",class:"btn btn-outline-primary"},{default:A(()=>[F("回儀器管理")]),_:1})])],32)])],64)}}});export{as as default};
