import{r as l,h,o as n,c as o,B as S,z as T,j as c,w as s,F as p,a as e,A as y,k as g,aY as V,y as k,l as x,G as D,aZ as C,t as a,ab as F}from"./index-8fed8339.js";import{L}from"./LayoutManagement-3c263d8e.js";import{I as A}from"./InstrumentService-b871267b.js";import"./InstrumentApiImpl-695594c2.js";const O=e("h4",{class:"fw-bold py-3 mb-4"},"儀器管理",-1),U={class:"mb-2"},j=e("label",{for:"labType",class:"form-label"},"單位",-1),q=e("option",{value:""},"請選擇",-1),z=["value"],E={class:"mb-2"},G=e("label",{for:"name",class:"form-label"},"名稱",-1),Y={class:"table display",id:"instrument"},Z=e("thead",null,[e("tr",null,[e("th",null,"單位"),e("th",null,"NO."),e("th",null,"Name"),e("th",null,"Official service begin date"),e("th",null,"Function description"),e("th")])],-1),H={class:"d-inline-block text-truncate",style:{"max-width":"100px"}},J=e("i",{class:"bi bi-pencil-square"},null,-1),W={__name:"InstrumentManagement",props:["message","success"],setup(B){const f=B,w=A.getInstance(),u=l(""),i=l(""),d=l(f.message||""),_=l(f.success||!0),b=l([]),I=C();async function M(){try{b.value=await w.filterInstruments(u.value,i.value)}catch(v){_.value=!1,d.value=v.message}}return(v,r)=>{const N=h("AppMessage"),m=h("router-link");return n(),o(p,null,[O,d.value?(n(),S(N,{key:0,message:d.value,success:_.value},null,8,["message","success"])):T("",!0),c(L,null,{addButtonSm:s(()=>[c(m,{to:"/instrument/create",class:"form-control btn btn-secondary"},{default:s(()=>[y("新增儀器")]),_:1})]),addButton:s(()=>[c(m,{to:"/instrument/create",class:"form-control btn btn-secondary"},{default:s(()=>[y("新增儀器")]),_:1})]),filterForm:s(()=>[e("form",null,[e("div",U,[j,g(e("select",{class:"form-select",id:"labType","onUpdate:modelValue":r[0]||(r[0]=t=>u.value=t)},[q,(n(!0),o(p,null,k(x(I),t=>(n(),o("option",{key:t.id,value:t.id},a(t.name),9,z))),128))],512),[[V,u.value]])]),e("div",E,[G,g(e("input",{type:"text",class:"form-control","onUpdate:modelValue":r[1]||(r[1]=t=>i.value=t)},null,512),[[D,i.value]])]),e("div",{class:"d-flex flex-row-reverse"},[e("button",{type:"button",class:"btn btn-primary",onClick:M},"Search")])])]),table:s(()=>[e("table",Y,[Z,e("tbody",null,[(n(!0),o(p,null,k(b.value,t=>(n(),o("tr",{key:t.id},[e("td",null,a(t.labType),1),e("td",null,a(t.no),1),e("td",null,a(t.name),1),e("td",null,a(x(F)(t.officialServiceBeginDate)),1),e("td",null,[e("span",H,a(t.functionDescription),1)]),e("td",null,[c(m,{to:{name:"InstrumentModification",params:{instrumentId:t.id}}},{default:s(()=>[J]),_:2},1032,["to"])])]))),128))])])]),_:1})],64)}}};export{W as default};
