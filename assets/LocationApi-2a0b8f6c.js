var p=Object.defineProperty;var b=(t,e,a)=>e in t?p(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a;var u=(t,e,a)=>(b(t,typeof e!="symbol"?e+"":e,a),a);import{aL as c,aM as i,aD as L,aE as f,aN as s,aO as d}from"./index-c3923e02.js";const m=()=>Math.floor(1e4+Math.random()*9e4);class I{constructor(e){u(this,"key");this.key=e}findById(e){return c(this.key).find(n=>n.id===e)}updateObject(e){const a=c(this.key),n=a.findIndex(r=>r.id===e.id);a[n]=e,i(this.key,a)}getObjects(){return c(this.key)||[]}createObject(e){const a=this.getObjects();a.push(e),i(this.key,a)}deleteObject(e){const a=this.getObjects(),n=a.findIndex(r=>r.id===e);a.splice(n,1),i(this.key,a)}}const l="locations",o=new I(l),O=async t=>{const e={id:m(),name:t,status:!0};o.createObject(e)},j=t=>c(l).filter(a=>!t||a.name.includes(t)),y=t=>o.findById(t),h=t=>{o.updateObject(t)},k=t=>{o.deleteObject(t)},g=()=>o.getObjects().filter(t=>t.status);L.create({baseURL:"http://localhost:8080/Ratatouille/api/location",headers:f()});const E=async t=>(O(t),s("新增入室前所在地成功")),R=async t=>{const e=j(t);return s(e)},D=async t=>s(y(t)),F=async t=>{try{return h(t),s("更新成功")}catch{return d()}},M=async(t,e)=>{try{const a=y(t);return a.status=e,h(a),s("更新成功")}catch{return d()}},S=async t=>{try{return k(t),s("刪除成功")}catch{return d()}},N=()=>{const t=g();return s(t)};export{N as a,R as b,M as c,E as d,D as e,F as f,S as g};
