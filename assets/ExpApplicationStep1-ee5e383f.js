import{u as w,I as C,p as D,M as I,m as P,r as U,N as B,O as N,e as F,o as g,B as G,i,k as n,g as e,t as p,h as l,P as $,f as v,s as S,F as V,Q as r,R as M,n as d,S as R,T as z,z as o}from"./index-dfa148fa.js";import{c as L}from"./formSchema-e2f19200.js";import"./index.esm-77e4e4df.js";const O={class:"fw-bold py-3 mb-4"},j=e("h5",{class:"mb-0"},"已選擇服務項目",-1),H={class:"table-responsive"},K={class:"table table-striped"},Q=e("thead",null,[e("tr",null,[e("th",null,"Number"),e("th",null,"Service item"),e("th",null,"Note"),e("th",null,"Sample amount"),e("th",null,"TAC安排之實驗時間"),e("th",null,"Comment")])],-1),q={class:"input-group mb-3"},J=["name"],W=e("h5",{class:"mb-0"},"Survey for Drug Screening",-1),X=e("span",{class:"fw-light"}," Is this experiment related to drug screening or development?",-1),Y={class:"form-check my-3"},Z=e("label",{class:"form-check-label",for:"stage0"}," 不適用 ",-1),ee={class:"form-check my-3"},te=e("label",{class:"form-check-label",for:"stage1"},[o(" stage 1. Identification & confirmation of biomarkers, new targets, drugs, bio-medical devices. "),e("br"),o(" 篩選、鑑定及確認:生物標的、分子標靶新藥、新生醫材料、新檢測試劑 ")],-1),ae={class:"form-check mb-2"},se=e("label",{class:"form-check-label",for:"stage2"},[o(" stage 2. Synthesis & improvement of targets. Design & modification of new medical devices. "),e("br"),o(" 潛力標的物之合成及改良:新醫材/試劑之設計/改良 ")],-1),le={class:"form-check my-3"},ne=e("label",{class:"form-check-label",for:"stage3"},[o(" stage 3. Validation with clinical samples. In vitro & in vivo efficacy evaluation. "),e("br"),o(" 臨床檢體驗證、細胞及動物有效性評估 ")],-1),oe={class:"form-check mb-2"},ie=e("label",{class:"form-check-label",for:"stage4"},[o(" stage 4. Optimization of leads & device models-Prototype development- Pilot-scale manufacturing. "),e("br"),o(" 先導藥品及醫材之最適化; 新醫材/試劑產品雛型之開發及試製造 ")],-1),ce={class:"form-check my-3"},re=e("label",{class:"form-check-label",for:"stage5"},[o(" stage 5. Improvement of PK, PD, & formulation- Animal toxicity and safety tests. "),e("br"),o(" 藥理藥動改良;劑型設計;毒理安全性試驗 ")],-1),me={class:"form-check my-3"},de=e("label",{class:"form-check-label",for:"stage6"},[o(" stage 6. IND/IDE applications. "),e("br"),o(" 試驗用藥物: 新醫材/試劑之申請 ")],-1),ue=e("h5",{class:"mb-0"},"Points for Attention",-1),pe=e("ol",null,[e("li",null,[e("a",{class:"link-primary",href:"https://tmc.sinica.edu.tw/sampleprep_c.html",target:"_blank"},"血液、血清、組織及尿液/Blood, Serum, Tissue and Urine")]),e("li",null,[e("a",{class:"link-primary",href:"https://tmc.sinica.edu.tw/slide_c.html",target:"_blank"},"玻片掃描/Slide Scanning")]),e("li",null,[e("a",{class:"link-primary",href:"https://tmc.sinica.edu.tw/femur_c.html",target:"_blank"},"股骨製備/Femur Preparation")]),e("li",null,[e("a",{class:"link-primary",href:" https://tmc.sinica.edu.tw/animal_checkin_c_01.html",target:"_blank"},"動物房/Mouse Hotel ")])],-1),he={class:"form-check form-check-inline"},fe={class:"form-check-label",for:"terms"},ge=e("div",{class:"mb-2 d-flex justify-content-between flex-row-reverse"},[e("button",{class:"btn btn-primary"},"確定申請")],-1),Se={__name:"ExpApplicationStep1",setup(_e){const x=w(),u=C(),k=D(),{items:A}=I(u),E={drugScreening:"",terms:"",items:P.map(A.value,m=>({number:m.number,name:m.name,note:m.note,units:m.units,expDate:"",comment:""}))},s=U(""),T=m=>{console.log(m),k.createExpCase(u.currentLabType,m).then(function(){u.$reset(),k.proceedToStep2()}).catch(function(t){console.log(t)})},y=()=>{x.push("/main")};return B(()=>{u.isEmpty&&y()}),N(()=>{u.isEmpty&&y()}),(m,t)=>{const b=F("AppCard");return g(),G(n(z),{"validation-schema":n(L),onSubmit:T,"initial-values":E},{default:i(({errors:c})=>[e("h4",O,p(n(u).currentLabType)+"服務項目",1),l(b,{class:"mb-2"},{header:i(()=>[j]),body:i(()=>[e("div",H,[e("table",K,[Q,e("tbody",null,[l(n($),{name:"items"},{default:i(({fields:a})=>[(g(!0),v(V,null,S(a,(h,_)=>(g(),v("tr",{key:h.key},[e("td",null,p(h.value.number),1),e("td",null,p(h.value.name),1),e("td",null,p(h.value.note),1),e("td",null,[(g(!0),v(V,null,S(h.value.units,f=>(g(),v("div",{key:f.index},[e("div",q,p(f.amount)+" "+p(f.name),1)]))),128))]),e("td",null,[l(n(r),{type:"date",formate:"yyyy-mm-dd",name:`items[${_}].expDate`},{default:i(({field:f})=>[e("input",M({type:"date",formate:"yyyy-mm-dd",name:`items[${_}].expDate`,class:c[`items[${_}].expDate`]?"form-control is-invalid":"form-control "},f),null,16,J)]),_:2},1032,["name"])]),e("td",null,[l(n(r),{name:`items[${_}].comment`},null,8,["name"])])]))),128))]),_:2},1024)])])])]),_:2},1024),l(b,{class:"mb-2"},{header:i(()=>[W]),title:i(()=>[X]),body:i(()=>[e("div",Y,[l(n(r),{name:"drugScreening",class:d(c.drugScreening?"form-check-input is-invalid":"form-check-input"),type:"radio",value:"NA",id:"stage0",modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=a=>s.value=a)},null,8,["class","modelValue"]),Z]),e("div",ee,[l(n(r),{name:"drugScreening",class:d(c.drugScreening?"form-check-input is-invalid":"form-check-input"),type:"radio",id:"stage1",value:"STAGE1",modelValue:s.value,"onUpdate:modelValue":t[1]||(t[1]=a=>s.value=a)},null,8,["class","modelValue"]),te]),e("div",ae,[l(n(r),{name:"drugScreening",class:d(c.drugScreening?"form-check-input is-invalid":"form-check-input"),type:"radio",id:"stage2",value:"STAGE2",modelValue:s.value,"onUpdate:modelValue":t[2]||(t[2]=a=>s.value=a)},null,8,["class","modelValue"]),se]),e("div",le,[l(n(r),{name:"drugScreening",class:d(c.drugScreening?"form-check-input is-invalid":"form-check-input"),type:"radio",id:"stage3",value:"STAGE3",modelValue:s.value,"onUpdate:modelValue":t[3]||(t[3]=a=>s.value=a)},null,8,["class","modelValue"]),ne]),e("div",oe,[l(n(r),{name:"drugScreening",class:d(c.drugScreening?"form-check-input is-invalid":"form-check-input"),type:"radio",id:"stage4",value:"STAGE4",modelValue:s.value,"onUpdate:modelValue":t[4]||(t[4]=a=>s.value=a)},null,8,["class","modelValue"]),ie]),e("div",ce,[l(n(r),{name:"drugScreening",class:d(c.drugScreening?"form-check-input is-invalid":"form-check-input"),type:"radio",id:"stage5",value:"STAGE5",modelValue:s.value,"onUpdate:modelValue":t[5]||(t[5]=a=>s.value=a)},null,8,["class","modelValue"]),re]),e("div",me,[l(n(r),{name:"drugScreening",class:d(c.drugScreening?"form-check-input is-invalid":"form-check-input"),type:"radio",id:"stage6",value:"STAGE6",modelValue:s.value,"onUpdate:modelValue":t[6]||(t[6]=a=>s.value=a)},null,8,["class","modelValue"]),de])]),_:2},1024),l(b,{class:"mb-2"},{header:i(()=>[ue]),body:i(()=>[e("div",null,[pe,e("div",he,[l(R,{id:"terms",name:"terms","checked-value":"agree"}),e("label",fe,[e("span",{class:d(c.terms?"text-danger":"")}," 我已詳細閱讀注意事項 (I have read the notes for applicants)",2)])])])]),_:2},1024),ge]),_:1},8,["validation-schema"])}}};export{Se as default};
