import{d as x,S as A,T as E,aj as j,A as k,e as C,g as P,h as i,o as F,c as N,a as s,j as o,w as R,l as c,k as T,v as z,F as B}from"./index-69085551.js";import{g as I}from"./ProjectSource-b760b0a5.js";import{p as O}from"./formSchema-e3197880.js";const U=s("h4",{class:"fw-bold py-3 mb-4"},"建立計畫",-1),V={class:"row mb-3"},Y=s("label",{class:"col-sm-2 col-form-label red-star"},"計畫主持人帳號",-1),D={class:"col-sm-10"},q={class:"row mb-3"},G=s("label",{class:"col-sm-2 col-form-label red-star"},"計畫共同負責人帳號",-1),H={class:"col-sm-10"},J={class:"row mb-3"},K=s("label",{class:"col-sm-2 col-form-label red-star"},"主要聯絡人帳號",-1),L={class:"col-sm-10"},M={class:"input-group input-group-merge"},Q={class:"row mb-3"},W=s("label",{class:"col-sm-2 col-form-label red-star"},"主要聯絡人電話",-1),X={class:"col-sm-10"},Z={class:"input-group input-group-merge"},$={class:"row mb-3"},ss=s("label",{class:"col-sm-2 col-form-label red-star"},"計畫編號",-1),os={class:"col-sm-10"},es={class:"row mb-3"},ts=s("label",{class:"col-sm-2 col-form-label red-star"},"計畫名稱",-1),cs={class:"col-sm-10"},ls={class:"row mb-3"},as=s("label",{class:"col-sm-2 col-form-label red-star"},"計畫核銷機構(收據抬頭)",-1),ns={class:"col-sm-10"},is={class:"row mb-3"},ds=s("label",{class:"col-sm-2 col-form-label red-star"},"計畫所屬部門",-1),rs={class:"col-sm-10"},ms={class:"row mb-3"},_s=s("label",{class:"col-sm-2 col-form-label red-star"},"產學合作",-1),ps={class:"col-sm-10"},hs={class:"row mb-3"},us=s("label",{class:"col-sm-2 col-form-label red-star"},"計畫經費來源",-1),bs={class:"col-sm-10"},vs={class:"row mb-3"},fs=s("label",{class:"col-sm-2 col-form-label"},"計畫描述",-1),ws={class:"col-sm-10"},gs={class:"row mb-3"},Ss=s("label",{class:"col-sm-2 col-form-label red-star"},"有無計畫執行期限",-1),ys={class:"col-sm-4"},xs={class:"row mb-3"},As=s("label",{class:"col-sm-2 col-form-label",for:""},"計畫執行期限",-1),Es={class:"col-sm-4"},js={class:"input-group mb-3"},ks=s("span",{class:"input-group-text"},"起",-1),Cs={class:"col-sm-4"},Ps={class:"input-group"},Fs=s("span",{class:"input-group-text"},"迄",-1),Ns=s("div",{class:"mb-2 d-flex justify-content-between flex-row-reverse mt-2"},[s("button",{type:"submit",class:"btn btn-primary"},"建立計畫")],-1),Bs=x({__name:"ExpApplicationStep5",props:{id:{}},setup(u){const b=A(),{loggedInUser:d}=E(b),r=u,v=j().map(t=>({id:t.id.toString(),name:t.name,value:t.id.toString()})),f=I(),m=k(),{values:w,handleSubmit:g}=C({validationSchema:O}),S=P(()=>w.deadline==="yes"),_=g(async t=>{m.createProject(r.id,t).then(()=>{m.proceedToReviewProject(r.id)}).catch(l=>{console.error(l)})});return(t,l)=>{const e=i("AppInput"),p=i("AppSelect"),a=i("AppRadio"),y=i("AppCard");return F(),N(B,null,[U,s("form",{onSubmit:l[0]||(l[0]=(...n)=>c(_)&&c(_)(...n))},[o(y,{class:"mt-2"},{body:R(()=>{var n,h;return[s("div",V,[Y,s("div",D,[o(e,{placeholder:"Email",type:"email",name:"piEmail"})])]),s("div",q,[G,s("div",H,[o(e,{placeholder:"Email",type:"email",name:"coPiEmail"})])]),s("div",J,[K,s("div",L,[s("div",M,[o(e,{placeholder:"Email",type:"email",name:"contactEmail",value:(n=c(d))==null?void 0:n.username},null,8,["value"])])])]),s("div",Q,[W,s("div",X,[s("div",Z,[o(e,{name:"contactPhone",value:(h=c(d))==null?void 0:h.phone},null,8,["value"])])])]),s("div",$,[ss,s("div",os,[o(e,{name:"code"})])]),s("div",es,[ts,s("div",cs,[o(e,{name:"name"})])]),s("div",ls,[as,s("div",ns,[o(p,{name:"organization",options:c(v)},null,8,["options"])])]),s("div",is,[ds,s("div",rs,[o(e,{name:"department"})])]),s("div",ms,[_s,s("div",ps,[o(a,{label:"是",id:"cooperateY",name:"cooperate","checked-value":"yes"}),o(a,{label:"否",id:"cooperateN",name:"cooperate","checked-value":"no"})])]),s("div",hs,[us,s("div",bs,[o(p,{name:"projectSource",options:c(f)},null,8,["options"])])]),s("div",vs,[fs,s("div",ws,[o(e,{name:"description"})])]),s("div",gs,[Ss,s("div",ys,[o(a,{label:"有",id:"deadlineY",name:"deadline","checked-value":"yes"}),o(a,{label:"無",id:"deadlineN",name:"deadline","checked-value":"no"})])]),T(s("div",xs,[As,s("div",Es,[s("div",js,[o(e,{type:"date",name:"executionPeriodFrom"}),ks])]),s("div",Cs,[s("div",Ps,[o(e,{type:"date",name:"executionPeriodTo"}),Fs])])],512),[[z,S.value]])]}),_:1}),Ns],32)],64)}}});export{Bs as default};
