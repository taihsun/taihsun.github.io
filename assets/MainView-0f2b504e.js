import{p as v,A as y,d as A,q as C,s as k,e as w,o as s,f as a,h as I,j as i,g as e,F as d,x as u,y as T,n as b,z as x,t as o}from"./index-501cd1c4.js";const V=(await v(()=>import(y+"TodoListApiImpl"),[],import.meta.url)).default;class c{static instance;api;constructor(n){this.api=n}static getInstance(){return c.instance||(c.instance=new c(V)),c.instance}fetchTodoListArray(){return this.api.apiFetchTodoList()}}const B=e("h4",{class:"fw-bold py-3 mb-4"},"待辦事項",-1),D={key:0,class:"nav-align-top mb-4"},E={class:"nav nav-pills mb-3 nav-fill",role:"tablist"},N=["data-bs-target"],P={class:"badge rounded-pill badge-center h-px-20 w-px-20 bg-danger"},q={class:"tab-content"},F=["id"],M={class:"table-responsive"},$={class:"table table-borderless table-hover"},z=e("thead",null,[e("tr",null,[e("th",null,"Case ID"),e("th",null,"實驗單位"),e("th",null,"申請人"),e("th",null,"建立日期"),e("th")])],-1),L=["onClick"],R=e("i",{class:"bi bi-pencil-square"},null,-1),j=[R],J=A({__name:"MainView",props:{message:{default:""},flag:{type:Boolean,default:!1}},async setup(H){let n,_;const g=c.getInstance(),m=C(),p=([n,_]=k(()=>g.fetchTodoListArray()),n=await n,_(),n);return(h,O)=>{const f=w("AppMessage");return s(),a(d,null,[B,I(f,{message:h.message,success:h.flag},null,8,["message","success"]),i(p).length?(s(),a("div",D,[e("ul",E,[(s(!0),a(d,null,u(i(p),(l,r)=>(s(),a("li",{class:"nav-item",key:l.name},[e("button",{type:"button",class:b(r===0?"nav-link active":"nav-link"),role:"tab","data-bs-toggle":"tab","data-bs-target":`#todolist${r}`},[x(o(l.name)+" ",1),e("span",P,o(l.items.length),1)],10,N)]))),128))]),e("div",q,[(s(!0),a(d,null,u(i(p),(l,r)=>(s(),a("div",{class:b(r===0?"tab-pane fade show active":"tab-pane fade"),id:`todolist${r}`,role:"tabpanel",key:l.name},[e("div",M,[e("table",$,[z,e("tbody",null,[(s(!0),a(d,null,u(l.items,t=>(s(),a("tr",{key:t.id},[e("td",null,o(t.caseId||t.serviceRequestId),1),e("td",null,o(t.labType),1),e("td",null,o(t.applicant),1),e("td",null,o(t.creationDate),1),e("td",null,[e("a",{href:"#",onClick:S=>i(m).proceedTo(t.id,t.stage||t.expCaseStage)},j,8,L)])]))),128))])])])],10,F))),128))])])):T("",!0)],64)}}});export{J as default};
