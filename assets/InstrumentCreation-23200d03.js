import{a1 as w,c as y,r as d,ag as S,ai as x,aj as k,e as r,o as _,f as B,B as C,x as F,g as s,k as i,h as o,i as A,z as I,F as N}from"./index-dfa148fa.js";import{u as D}from"./FormSchemaStore-a42f2925.js";import{O}from"./Option-3450003d.js";import"./index.esm-77e4e4df.js";const V=s("h4",{class:"fw-bold py-3 mb-4"},"新增儀器",-1),T={class:"row"},j={class:"col-xxl"},M={class:"card mb-4"},z={class:"card-body"},E={class:"row mb-3"},L=s("label",{for:"labType",class:"col-sm-3 col-form-label red-star"},"單位 ",-1),q={class:"col-sm-4"},G={class:"row mb-3"},H=s("label",{for:"no",class:"col-sm-3 col-form-label red-star"},"NO. ",-1),J={class:"col-sm-4"},K={class:"row mb-3"},P=s("label",{for:"name",class:"col-sm-3 col-form-label red-star"},"名稱 ",-1),Q={class:"col-sm-4"},R={class:"row mb-3"},U=s("label",{for:"officialServiceBeginDate",class:"col-sm-3 col-form-label"},"Official service begin date",-1),W={class:"col-sm-4"},X={class:"row mb-3"},Y=s("label",{for:"functionDescription",class:"col-sm-3 col-form-label red-star"},"Function description ",-1),Z={class:"col-sm-4"},$={class:"d-flex justify-content-between flex-row-reverse"},ss=s("button",{type:"submit",class:"btn btn-primary"},"新增",-1),cs=w({__name:"InstrumentCreation",setup(es){const{instrumentCreationFormSchema:u}=D(),{handleSubmit:p,resetForm:f}=y({validationSchema:u}),a=d(""),l=d(!1),h=S().map(e=>new O(e.id,e.name,e.id)),m=p(async e=>{const n=x.create(e);await k(n).then(t=>{l.value=!0,a.value=t,f({})}).catch(function(t){l.value=!1,a.value=t.message})});return(e,n)=>{const t=r("AppMessage"),b=r("AppSelect"),c=r("AppInput"),v=r("router-link");return _(),B(N,null,[V,a.value?(_(),C(t,{key:0,message:a.value,success:l.value},null,8,["message","success"])):F("",!0),s("div",T,[s("form",{onSubmit:n[0]||(n[0]=(...g)=>i(m)&&i(m)(...g))},[s("div",j,[s("div",M,[s("div",z,[s("div",E,[L,s("div",q,[o(b,{options:i(h),name:"labType","show-error-message":!0},null,8,["options"])])]),s("div",G,[H,s("div",J,[o(c,{name:"no","show-error-message":!0})])]),s("div",K,[P,s("div",Q,[o(c,{name:"name","show-error-message":!0})])]),s("div",R,[U,s("div",W,[o(c,{name:"officialServiceBeginDate",type:"date"})])]),s("div",X,[Y,s("div",Z,[o(c,{name:"functionDescription","show-error-message":!0})])])])])]),s("div",$,[ss,o(v,{to:"/instrument/management",class:"btn btn-outline-primary"},{default:A(()=>[I("回儀器管理")]),_:1})])],32)])],64)}}});export{cs as default};
