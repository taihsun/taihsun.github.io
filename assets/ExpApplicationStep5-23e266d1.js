import{d as x,K as A,M as E,ac as j,q as C,a as P,c as k,e as i,o as F,f as N,g as s,h as o,w as R,j as c,i as z,v as B,F as I}from"./index-72e9df21.js";import{g as T}from"./ProjectSource-b760b0a5.js";import{p as O}from"./formSchema-9ddedb9e.js";const U=s("h4",{class:"fw-bold py-3 mb-4"},"建立計畫",-1),V={class:"row mb-3"},Y=s("label",{class:"col-sm-2 col-form-label red-star"},"計畫主持人帳號",-1),q={class:"col-sm-10"},D={class:"row mb-3"},K=s("label",{class:"col-sm-2 col-form-label red-star"},"計畫共同負責人帳號",-1),M={class:"col-sm-10"},G={class:"row mb-3"},H=s("label",{class:"col-sm-2 col-form-label red-star"},"主要聯絡人帳號",-1),J={class:"col-sm-10"},L={class:"input-group input-group-merge"},Q={class:"row mb-3"},W=s("label",{class:"col-sm-2 col-form-label red-star"},"主要聯絡人電話",-1),X={class:"col-sm-10"},Z={class:"input-group input-group-merge"},$={class:"row mb-3"},ss=s("label",{class:"col-sm-2 col-form-label red-star"},"計畫編號",-1),os={class:"col-sm-10"},es={class:"row mb-3"},ts=s("label",{class:"col-sm-2 col-form-label red-star"},"計畫名稱",-1),cs={class:"col-sm-10"},ls={class:"row mb-3"},as=s("label",{class:"col-sm-2 col-form-label red-star"},"計畫核銷機構(收據抬頭)",-1),ns={class:"col-sm-10"},is={class:"row mb-3"},ds=s("label",{class:"col-sm-2 col-form-label red-star"},"計畫所屬部門",-1),rs={class:"col-sm-10"},ms={class:"row mb-3"},_s=s("label",{class:"col-sm-2 col-form-label red-star"},"產學合作",-1),ps={class:"col-sm-10"},hs={class:"row mb-3"},us=s("label",{class:"col-sm-2 col-form-label red-star"},"計畫經費來源",-1),bs={class:"col-sm-10"},vs={class:"row mb-3"},fs=s("label",{class:"col-sm-2 col-form-label"},"計畫描述",-1),ws={class:"col-sm-10"},gs={class:"row mb-3"},Ss=s("label",{class:"col-sm-2 col-form-label red-star"},"有無計畫執行期限",-1),ys={class:"col-sm-4"},xs={class:"row mb-3"},As=s("label",{class:"col-sm-2 col-form-label",for:""},"計畫執行期限",-1),Es={class:"col-sm-4"},js={class:"input-group mb-3"},Cs=s("span",{class:"input-group-text"},"起",-1),Ps={class:"col-sm-4"},ks={class:"input-group"},Fs=s("span",{class:"input-group-text"},"迄",-1),Ns=s("div",{class:"mb-2 d-flex justify-content-between flex-row-reverse mt-2"},[s("button",{type:"submit",class:"btn btn-primary"},"建立計畫")],-1),Is=x({__name:"ExpApplicationStep5",props:{id:{}},setup(u){const b=A(),{loggedInUser:d}=E(b),r=u,v=j().map(t=>({id:t.id.toString(),name:t.name,value:t.id.toString()})),f=T(),m=C(),{values:w,handleSubmit:g}=P({validationSchema:O}),S=k(()=>w.deadline==="yes"),_=g(async t=>{m.createProject(r.id,t).then(()=>{m.proceedToReviewProject(r.id)}).catch(l=>{console.error(l)})});return(t,l)=>{const e=i("AppInput"),p=i("AppSelect"),a=i("AppRadio"),y=i("AppCard");return F(),N(I,null,[U,s("form",{onSubmit:l[0]||(l[0]=(...n)=>c(_)&&c(_)(...n))},[o(y,{class:"mt-2"},{body:R(()=>{var n,h;return[s("div",V,[Y,s("div",q,[o(e,{placeholder:"Email",type:"email",name:"piEmail"})])]),s("div",D,[K,s("div",M,[o(e,{placeholder:"Email",type:"email",name:"coPiEmail"})])]),s("div",G,[H,s("div",J,[s("div",L,[o(e,{placeholder:"Email",type:"email",name:"contactEmail",value:(n=c(d))==null?void 0:n.username},null,8,["value"])])])]),s("div",Q,[W,s("div",X,[s("div",Z,[o(e,{name:"contactPhone",value:(h=c(d))==null?void 0:h.phone},null,8,["value"])])])]),s("div",$,[ss,s("div",os,[o(e,{name:"code"})])]),s("div",es,[ts,s("div",cs,[o(e,{name:"name"})])]),s("div",ls,[as,s("div",ns,[o(p,{name:"organization",options:c(v)},null,8,["options"])])]),s("div",is,[ds,s("div",rs,[o(e,{name:"department"})])]),s("div",ms,[_s,s("div",ps,[o(a,{label:"是",id:"cooperateY",name:"cooperate","checked-value":"yes"}),o(a,{label:"否",id:"cooperateN",name:"cooperate","checked-value":"no"})])]),s("div",hs,[us,s("div",bs,[o(p,{name:"projectSource",options:c(f)},null,8,["options"])])]),s("div",vs,[fs,s("div",ws,[o(e,{name:"description"})])]),s("div",gs,[Ss,s("div",ys,[o(a,{label:"有",id:"deadlineY",name:"deadline","checked-value":"yes"}),o(a,{label:"無",id:"deadlineN",name:"deadline","checked-value":"no"})])]),z(s("div",xs,[As,s("div",Es,[s("div",js,[o(e,{type:"date",name:"executionPeriodFrom"}),Cs])]),s("div",Ps,[s("div",ks,[o(e,{type:"date",name:"executionPeriodTo"}),Fs])])],512),[[B,S.value]])]}),_:1}),Ns],32)],64)}}});export{Is as default};
