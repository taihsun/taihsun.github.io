import{r as n,h,o as a,i as o,C as N,A as T,k as c,w as s,F as p,j as e,B as y,l as g,aB as V,z as k,m as x,E as D,aC as F,t as l,ac as S}from"./index-c3923e02.js";import{L as I}from"./LayoutManagement-576ce3e2.js";import{f as L}from"./api-9f51bc32.js";const A=e("h4",{class:"fw-bold py-3 mb-4"},"儀器管理",-1),E={class:"mb-2"},O=e("label",{for:"labType",class:"form-label"},"單位",-1),U=e("option",{value:""},"請選擇",-1),j=["value"],q={class:"mb-2"},z=e("label",{for:"name",class:"form-label"},"名稱",-1),G={class:"table display",id:"instrument"},H=e("thead",null,[e("tr",null,[e("th",null,"單位"),e("th",null,"NO."),e("th",null,"Name"),e("th",null,"Official service begin date"),e("th",null,"Function description"),e("th")])],-1),J={class:"d-inline-block text-truncate",style:{"max-width":"100px"}},K=e("i",{class:"bi bi-pencil-square"},null,-1),W={__name:"InstrumentManagement",props:["message","success"],setup(B){const f=B,u=n(""),i=n(""),d=n(f.message||""),_=n(f.success||!0),b=n([]),w=F();async function M(){try{b.value=await L(u.value,i.value)}catch(v){_.value=!1,d.value=v.message}}return(v,r)=>{const C=h("AppMessage"),m=h("router-link");return a(),o(p,null,[A,d.value?(a(),N(C,{key:0,message:d.value,success:_.value},null,8,["message","success"])):T("",!0),c(I,null,{addButtonSm:s(()=>[c(m,{to:"/instrument/create",class:"form-control btn btn-secondary"},{default:s(()=>[y("新增儀器")]),_:1})]),addButton:s(()=>[c(m,{to:"/instrument/create",class:"form-control btn btn-secondary"},{default:s(()=>[y("新增儀器")]),_:1})]),filterForm:s(()=>[e("form",null,[e("div",E,[O,g(e("select",{class:"form-select",id:"labType","onUpdate:modelValue":r[0]||(r[0]=t=>u.value=t)},[U,(a(!0),o(p,null,k(x(w),t=>(a(),o("option",{key:t.id,value:t.id},l(t.name),9,j))),128))],512),[[V,u.value]])]),e("div",q,[z,g(e("input",{type:"text",class:"form-control","onUpdate:modelValue":r[1]||(r[1]=t=>i.value=t)},null,512),[[D,i.value]])]),e("div",{class:"d-flex flex-row-reverse"},[e("button",{type:"button",class:"btn btn-primary",onClick:M},"Search")])])]),table:s(()=>[e("table",G,[H,e("tbody",null,[(a(!0),o(p,null,k(b.value,t=>(a(),o("tr",{key:t.id},[e("td",null,l(t.labType),1),e("td",null,l(t.no),1),e("td",null,l(t.name),1),e("td",null,l(x(S)(t.officialServiceBeginDate)),1),e("td",null,[e("span",J,l(t.functionDescription),1)]),e("td",null,[c(m,{to:{name:"InstrumentModification",params:{instrumentId:t.id}}},{default:s(()=>[K]),_:2},1032,["to"])])]))),128))])])]),_:1})],64)}}};export{W as default};
