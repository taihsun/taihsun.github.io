import{e as w,f as I,g as A}from"./LocationApi-2a0b8f6c.js";import{d as N,u as k,r as l,x as B,c as F,h as c,o as _,i as S,C as U,A as V,j as e,m as p,k as b,w as K,B as L,F as j}from"./index-c3923e02.js";import{m as G}from"./LocationSchema-3699745f.js";var v=(a=>(a.TMC="TMC",a.AIF="AIF",a.NCKU="NCKU",a.NYCU="NYCU",a.KCGMH="KCGMH",a))(v||{});const H=e("h4",{class:"fw-bold py-3 mb-3"},"修改入室前所在地",-1),Y={class:"row"},D={class:"col-xxl"},E={class:"card"},O={class:"card-body"},R={class:"row mb-3"},q=e("label",{for:"name",class:"col-sm-3 col-form-label red-star"},"名稱 ",-1),z={class:"col-sm-4"},J={class:"mt-2 d-flex justify-content-between flex-row-reverse"},P=e("button",{type:"submit",class:"btn btn-primary"},"修改",-1),Q=e("button",{type:"button",class:"btn btn-danger mx-1","data-bs-toggle":"modal","data-bs-target":"#exampleModal"}," 刪除 ",-1),W=e("div",{class:"modal-body"},"確定刪除?",-1),X=e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"關閉",-1),ae=N({__name:"LocationModification",props:{locationId:{}},async setup(a){let d,i;const r=a,h=k();let m=l();const o=l(""),n=l(!1);Object.keys(v).map(t=>({id:t,name:t,value:t})),[d,i]=B(()=>w(r.locationId).then(t=>{m.value=t.data}).catch(t=>{console.log(t)})),await d,i();const{handleSubmit:f,values:Z,errors:$}=F({initialValues:m.value,validationSchema:G}),u=f(async t=>{I(t).then(s=>{console.log("ss"),n.value=!0,o.value=s.data}).catch(s=>{console.log(s),n.value=!1,o.value="更新失敗"})}),g=()=>{console.log("delete"),A(r.locationId).then(t=>{n.value=!0,h.push({name:"LocationManagement",params:{message:t.data}})}).catch(t=>{n.value=!1,o.value="刪除失敗"})};return(t,s)=>{const x=c("AppMessage"),y=c("AppInput"),C=c("router-link");return _(),S(j,null,[H,o.value?(_(),U(x,{key:0,message:o.value,success:n.value},null,8,["message","success"])):V("",!0),e("div",Y,[e("form",{onSubmit:s[0]||(s[0]=(...M)=>p(u)&&p(u)(...M))},[e("div",D,[e("div",E,[e("div",O,[e("div",R,[q,e("div",z,[b(y,{name:"name"})])])])])]),e("div",J,[P,Q,b(C,{to:"/location/management",class:"btn btn-outline-secondary"},{default:K(()=>[L("回入室前所在地管理")]),_:1})])],32)]),e("div",{class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[e("div",{class:"modal-dialog"},[e("div",{class:"modal-content"},[W,e("div",{class:"modal-footer"},[X,e("button",{type:"button",class:"btn btn-primary","data-bs-dismiss":"modal",onClick:g}," 確定 ")])])])])],64)}}});export{ae as default};
