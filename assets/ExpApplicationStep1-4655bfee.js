import{d as T,u as I,G,s as U,J as B,q as N,r as P,K as F,L as $,h as V,o as g,C as M,w as r,j as e,t as p,m as n,k as s,M as L,i as v,z as E,F as x,N as m,p as c,O as z,P as R,B as o}from"./index-c3923e02.js";import{c as j}from"./formSchema-a822dc0e.js";const K={class:"fw-bold py-3 mb-4"},O=e("h5",{class:"mb-0"},"已選擇服務項目",-1),q={class:"table-responsive"},H={class:"table table-striped"},J=e("thead",null,[e("tr",null,[e("th",null,"Number"),e("th",null,"Service item"),e("th",null,"Note"),e("th",null,"Sample amount"),e("th",{class:"red-star"},"TAC安排之實驗區間"),e("th",null,"Comment")])],-1),Q={class:"input-group mb-3"},W=e("h5",{class:"mb-0"},"Survey for Drug Screening",-1),X=e("span",{class:"fw-light"}," Is this experiment related to drug screening or development?",-1),Y={class:"form-check my-3"},Z=e("label",{class:"form-check-label",for:"stage0"}," 不適用 ",-1),ee={class:"form-check my-3"},te=e("label",{class:"form-check-label",for:"stage1"},[o(" stage 1. Identification & confirmation of biomarkers, new targets, drugs, bio-medical devices. "),e("br"),o(" 篩選、鑑定及確認:生物標的、分子標靶新藥、新生醫材料、新檢測試劑 ")],-1),ae={class:"form-check mb-2"},se=e("label",{class:"form-check-label",for:"stage2"},[o(" stage 2. Synthesis & improvement of targets. Design & modification of new medical devices. "),e("br"),o(" 潛力標的物之合成及改良:新醫材/試劑之設計/改良 ")],-1),le={class:"form-check my-3"},ne=e("label",{class:"form-check-label",for:"stage3"},[o(" stage 3. Validation with clinical samples. In vitro & in vivo efficacy evaluation. "),e("br"),o(" 臨床檢體驗證、細胞及動物有效性評估 ")],-1),oe={class:"form-check mb-2"},ie=e("label",{class:"form-check-label",for:"stage4"},[o(" stage 4. Optimization of leads & device models-Prototype development- Pilot-scale manufacturing. "),e("br"),o(" 先導藥品及醫材之最適化; 新醫材/試劑產品雛型之開發及試製造 ")],-1),ce={class:"form-check my-3"},re=e("label",{class:"form-check-label",for:"stage5"},[o(" stage 5. Improvement of PK, PD, & formulation- Animal toxicity and safety tests. "),e("br"),o(" 藥理藥動改良;劑型設計;毒理安全性試驗 ")],-1),me={class:"form-check my-3"},de=e("label",{class:"form-check-label",for:"stage6"},[o(" stage 6. IND/IDE applications. "),e("br"),o(" 試驗用藥物: 新醫材/試劑之申請 ")],-1),ue=e("h5",{class:"mb-0"},"Points for Attention",-1),pe=e("ol",null,[e("li",null,[e("a",{class:"link-primary",href:"https://tmc.sinica.edu.tw/sampleprep_c.html",target:"_blank"},"血液、血清、組織及尿液/Blood, Serum, Tissue and Urine")]),e("li",null,[e("a",{class:"link-primary",href:"https://tmc.sinica.edu.tw/slide_c.html",target:"_blank"},"玻片掃描/Slide Scanning")]),e("li",null,[e("a",{class:"link-primary",href:"https://tmc.sinica.edu.tw/femur_c.html",target:"_blank"},"股骨製備/Femur Preparation")]),e("li",null,[e("a",{class:"link-primary",href:" https://tmc.sinica.edu.tw/animal_checkin_c_01.html",target:"_blank"},"動物房/Mouse Hotel ")])],-1),he={class:"form-check form-check-inline"},fe={class:"form-check-label",for:"terms"},ge=e("div",{class:"mb-2 d-flex justify-content-between flex-row-reverse"},[e("button",{class:"btn btn-primary"},"確定申請")],-1),ye=T({__name:"ExpApplicationStep1",setup(ve){const A=I(),u=G(),k=U(),{items:w}=B(u),D={drugScreening:"",terms:"",items:N.map(w.value,d=>({number:d.number,name:d.name,note:d.note,units:d.units,expDate:"",comment:""}))},l=P(""),C=d=>{k.createExpCase(u.currentLabType,d).then(function(){u.$reset(),k.proceedToStep2()}).catch(function(t){console.error(t)})},y=()=>{A.push("/main")};return F(()=>{u.isEmpty&&y()}),$(()=>{u.isEmpty&&y()}),(d,t)=>{const S=V("AppInputGroup"),_=V("AppCard");return g(),M(n(R),{"validation-schema":n(j),onSubmit:C,"initial-values":D},{default:r(({errors:i})=>[e("h4",K,p(n(u).currentLabType)+"服務項目",1),s(_,{class:"mb-2"},{header:r(()=>[O]),body:r(()=>[e("div",q,[e("table",H,[J,e("tbody",null,[s(n(L),{name:"items"},{default:r(({fields:a})=>[(g(!0),v(x,null,E(a,(h,f)=>(g(),v("tr",{key:h.key},[e("td",null,p(h.value.number),1),e("td",null,p(h.value.name),1),e("td",null,p(h.value.note),1),e("td",null,[(g(!0),v(x,null,E(h.value.units,b=>(g(),v("div",{key:b.index},[e("div",Q,p(b.amount)+" "+p(b.name),1)]))),128))]),e("td",null,[s(S,{label:"起",id:"expDateStart",type:"date",format:"yyyy-mm-dd",name:`items[${f}].expDateStart`,class:c(i[`items[${f}].expDateStart`]?"form-control is-invalid":"form-control "),showErrorMessage:!0},null,8,["name","class"]),s(S,{label:"迄",id:"expDateEnd",type:"date",format:"yyyy-mm-dd",name:`items[${f}].expDateEnd`,class:c(i[`items[${f}].expDateEnd`]?"form-control is-invalid":"form-control "),showErrorMessage:!0},null,8,["name","class"])]),e("td",null,[s(n(m),{name:`items[${f}].comment`},null,8,["name"])])]))),128))]),_:2},1024)])])])]),_:2},1024),s(_,{class:"mb-2"},{header:r(()=>[W]),title:r(()=>[X]),body:r(()=>[e("div",Y,[s(n(m),{name:"drugScreening",class:c(i.drugScreening?"form-check-input is-invalid":"form-check-input"),type:"radio",value:"NA",id:"stage0",modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=a=>l.value=a)},null,8,["class","modelValue"]),Z]),e("div",ee,[s(n(m),{name:"drugScreening",class:c(i.drugScreening?"form-check-input is-invalid":"form-check-input"),type:"radio",id:"stage1",value:"STAGE1",modelValue:l.value,"onUpdate:modelValue":t[1]||(t[1]=a=>l.value=a)},null,8,["class","modelValue"]),te]),e("div",ae,[s(n(m),{name:"drugScreening",class:c(i.drugScreening?"form-check-input is-invalid":"form-check-input"),type:"radio",id:"stage2",value:"STAGE2",modelValue:l.value,"onUpdate:modelValue":t[2]||(t[2]=a=>l.value=a)},null,8,["class","modelValue"]),se]),e("div",le,[s(n(m),{name:"drugScreening",class:c(i.drugScreening?"form-check-input is-invalid":"form-check-input"),type:"radio",id:"stage3",value:"STAGE3",modelValue:l.value,"onUpdate:modelValue":t[3]||(t[3]=a=>l.value=a)},null,8,["class","modelValue"]),ne]),e("div",oe,[s(n(m),{name:"drugScreening",class:c(i.drugScreening?"form-check-input is-invalid":"form-check-input"),type:"radio",id:"stage4",value:"STAGE4",modelValue:l.value,"onUpdate:modelValue":t[4]||(t[4]=a=>l.value=a)},null,8,["class","modelValue"]),ie]),e("div",ce,[s(n(m),{name:"drugScreening",class:c(i.drugScreening?"form-check-input is-invalid":"form-check-input"),type:"radio",id:"stage5",value:"STAGE5",modelValue:l.value,"onUpdate:modelValue":t[5]||(t[5]=a=>l.value=a)},null,8,["class","modelValue"]),re]),e("div",me,[s(n(m),{name:"drugScreening",class:c(i.drugScreening?"form-check-input is-invalid":"form-check-input"),type:"radio",id:"stage6",value:"STAGE6",modelValue:l.value,"onUpdate:modelValue":t[6]||(t[6]=a=>l.value=a)},null,8,["class","modelValue"]),de])]),_:2},1024),s(_,{class:"mb-2"},{header:r(()=>[ue]),body:r(()=>[e("div",null,[pe,e("div",he,[s(z,{id:"terms",name:"terms","checked-value":"agree"}),e("label",fe,[e("span",{class:c(i.terms?"text-danger":"")}," 我已詳細閱讀注意事項 (I have read the notes for applicants)",2)])])])]),_:2},1024),ge]),_:1},8,["validation-schema"])}}});export{ye as default};
