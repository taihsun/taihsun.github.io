import{d as w,H as ne,o as c,i as y,j as e,t as H,m as o,p as fe,$ as ye,a0 as M,a1 as K,J as oe,s as ce,h as s,F as O,z as V,k as n,w as f,B as z,l as B,v as R,C as T,A as S,Q as Y,R as G,U,r as j,a2 as q,O as Z,a3 as m,K as ae,a4 as le,f as N,c as se,a5 as te,a6 as re,a7 as de,a8 as me,a9 as ge,X as pe,x as ee,aa as ue,ab as F,ac as $e,ad as ke,T as Ae}from"./index-c3923e02.js";import{a as xe}from"./LocationApi-2a0b8f6c.js";import{t as Se,i as Ie,s as Ce,n as Te}from"./formSchema-a822dc0e.js";var we=(r=>(r.LIVING="LIVING",r.NON_LIVING="NON_LIVING",r.UNLIMITED="UNLIMITED",r))(we||{});const qi=r=>{switch(r){case"LIVING":return"活體";case"NON_LIVING":return"非活體";case"UNLIMITED":return"不限定";default:return""}},Be=["for"],Re=["id"],I=w({inheritAttrs:!1,__name:"LayoutRow",props:{label:{default:""},required:{type:Boolean,default:!1}},setup(r){const a=ne();return(t,l)=>(c(),y("div",M({class:"row form-group"},t.$attrs),[e("label",{for:`content${o(a)}`,class:fe(["col-sm-2 col-form-label",{"red-star":t.required}])},H(t.label),11,Be),e("div",{class:"col-auto",id:`content${o(a)}`},[ye(t.$slots,"content")],8,Re)],16))}});var E=(r=>(r.MICE="MICE",r.RAT="RAT",r))(E||{});const ie=r=>{switch(r){case"MICE":return"小鼠";case"RAT":return"大鼠";default:return""}},Ne={class:"row mb-2"},Ee=e("legend",{class:"col-form-label col-sm-2 pt-0 red-star"},"品系",-1),Le={class:"col-sm-10"},Oe={key:0,class:"row mb-2"},Fe={class:"row mb-2"},De=e("legend",{class:"col-form-label col-sm-2 pt-0 red-star"},"是否需要特殊照顧或觀察?",-1),Me={class:"col-sm-10"},Pe={class:"row mb-2"},He=["for"],ze={class:"col-sm-8"},Ue={class:"row mb-2"},qe=e("label",{for:"male",class:"col-sm-2 col-form-label red-star"},"入室隻數",-1),Ve={class:"col-sm-10"},Ke={class:"row"},Ye={class:"col-lg-4"},Ge={class:"input-group mb-2"},je=e("span",{class:"input-group-text"},"公",-1),Qe={class:"col-lg-4"},Xe={class:"input-group mb-2"},We=e("span",{class:"input-group-text"},"母",-1),Je={class:"row mb-2"},Ze=["for"],en={class:"col-8"},nn={class:"row mb-2"},tn=["for"],on={class:"col-8"},an={class:"mb-2 d-flex flex-row-reverse mt-2"},ln=w({inheritAttrs:!1,__name:"DeliveryFormBlock",props:{animalType:{},isNew:{type:Boolean}},setup(r){const a={strain:"",ratOtherStrain:"",miceOtherStrain:"",special:"",specialExplain:"",age:"",maleQty:0,femaleQty:0,sendingCagesQty:0,expCage:0},{remove:t,push:l,fields:i}=K("deliveries"),{bindingCageNumber:b}=oe(ce()),d=()=>{i.value.length>1&&t(i.value.length-1)},_=h=>{h.value.expCage=h.value.maleQty+h.value.femaleQty};return(h,g)=>{const k=s("AppRadio"),$=s("AppInput"),p=s("AppRadioInput"),v=s("AppBlock"),A=s("AppPlusButton"),C=s("AppMinusButton");return c(),y(O,null,[(c(!0),y(O,null,V(o(i),(x,u)=>(c(),y("div",M({key:x.key},h.$attrs),[n(v,Y(G(h.$attrs)),{title:f(()=>[z(" #"+H(u+1),1)]),content:f(()=>[B(e("fieldset",Ne,[Ee,e("div",Le,[B(n(k,{name:`deliveries[${u}].strain`,id:`C57BL/6${u}`,"checked-value":"C57BL/6",label:"C57BL/6"},null,8,["name","id"]),[[R,h.animalType===o(E).MICE]]),B(n(k,{name:`deliveries[${u}].strain`,id:`ICR${u}`,"checked-value":"ICR",label:"ICR"},null,8,["name","id"]),[[R,h.animalType===o(E).MICE]]),B(n(k,{name:`deliveries[${u}].strain`,id:`BALB/c${u}`,"checked-value":"BALB/c",label:"BALB/c"},null,8,["name","id"]),[[R,h.animalType===o(E).MICE]]),B(n(k,{name:`deliveries[${u}].strain`,id:`SD${u}`,"checked-value":"SD",label:"SD"},null,8,["name","id"]),[[R,h.animalType===o(E).RAT]]),B(n(k,{name:`deliveries[${u}].strain`,id:`ratOther${u}`,"checked-value":"ratOther",label:"其他品系"},null,8,["name","id"]),[[R,h.animalType===o(E).RAT]]),x.value.strain==="ratOther"&&o(E).RAT===h.animalType?(c(),T($,{key:0,name:`deliveries[${u}].ratOtherStrain`,placeholder:"請自行輸入品系"},null,8,["name"])):S("",!0),B(n(k,{name:`deliveries[${u}].strain`,id:`NUDE${u}`,"checked-value":"NUDE",label:"NUDE"},null,8,["name","id"]),[[R,h.animalType===o(E).MICE]]),B(n(k,{name:`deliveries[${u}].strain`,id:`NODSCID${u}`,"checked-value":"NOD SCID",label:"NOD SCID"},null,8,["name","id"]),[[R,h.animalType===o(E).MICE]]),B(n(k,{name:`deliveries[${u}].strain`,id:`ASID${u}`,"checked-value":"ASID",label:"ASID"},null,8,["name","id"]),[[R,h.animalType===o(E).MICE]]),B(n(k,{name:`deliveries[${u}].strain`,id:`miceOther${u}`,"checked-value":"miceOther",label:"其他品系及基因改造鼠"},null,8,["name","id"]),[[R,h.animalType===o(E).MICE]]),x.value.strain==="miceOther"&&o(E).MICE===h.animalType?(c(),T($,{key:1,name:`deliveries[${u}].miceOtherStrain`,placeholder:"請自行輸入品系"},null,8,["name"])):S("",!0)])],512),[[R,h.animalType]]),x.value.strain==="ratOther"&&o(E).RAT===h.animalType||x.value.strain==="miceOther"&&o(E).MICE===h.animalType?(c(),y("div",Oe,[e("fieldset",Fe,[De,e("div",Me,[n(k,{id:`special1${u}`,name:`deliveries[${u}].special`,"checked-value":"N",label:"否"},null,8,["id","name"]),n(p,{"radio-name":`deliveries[${u}].special`,"input-name":`deliveries[${u}].specialExplain`,id:`special2${u}`,"checked-value":"Y",label:"是，請說明:"},null,8,["radio-name","input-name","id"]),z(" (例如：提供巢料、放置飼料於墊料) ")])])])):S("",!0),e("div",Pe,[e("label",{for:`age${u}`,class:"col-sm-2 col-form-label red-star"},"週齡",8,He),e("div",ze,[n($,{type:"number",id:`age${u}`,name:`deliveries[${u}].age`},null,8,["id","name"]),z(" P.S.入室小鼠若低於5週齡或為懷孕母鼠，請先洽詢賴超坤博士 (02-77505514) ")])]),e("div",Ue,[qe,e("div",Ve,[e("div",Ke,[e("div",Ye,[e("div",Ge,[je,n($,{type:"number",name:`deliveries[${u}].maleQty`,min:"0",onInput:D=>_(x)},null,8,["name","onInput"])])]),e("div",Qe,[e("div",Xe,[We,n($,{type:"number",min:"0",name:`deliveries[${u}].femaleQty`,onInput:D=>_(x)},null,8,["name","onInput"])])])])])]),B(e("div",Je,[e("label",{for:`checkinCage${u}`,class:"col-sm-2 col-form-label red-star"},"送來的籠數",8,Ze),e("div",en,[n($,{id:`checkinCage${u}`,type:"number",name:`deliveries[${u}].sendingCagesQty`,min:"1"},null,8,["id","name"])])],512),[[R,h.isNew]]),e("div",nn,[e("label",{for:`expCage${u}`,class:"col-sm-2 col-form-label red-star"},"實驗籠數",8,tn),e("div",on,[n($,{id:`expCage${u}`,type:"number",name:`deliveries[${u}].expCage`,min:"1",disabled:o(b)},null,8,["id","name","disabled"])])])]),_:2},1040)],16))),128)),e("div",an,[n(A,{onClick:g[0]||(g[0]=U(x=>o(l)(a),["prevent"]))}),B(n(C,{class:"mx-2",onClick:U(d,["prevent"])},null,512),[[R,o(i).length>1]])])],64)}}}),sn={class:"row mb-3"},cn=e("label",{for:"fgh",class:"col-sm-2 col-form-label red-star"},"給予物質名稱",-1),rn={class:"col-sm-8"},dn={class:"row mb-3"},mn=e("label",{for:"fgh",class:"col-sm-2 col-form-label red-star"},"種類",-1),pn={class:"col-sm-8 d-flex flex-column"},un={class:"input-group"},hn=e("span",{class:"input-group-text",id:"otherCompounds"},"測試物特性",-1),_n={class:"input-group"},bn=e("label",{class:"input-group-text",for:"otherCompoundsFile"},"SDS",-1),vn={class:"row mb-3"},fn=e("label",{for:"fgh",class:"col-sm-2 col-form-label red-star"},"是否可能具生物危害性",-1),yn={class:"col-sm-8"},gn={class:"row mb-3"},$n=e("label",{for:"fgh",class:"col-sm-2 col-form-label red-star"},"動物是否有可預期之症狀",-1),kn={class:"col-sm-8"},An={class:"row mb-3"},xn=e("label",{for:"fgh",class:"col-sm-2 col-form-label red-star"},"是否為病毒載體",-1),Sn={class:"col-sm-8"},In=w({inheritAttrs:!1,__name:"ExpCaseLivingFomrMedicationInfo",props:{prefix:{default:()=>""}},setup(r){const a=r,t=l=>a.prefix?`${a.prefix}.${l}`:l;return(l,i)=>{const b=s("AppInput"),d=s("AppRadio"),_=s("AppFileInput"),h=s("AppRadioAddition"),g=s("AppRadioInput");return c(),y("div",Y(G(l.$attrs)),[e("div",sn,[cn,e("div",rn,[n(b,{id:"administratedSubstance",name:t("administratedSubstance")},null,8,["name"])])]),e("div",dn,[mn,e("div",pn,[n(d,{label:"藥物級化合物",id:"pharmaceuticalCompounds",name:t("compounds"),"checked-value":"pharmaceutical"},null,8,["name"]),n(h,{label:"商品化化合物",id:"commercialCompounds",name:t("compounds"),"checked-value":"commercial"},{block:f(()=>[e("div",un,[hn,n(b,{id:"otherCompounds",name:t("otherCompounds"),placeholder:"請說明"},null,8,["name"])]),e("div",_n,[bn,n(_,{id:"otherCompoundsFile",name:t("otherCompoundsFile"),type:"file",title:"SDS"},null,8,["name"])])]),_:1},8,["name"]),n(h,{label:"自行合成試驗物質",id:"novelCompounds",name:t("compounds"),"checked-value":"novel"},{block:f(()=>[n(d,{label:"無菌",id:"sterileCompounds",name:t("compoundSterile"),"checked-value":"sterile"},null,8,["name"]),n(d,{label:"無法無菌",id:"notSterileCompounds",name:t("compoundSterile"),"checked-value":"notSterile"},null,8,["name"])]),_:1},8,["name"])])]),e("div",vn,[fn,e("div",yn,[n(d,{label:"否",id:"hazardousN",name:t("hazardous"),"checked-value":"no"},null,8,["name"]),n(g,{label:"是",id:"hazardousY","radio-name":t("hazardous"),"checked-value":"yes","input-name":t("hazardousDescription")},null,8,["radio-name","input-name"])])]),e("div",gn,[$n,e("div",kn,[n(d,{label:"否",id:"anticipatedSymptomsN",name:t("anticipatedSymptoms"),"checked-value":"no"},null,8,["name"]),n(g,{label:"是",id:"anticipatedSymptomsY","radio-name":t("anticipatedSymptoms"),"checked-value":"yes","input-name":t("anticipatedSymptomsDescription")},null,8,["radio-name","input-name"])])]),e("div",An,[xn,e("div",Sn,[n(d,{label:"否",id:"viralVectorN",name:t("viralVector"),"checked-value":"no"},null,8,["name"]),n(g,{label:"是",id:"viralVectorY","radio-name":t("viralVector"),"checked-value":"yes","input-name":t("viralVectorDescription")},null,8,["radio-name","input-name"])])])],16)}}}),Cn={class:"row mb-3"},Tn=e("label",{for:"fgh",class:"col-sm-2 col-form-label red-star"},"細胞名稱",-1),wn={class:"col-sm-10"},Bn={class:"d-flex"},Rn={class:"p-2 flex-fill"},Nn={class:"p-2 flex-fill"},En={class:"p-2 flex-fill"},Ln={class:"row mb-3"},On=e("label",{for:"fgh",class:"col-sm-2 col-form-label red-star"},"細胞來源",-1),Fn={class:"col-sm-8"},Dn={class:"d-flex"},Mn={class:"p-2 flex-fill"},Pn={class:"p-2 flex-fill"},Hn={class:"p-2 flex-fill"},zn={class:"p-2 flex-fill"},Un={class:"row mb-3"},qn=e("label",{for:"fgh",class:"col-sm-2 col-form-label red-star"},"是否會持續產生病毒?",-1),Vn={class:"col-sm-8"},Kn=w({inheritAttrs:!1,__name:"ExpCaseLivingFomrCellLineInfo",props:{prefix:{default:()=>""}},setup(r){const a=r,t=l=>a.prefix?`${a.prefix}.${l}`:l;return(l,i)=>{const b=s("AppInput"),d=s("AppRadio"),_=s("AppCheckbox"),h=s("AppCheckboxInput");return c(),y("div",Y(G(l.$attrs)),[e("div",Cn,[Tn,e("div",wn,[e("div",Bn,[e("div",Rn,[n(b,{id:"cellLineName",name:t("cellLineName"),placeholder:"細胞名稱"},null,8,["name"])]),e("div",Nn,[n(d,{label:"人類",id:"cellLineTypeHuman",name:t("cellLineType"),"checked-value":"human"},null,8,["name"])]),e("div",En,[n(d,{label:"動物",id:"cellLineTypeAnimal",name:t("cellLineType"),"checked-value":"animal"},null,8,["name"])])])])]),e("div",Ln,[On,e("div",Fn,[e("div",Dn,[e("div",Mn,[n(_,{label:"商品化",id:"commercialize",name:t("cellLineSource"),"checked-value":"commercialize"},null,8,["name"])]),e("div",Pn,[n(_,{label:"人類檢體",id:"cellLineSourceHumanSpecimen",name:t("cellLineSource"),"checked-value":"humanSpecimen"},null,8,["name"])]),e("div",Hn,[n(_,{label:"自備",id:"cellLineSourceNovelCellLine",name:t("cellLineSource"),"checked-value":"novelCellLine"},null,8,["name"])]),e("div",zn,[n(h,{label:"其他",id:"cellLineSourceOthers","checkbox-name":t("cellLineSource"),"checked-value":"others","input-name":t("otherCellLineSource")},null,8,["checkbox-name","input-name"])])])])]),e("div",Un,[qn,e("div",Vn,[n(d,{label:"是",id:"consistentSheddingVirusYes",name:t("consistentSheddingVirus"),"checked-value":"yes"},null,8,["name"]),n(d,{label:"否",id:"consistentSheddingVirusNo",name:t("consistentSheddingVirus"),"checked-value":"no"},null,8,["name"])])])],16)}}}),Yn=e("h5",{class:"mb-0"},"實驗資料",-1),Gn=w({__name:"ExperimentalData",props:{showMedicationInfoFrom:{type:Boolean},showCellLineInfoFrom:{type:Boolean}},setup(r){return(a,t)=>{const l=s("AppInput"),i=s("AppBlock"),b=s("AppCard");return c(),y(O,null,[n(l,{type:"hidden",name:"showMedicationInfoFrom"}),n(l,{type:"hidden",name:"showCellLineInfoFrom"}),n(b,null,{header:f(()=>[Yn]),body:f(()=>[a.showMedicationInfoFrom?(c(),T(i,{key:0,class:"my-2 bg-body-tertiary"},{title:f(()=>[z("藥物處理")]),content:f(()=>[n(In,{prefix:"medicationInfo"})]),_:1})):S("",!0),a.showCellLineInfoFrom?(c(),T(i,{key:1,class:"my-2 bg-body-tertiary"},{title:f(()=>[z("細胞植入")]),content:f(()=>[n(Kn,{prefix:"cellLineInfo"})]),_:1})):S("",!0)]),_:1})],64)}}}),jn={class:"row"},Qn=e("div",{class:"text-dark bg-info"}," 欲進行設施內病理獸醫師進行剖檢，請填妥試驗背景資訊、詳細描述，閱讀以下資訊並勾選同意授權研究經理、獸醫師進行處置。 Please fill this form with necessary experimental detail and description for the necropsy service by in-house pathologist. Read the agreement and tick the checkbox to authorizate the Study Director or veterinarians. ",-1),Xn={class:"row m-2"},Wn={class:"my-3"},Jn=e("div",{class:"bg-light red-star"}," 試驗描述（籠位、分組、可能臨床症狀、標記、處理或給藥方式等等）Signalment (cage number, grouping, likely clinical signs, label, treatment)： ",-1),Zn={class:"my-3"},et=e("div",{class:"bg-light red-star"}," 台灣小鼠診所針對指定籠內虛弱瀕死動物進行實驗動物人道安樂死與病理剖檢。若不同意，將會在每次發出瀕死/死亡通知後詢問，貴單位須承擔其延遲時間之後果。 Agree or disagree: Following by veterinary evaluation, assigned laboratory animal(s) showing moribund or impending death is euthanatized for pathology examination without informing in advance. ",-1),nt={class:"form-check form-check-inline"},tt={class:"form-check form-check-inline"},ot={class:"my-3"},at=e("div",{class:"bg-light red-star"}," 保留下列臟器組織於10%中性福馬林內以供未來研究所需： Select desired organs for your future study (in 10% neutral buffered formalin): ",-1),lt={class:"form-check form-check-inline"},st={class:"form-check form-check-inline"},it={class:"form-check form-check-inline"},ct={class:"form-check form-check-inline"},rt={class:"form-check form-check-inline"},dt={class:"form-check form-check-inline"},mt={class:"form-check form-check-inline"},pt={class:"my-3 red-star"},ut=e("span",{for:"terms"},"我瞭解由病理獸醫師依實際情況判定是否需要進行組織病理學檢查（製作切片進一步進行診斷）。肉眼初步結果及後續組織病理之「正式病理報告」將會向貴單位報價，貴單位繳費後正式發給報告。 Our pathologists will perform a comprehensive gross examination, followed by an assessment to determine the necessity of conducting histopathology for more detailed findings. You will receive a quotation from TMC, but the final pathology report will be issued after the fee is paid.",-1),ht=Object.assign({inheritAttrs:!1},{__name:"NecropsyForm",props:{prefix:{type:String,default:""}},setup(r){return(a,t)=>{const l=s("AppTextarea"),i=s("AppRadio"),b=s("AppCheckbox"),d=s("AppCheckboxInput"),_=s("AppCard");return c(),T(_,M(a.$attrs,{class:"p-2"}),{body:f(()=>[e("div",jn,[Qn,e("div",Xn,[e("ol",null,[e("li",Wn,[Jn,n(l,{rows:"5",name:`${r.prefix}.description`},null,8,["name"])]),e("li",Zn,[et,e("div",nt,[n(i,{name:`${r.prefix}.euthanasia`,id:"euthanasiaY",label:"同意","checked-value":"Y"},null,8,["name"])]),e("div",tt,[n(i,{name:`${r.prefix}.euthanasia`,id:"euthanasiaN",label:"不同意","checked-value":"N"},null,8,["name"])])]),e("li",ot,[at,e("div",lt,[n(b,{id:"organStudyHeart",name:`${r.prefix}.organStudy`,"checked-value":"Heart",label:"Heart"},null,8,["name"])]),e("div",st,[n(b,{id:"organStudyLiver",name:`${r.prefix}.organStudy`,"checked-value":"Liver",label:"Liver"},null,8,["name"])]),e("div",it,[n(b,{id:"organStudySpleen",name:`${r.prefix}.organStudy`,"checked-value":"Spleen",label:"Spleen"},null,8,["name"])]),e("div",ct,[n(b,{id:"organStudyLung",name:`${r.prefix}.organStudy`,"checked-value":"Lung",label:"Lung"},null,8,["name"])]),e("div",rt,[n(b,{id:"organStudyKidney",name:`${r.prefix}.organStudy`,"checked-value":"Kidney",label:"Kidney"},null,8,["name"])]),e("div",dt,[n(b,{id:"organStudyBrain",name:`${r.prefix}.organStudy`,"checked-value":"Brain",label:"Brain"},null,8,["name"])]),e("div",mt,[n(d,{id:"organStudyOther","checkbox-name":`${r.prefix}.organStudy`,"checked-value":"other",label:"Other:","input-name":`${r.prefix}.otherOrganStudy`},null,8,["checkbox-name","input-name"])])]),e("li",pt,[n(b,{id:"terms",name:`${r.prefix}.terms`,"checked-value":"agree"},null,8,["name"]),ut])])])])]),_:1},16)}}}),X=Object.assign({inheritAttrs:!1},{__name:"LayoutRowAnimalSpecies",props:{name:{type:String,required:!0},required:{type:Boolean,default:!1}},setup(r){return(a,t)=>{const l=s("AppRadio"),i=s("AppRadioInput");return c(),T(I,{label:"Animal Species :",required:r.required},{content:f(()=>[n(l,{id:r.name+"Mouse",name:r.name,"checked-value":"mouse",label:"Mouse"},null,8,["id","name"]),n(l,{id:r.name+"Rat",name:r.name,"checked-value":"rat",label:"Rat"},null,8,["id","name"]),n(i,{label:"Other",id:r.name+"Other","radio-name":r.name,"checked-value":"other","input-name":`${r.name}Other`,"input-placeholder":"物種"},null,8,["id","radio-name","input-name"])]),_:1},8,["required"])}}}),_t=e("h6",null,"Blood chemistry",-1),bt={class:"row"},vt=w({inheritAttrs:!1,__name:"BloodChemistryForm",props:{prefix:{default:()=>""}},setup(r){const a=r,t=i=>a.prefix?`${a.prefix}.${i}`:i,l=j([{name:"ALB",value:"alb"},{name:"ALP",value:"alp"},{name:"ALT(GPT)",value:"alt"},{name:"AMY(AMYL)",value:"amy"},{name:"AST(GOT)",value:"ast"},{name:"BUN",value:"bun"},{name:"CA",value:"ca"},{name:"CK (CPK)",value:"ck"},{name:"CKMB",value:"ckmb"},{name:"CRP",value:"crp"},{name:"CRE",value:"cre"},{name:"GLU",value:"glu"},{name:"HDL-C",value:"hdlc"},{name:"LDH",value:"ldh"},{name:"LDL",value:"ldl"},{name:"LPS",value:"lps"},{name:"MG",value:"mg"},{name:"Na-K-Cl",value:"nakcl"},{name:"NH3-W",value:"nh3w"},{name:"P(IP)",value:"ip"},{name:"TBIL",value:"tbil"},{name:"TG",value:"tg"},{name:"TCHO",value:"tcho"},{name:"TP",value:"tp"},{name:"UA",value:"ua"}]);return(i,b)=>{const d=s("AppCheckboxInput"),_=s("AppCheckboxTwoInput"),h=s("AppCheckbox");return c(),y("div",M(i.$attrs,{class:"p-2"}),[_t,n(X,{name:t("animalSpecies")},null,8,["name"]),n(I,{label:"Specimen:"},{content:f(()=>[n(d,{id:"bloodChemistrySerum","checkbox-name":t("specimen[0].item"),"checked-value":"serum",label:"Serum","input-name":t("specimen[0].amount"),"input-placeholder":"數量","input-type":"number","input-min":0},null,8,["checkbox-name","input-name"]),n(d,{id:"bloodChemistryPlasma","checkbox-name":t("specimen[1].item"),"checked-value":"plasma",label:"Plasma","input-name":t("specimen[1].amount"),"input-placeholder":"數量","input-type":"number","input-min":0},null,8,["checkbox-name","input-name"]),n(_,{id:"bloodChemistryOther","checkbox-name":t("specimen[2].item"),"checked-value":"other",label:"Other","first-input-name":t("specimen[2].otherItem"),"first-input-placeholder":"檢體種類","second-input-name":t("specimen[2].amount"),"second-input-placeholder":"數量","second-input-type":"number","second-input-min":0},null,8,["checkbox-name","first-input-name","second-input-name"]),n(h,{id:"bloodChemistryTMC",name:t("specimen[3].item"),"checked-value":"twatc",label:"TMC was authorized to collect"},null,8,["name"])]),_:1}),n(I,{label:"Delivery status:"},{content:f(()=>[n(q,{id:"bloodChemistryRoomTemperature",name:t("deliveryStatus"),"checked-value":"roomTemperature",label:"Room Temperature"},null,8,["name"]),n(q,{id:"bloodChemistryIceBath",name:t("deliveryStatus"),"checked-value":"iceBath",label:"Ice Bath"},null,8,["name"]),n(q,{id:"bloodChemistryDryIceBath",name:t("deliveryStatus"),"checked-value":"dryIceBath",label:"Dry Ice Bath"},null,8,["name"])]),_:1}),n(I,{label:"檢測項目"},{content:f(()=>[e("div",bt,[(c(!0),y(O,null,V(l.value,(g,k)=>(c(),y("div",{class:"col-4",key:g.value},[n(d,{class:"m-1",id:`bloodChemistry${g.value}`,"checkbox-name":t(`testItems[${k}].item`),"checked-value":g.value,label:g.name,"input-name":t(`testItems[${k}].amount`),"input-type":"number","input-min":0},null,8,["id","checkbox-name","checked-value","label","input-name"])]))),128))])]),_:1})],16)}}}),ft=e("h6",null,"Complete Blood Count",-1),yt=w({inheritAttrs:!1,__name:"CompleteBloodCountForm",props:{prefix:{default:()=>""}},setup(r){const a=r,t=l=>a.prefix?`${a.prefix}.${l}`:l;return(l,i)=>{const b=s("AppCheckboxInput"),d=s("AppCheckboxTwoInput"),_=s("AppRadio");return c(),y("div",M(l.$attrs,{class:"p-2"}),[ft,n(X,{name:t("animalSpecies")},null,8,["name"]),n(I,{label:"Specimen"},{content:f(()=>[n(b,{"checkbox-name":t("specimen[0].item"),id:"cbcWholeBlood",label:"Whole blood","checked-value":"wholeBlood","input-name":t("specimen[0].amount"),"input-type":"number","input-min":0,"input-placeholder":"數量"},null,8,["checkbox-name","input-name"]),n(d,{"checkbox-name":t("specimen[1].item"),id:"cbcOtherSpecimen",label:"Other","checked-value":"otherSpecimen","first-input-name":t("specimen[1].otherItem"),"first-input-placeholder":"檢體種類","second-input-name":t("specimen[1].amount"),"second-input-type":"number","second-input-placeholder":"數量","second-input-min":0},null,8,["checkbox-name","first-input-name","second-input-name"]),n(Z,{id:"cbcTMC",name:t("specimen[2].item"),label:"TMC was authorized to collect","checked-value":"twatc"},null,8,["name"])]),_:1}),n(I,{label:"Delivery status:"},{content:f(()=>[n(_,{id:"cbcRoomTemperature",name:t("deliveryStatus"),label:"Room Temperature","checked-value":"roomTemperature"},null,8,["name"]),n(_,{id:"cbcIceBath",name:t("deliveryStatus"),label:"Ice Bath","checked-value":"iceBath"},null,8,["name"])]),_:1})],16)}}}),gt=e("span",null,"※ 1 plate包含74個test，但仍會根據實驗情形調整上機盤數。",-1),$t=e("br",null,null,-1),kt=e("span",null,"※預設為1 sample 1 test。",-1),At=e("br",null,null,-1),xt={class:"input-group input-group-sm my-1"},St=e("span",{class:"input-group-text"},"項目名稱      ",-1),It={class:"input-group input-group-sm my-1"},Ct=e("span",{class:"input-group-text"},"Test number",-1),Tt=e("span",{class:"mx-2"},"X",-1),wt=e("span",{class:"mx-1"},"=",-1),Bt={class:"d-flex flex-row-reverse my-2"},he=w({__name:"BloodCommissionedItem",props:{prefix:{default:()=>""}},setup(r){const a=r,{remove:t,push:l,fields:i}=K(m(a.prefix,"testItems")),b={itemName:"",sampleNo:"",duplicate:""};ae(()=>{l(b)});const d=(_,h)=>{const g=_|0,k=h|0;return g*k};return(_,h)=>{const g=s("AppInput"),k=s("AppPlusButton"),$=s("AppMinusButton");return c(),y(O,null,[gt,$t,kt,At,(c(!0),y(O,null,V(o(i),(p,v)=>(c(),y("div",{key:p.key},[e("div",xt,[St,n(g,{name:o(m)(_.prefix,`testItems[${v}].itemName`)},null,8,["name"])]),e("div",It,[Ct,n(g,{class:"form-control-sm",name:o(m)(_.prefix,`testItems[${v}].sampleNo`),type:"number",min:"0",placeholder:"Sample number",title:"Sample number"},null,8,["name"]),Tt,n(g,{class:"form-control-sm",name:o(m)(_.prefix,`testItems[${v}].duplicate`),type:"number",min:"0",placeholder:"Duplicate",title:"Duplicate"},null,8,["name"]),wt,e("span",null,H(d(o(i)[v].value.sampleNo,o(i)[v].value.duplicate)),1)])]))),128)),e("div",Bt,[n(k,{onClick:h[0]||(h[0]=U(p=>o(l)(b),["prevent"])),class:"mx-1"}),B(n($,{onClick:h[1]||(h[1]=U(p=>o(t)(o(i).length-1),["prevent"]))},null,512),[[R,o(i).length>1]])])],64)}}}),Rt=e("h6",null,"ELISA",-1),Nt=w({inheritAttrs:!1,__name:"ElisaForm",props:{prefix:{default:()=>""}},setup(r){return(a,t)=>{const l=s("AppCheckboxInput"),i=s("AppCheckboxTwoInput"),b=s("AppCheckbox"),d=s("AppTextarea");return c(),y("div",M(a.$attrs,{class:"p-2"}),[Rt,n(X,{name:o(m)(a.prefix,"animalSpecies"),required:!0},null,8,["name"]),n(I,{label:"Specimen:",required:!0},{content:f(()=>[n(l,{id:"elisaSerum","checkbox-name":o(m)(a.prefix,"specimen[0].item"),"checked-value":"serum",label:"Serum","input-name":o(m)(a.prefix,"specimen[0].amount"),"input-type":"number","input-min":0,"input-placeholder":"數量"},null,8,["checkbox-name","input-name"]),n(l,{id:"elisaPlasma","checkbox-name":o(m)(a.prefix,"specimen[1].item"),"checked-value":"plasma",label:"Plasma","input-name":o(m)(a.prefix,"specimen[1].amount"),"input-type":"number","input-min":0,"input-placeholder":"數量"},null,8,["checkbox-name","input-name"]),n(i,{id:"elisaOther","checkbox-name":o(m)(a.prefix,"specimen[2].item"),"checked-value":"other",label:"Other","first-input-name":o(m)(a.prefix,"specimen[2].otherItem"),"first-input-placeholder":"Specimen type","second-input-name":o(m)(a.prefix,"specimen[2].amount"),"second-input-type":"number","second-input-placeholder":"數量"},null,8,["checkbox-name","first-input-name","second-input-name"]),n(b,{id:"elisaTMC",name:o(m)(a.prefix,"specimen[3].item"),label:"TMC was authorized to collect","checked-value":"twatc"},null,8,["name"])]),_:1}),n(I,{label:"Delivery status:",required:!0},{content:f(()=>[n(q,{id:"elisaRoomTemperature",name:o(m)(a.prefix,"deliveryStatus"),"checked-value":"roomTemperature",label:"Room Temperature"},null,8,["name"]),n(q,{id:"elisaIceBath",name:o(m)(a.prefix,"deliveryStatus"),"checked-value":"iceBath",label:"Ice Bath"},null,8,["name"]),n(q,{id:"elisaDryIceBath",name:o(m)(a.prefix,"deliveryStatus"),"checked-value":"dryIceBath",label:"Dry Ice Bath"},null,8,["name"])]),_:1}),n(I,{label:"委託項目",required:!0},{content:f(()=>[n(he,{prefix:a.prefix},null,8,["prefix"])]),_:1}),n(I,{label:"備註"},{content:f(()=>[n(d,{name:o(m)(a.prefix,a.prefix,"note")},null,8,["name"])]),_:1})],16)}}}),Et=e("h6",null,"Luminex",-1),Lt=w({inheritAttrs:!1,__name:"LuminexForm",props:{prefix:{default:()=>""}},setup(r){return(a,t)=>{const l=s("AppCheckboxInput"),i=s("AppCheckboxTwoInput"),b=s("AppCheckbox"),d=s("AppRadio"),_=s("AppTextarea");return c(),y("div",M(a.$attrs,{class:"p-2"}),[Et,n(X,{name:o(m)(a.prefix,"animalSpecies"),required:!0},null,8,["name"]),n(I,{label:"Specimen:",required:!0},{content:f(()=>[n(l,{id:"luminexSerum","checkbox-name":o(m)(a.prefix,"specimen[0].item"),"checked-value":"serum",label:"Serum","input-name":o(m)(a.prefix,"specimen[0].amount"),"input-type":"number","input-min":0,"input-placeholder":"數量"},null,8,["checkbox-name","input-name"]),n(l,{id:"luminexPlasma","checkbox-name":o(m)(a.prefix,"specimen[1].item"),"checked-value":"plasma",label:"Plasma","input-name":o(m)(a.prefix,"specimen[1].amount"),"input-type":"number","input-min":0,"input-placeholder":"數量"},null,8,["checkbox-name","input-name"]),n(i,{id:"luminexOther","checkbox-name":o(m)(a.prefix,"specimen[2].item"),"checked-value":"other",label:"Other","first-input-name":o(m)(a.prefix,"specimen[2].otherItem"),"first-input-placeholder":"Specimen type","second-input-name":o(m)(a.prefix,"specimen[2].amount"),"second-input-type":"number","second-input-placeholder":"數量"},null,8,["checkbox-name","first-input-name","second-input-name"]),n(b,{id:"luminexTMC",name:o(m)(a.prefix,"specimen[3].item"),label:"TMC was authorized to collect","checked-value":"twatc"},null,8,["name"])]),_:1}),n(I,{label:"Delivery status:",required:!0},{content:f(()=>[n(d,{id:"luminexRoomTemperature",name:o(m)(a.prefix,"deliveryStatus"),"checked-value":"roomTemperature",label:"Room Temperature"},null,8,["name"]),n(d,{id:"luminexIceBath",name:o(m)(a.prefix,"deliveryStatus"),"checked-value":"iceBath",label:"Ice Bath"},null,8,["name"]),n(d,{id:"luminexDryIceBath",name:o(m)(a.prefix,"deliveryStatus"),"checked-value":"dryIceBath",label:"Dry Ice Bath"},null,8,["name"])]),_:1}),n(I,{label:"委託項目",required:!0},{content:f(()=>[n(he,{prefix:a.prefix},null,8,["prefix"])]),_:1}),n(I,{label:"備註"},{content:f(()=>[n(_,{name:o(m)(a.prefix,a.prefix,a.prefix,"note")},null,8,["name"])]),_:1})],16)}}}),Ot=e("h6",null,"Platelet Aggregation",-1),Ft={class:"row col-11"},Dt={class:"input-group"},Mt=w({inheritAttrs:!1,__name:"PlateletAggregationForm",props:{prefix:{default:""}},setup(r){const a=r,t=$=>a.prefix?`${a.prefix}.${$}`:$,l=j([{id:"resistance",name:"電阻",value:"電阻"},{id:"optical",name:"光學法",value:"光學法"}]),i=j([{id:"adp",name:"ADP",value:"ADP"},{id:"collagen",name:"Collagen",value:"Collagen"}]),b={method:"",drug:"",amount:""},{remove:d,push:_,fields:h}=K(t("testItems")),g=()=>{_(b)},k=$=>$===h.value.length-1&&h.value.length<4;return($,p)=>{const v=s("AppCheckboxInput"),A=s("AppCheckboxTwoInput"),C=s("AppCheckbox"),x=s("AppSelect"),u=s("AppInput"),D=s("AppMinusButton"),P=s("AppPlusButton");return c(),y("div",M($.$attrs,{class:"p-2"}),[Ot,n(X,{name:t("animalSpecies")},null,8,["name"]),n(I,{label:"Specimen"},{content:f(()=>[n(v,{"checkbox-name":t("specimen[0].item"),id:"plateletAggregationWholeBlood",label:"Whole blood","checked-value":"wholeBlood","input-name":t("specimen[0].amount"),"input-type":"number","input-placeholder":"數量","input-min":0},null,8,["checkbox-name","input-name"]),n(v,{"checkbox-name":t("specimen[1].item"),id:"plateletAggregationPlasma",label:"Plasma","checked-value":"plasma","input-name":t("specimen[1].amount"),"input-placeholder":"數量","input-type":"number","input-min":0},null,8,["checkbox-name","input-name"]),n(A,{"checkbox-name":t("specimen[2].item"),id:"plateletAggregationOtherSpecimen",label:"Other","checked-value":"otherSpecimen","first-input-name":t("specimen[2].otherItem"),"first-input-placeholder":"檢體種類","second-input-name":t("specimen[2].amount"),"second-input-type":"number","second-input-min":0,"second-input-placeholder":"數量"},null,8,["checkbox-name","first-input-name","second-input-name"]),n(C,{id:"plateletAggregationTMC",name:t("specimen[3].item"),label:"TMC was authorized to collect","checked-value":"twatc"},null,8,["name"])]),_:1}),n(I,{label:"檢測項目"},{content:f(()=>[(c(!0),y(O,null,V(o(h),(Q,L)=>(c(),y("div",{key:Q.key},[e("div",Ft,[e("div",Dt,[n(x,{name:t(`testItems[${L}].method`),options:l.value},null,8,["name","options"]),z(" * "),n(x,{name:t(`testItems[${L}].drug`),options:i.value},null,8,["name","options"]),z(" * "),n(u,{name:t(`testItems[${L}].amount`),type:"number",min:"0",placeholder:"數量"},null,8,["name"]),n(D,{onClick:U(ve=>o(d)(L),["prevent"])},null,8,["onClick"]),B(n(P,{onClick:p[0]||(p[0]=U(ve=>o(_)(b),["prevent"]))},null,512),[[R,k(L)]])])])]))),128)),B(n(P,{onClick:U(g,["prevent"])},null,512),[[R,o(h).length===0]])]),_:1})],16)}}}),Pt=e("h6",null,"Urine Assay",-1),Ht=w({inheritAttrs:!1,__name:"UrineAssayForm",props:{prefix:{default:()=>""}},setup(r){const a=r,t=l=>a.prefix?`${a.prefix}.${l}`:l;return(l,i)=>{const b=s("AppCheckbox"),d=s("AppCheckboxInput"),_=s("AppRadio"),h=s("AppInput");return c(),y("div",M(l.$attrs,{class:"p-2"}),[Pt,n(I,{label:"Animal Species :"},{content:f(()=>[n(b,{id:t("animalSpecies")+"Mouse",name:t("animalSpecies"),"checked-value":"mouse",label:"Mouse"},null,8,["id","name"]),n(b,{id:t("animalSpecies")+"Rat",name:t("animalSpecies"),"checked-value":"rat",label:"Rat"},null,8,["id","name"]),n(d,{label:"Other",id:t("animalSpecies")+"Other","checkbox-name":t("animalSpecies"),"checked-value":"other","input-name":`${t("animalSpecies")}Other`,"input-placeholder":"物種"},null,8,["id","checkbox-name","input-name"]),n(b,{id:"urineAssayTMC",name:t("animalSpecies"),label:"TMC was authorized to collect","checked-value":"twatc"},null,8,["name"])]),_:1}),n(I,{label:"Delivery status:"},{content:f(()=>[n(_,{id:"urineAssayRoomTemperature",label:"Room Temperature",name:t("deliveryStatus"),"checked-value":"roomTemperature"},null,8,["name"]),n(_,{id:"urineAssayIceBath",name:t("deliveryStatus"),label:"Ice Bath","checked-value":"iceBath"},null,8,["name"]),n(_,{id:"urineAssayDryIceBath",name:t("deliveryStatus"),label:"Dry Ice Bath","checked-value":"dryIceBath"},null,8,["name"])]),_:1}),n(I,{label:"Number of Specimen:"},{content:f(()=>[n(h,{name:t("noOfSpecies"),type:"number",min:0,placeholder:"數量"},null,8,["name"])]),_:1})],16)}}}),zt={class:"accordion",id:"tissueSectionAccordion"},Ut={class:"accordion-item"},qt=e("h2",{class:"accordion-header",id:"headingBlood"},[e("button",{class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseBlood","aria-expanded":"false","aria-controls":"collapseBlood"},[e("h5",{class:"mb-0"},"填寫血液/血清/尿液/組織均質液/其他體液")])],-1),Vt={id:"collapseBlood",class:"accordion-collapse collapse show","aria-labelledby":"headingBlood","data-bs-parent":"#tissueSectionAccordion"},Kt={class:"accordion-body"},Yt=w({inheritAttrs:!1,__name:"BloodForm",props:{prefix:{default:()=>""}},setup(r){const a=r,t=le(m(a.prefix,"inspectionItems"));return N(()=>{var l;return(l=t.value)==null?void 0:l.includes("cbc")}),N(()=>{var l;return(l=t.value)==null?void 0:l.includes("bloodChemistry")}),N(()=>{var l;return(l=t.value)==null?void 0:l.includes("urineAssay")}),N(()=>{var l;return(l=t.value)==null?void 0:l.includes("elisa")}),N(()=>{var l;return(l=t.value)==null?void 0:l.includes("luminex")}),N(()=>{var l;return(l=t.value)==null?void 0:l.includes("plateletAggregation")}),(l,i)=>{const b=s("AppCheckbox"),d=s("AppCard");return c(),y("div",Y(G(l.$attrs)),[e("div",zt,[e("div",Ut,[qt,e("div",Vt,[e("div",Kt,[n(d,{class:"p-2"},{body:f(()=>{var _,h,g,k,$,p;return[n(I,{label:"檢驗項目"},{content:f(()=>[n(b,{id:o(m)(a.prefix,"cbc"),name:o(m)(a.prefix,"inspectionItems"),label:"Complete Blood Count","checked-value":"cbc"},null,8,["id","name"]),n(b,{id:o(m)(a.prefix,"bloodChemistry"),name:o(m)(a.prefix,"inspectionItems"),label:"Blood chemistry","checked-value":"bloodChemistry"},null,8,["id","name"]),n(b,{id:o(m)(a.prefix,"urineAssay"),name:o(m)(a.prefix,"inspectionItems"),label:"Urine Assay","checked-value":"urineAssay"},null,8,["id","name"]),n(b,{id:o(m)(a.prefix,"elisa"),name:o(m)(a.prefix,"inspectionItems"),label:"ELISA","checked-value":"elisa"},null,8,["id","name"]),n(b,{id:o(m)(a.prefix,"luminex"),name:o(m)(a.prefix,"inspectionItems"),label:"Luminex","checked-value":"luminex"},null,8,["id","name"]),n(b,{id:o(m)(a.prefix,"plateletAggregation"),name:o(m)(a.prefix,"inspectionItems"),label:"Platelet aggregation","checked-value":"plateletAggregation"},null,8,["id","name"])]),_:1}),(_=o(t))!=null&&_.includes("cbc")?(c(),T(yt,{key:0,class:"my-2 text-bg-light",prefix:o(m)(a.prefix,"cbc")},null,8,["prefix"])):S("",!0),(h=o(t))!=null&&h.includes("bloodChemistry")?(c(),T(vt,{key:1,class:"my-2 text-bg-light",prefix:o(m)(a.prefix,"bloodChemistry")},null,8,["prefix"])):S("",!0),(g=o(t))!=null&&g.includes("urineAssay")?(c(),T(Ht,{key:2,class:"my-2 text-bg-light",prefix:o(m)(a.prefix,"urineAssay")},null,8,["prefix"])):S("",!0),(k=o(t))!=null&&k.includes("elisa")?(c(),T(Nt,{key:3,class:"my-1 text-bg-light",prefix:o(m)(a.prefix,"elisa")},null,8,["prefix"])):S("",!0),($=o(t))!=null&&$.includes("luminex")?(c(),T(Lt,{key:4,class:"my-2 text-bg-light",prefix:o(m)(a.prefix,"luminex")},null,8,["prefix"])):S("",!0),(p=o(t))!=null&&p.includes("plateletAggregation")?(c(),T(Mt,{key:5,class:"my-2 text-bg-light",prefix:o(m)(a.prefix,"plateletAggregation")},null,8,["prefix"])):S("",!0)]}),_:1})])])])])],16)}}}),_e=["Ear","Lung","Prostate","Spinal cord","Head-nasal passages","Thymus","Urinary bladder","WAT","Brain","Heart","Ovary","BAT","Adrenal gland","Liver","Uterus","Skin","Pituitary gland","Gall bladder","Preputial gland","Long Bone","Eyes","Spleen","Epididymis","Joint","Teeth","Pancreas","Testes","Foot pad","Salivary gland","Kidney","Lymph node","Tumor","Trachea","Stomach","Skeletal muscle","Cell","Thyroid and parathyroid gland","Intestine","Sciatic nerve","Other"],Gt={class:"input-group input-group-sm"},jt={class:"d-flex flex-row-reverse my-1"},Qt={class:"input-group input-group-sm my-1"},Xt=e("span",{class:"input-group-text"},"Blank",-1),Wt={key:0,class:"input-group input-group-sm my-1"},Jt=e("span",{class:"input-group-text"},"HE     ",-1),Zt={class:"d-flex flex-row-reverse my-1"},eo=w({inheritAttrs:!1,__name:"TissueSectionCommissionedItemPanel",emits:["addItems"],setup(r,{emit:a}){const t=a,{handleSubmit:l,resetForm:i,errors:b}=se({validationSchema:Se}),{push:d,fields:_}=K("organs"),h=j(""),g=l(C=>{const x=C.organs.map(u=>({id:ne(),name:u.name,no:u.no,method:u.method,fixativeTime:C.fixativeTime,sectionType:C.sectionType,blank:C.blank,he:C.he}));t("addItems",x),i()}),k=N(()=>h.value!==""),$=N(()=>h.value==="frozen"),p=C=>{h.value=C.value},v={name:"",no:"",method:""},A=()=>{d(v)};return ae(()=>{A()}),(C,x)=>{const u=s("AppInput"),D=s("AppSelect2"),P=s("AppPlusButton");return c(),T(te,null,{content:f(()=>[n(I,{label:"Fixative Time",required:!0},{content:f(()=>[n(u,{id:"fixativeTime",name:"fixativeTime",type:"date"})]),_:1}),n(I,{label:"Section type"},{content:f(()=>[n(q,{name:"sectionType",id:"paraffin","checked-value":"paraffin",label:"Paraffin",onUpdateValue:p}),n(q,{name:"sectionType",id:"frozen","checked-value":"frozen",label:"Frozen",onUpdateValue:p})]),_:1}),k.value?(c(),T(I,{key:0,label:"Organ"},{content:f(()=>[(c(!0),y(O,null,V(o(_),(Q,L)=>(c(),y("div",{class:"my-3",key:Q.key},[e("div",Gt,[n(D,{clearable:!1,name:`organs[${L}].name`,options:o(_e)},null,8,["name","options"]),n(u,{name:`organs[${L}].no`,type:"number",min:"0",placeholder:"數量",title:"數量"},null,8,["name"])]),n(te,{class:"bg-secondary bg-opacity-10"},{content:f(()=>[n(Z,{id:`tissueTrimming${L}`,name:`organs[${L}].method`,"checked-value":"tissueTrimming",label:"Tissue Trimming"},null,8,["id","name"]),n(Z,{id:`decalcification${L}`,name:`organs[${L}].method`,"checked-value":"decalcification",label:"Decalcification"},null,8,["id","name"]),n(Z,{id:`tpae${L}`,name:`organs[${L}].method`,"checked-value":"tpae",label:"Tissue processing and embedding"},null,8,["id","name"])]),_:2},1024)]))),128)),e("div",jt,[n(P,{onClick:A})])]),_:1})):S("",!0),k.value?(c(),T(I,{key:1,label:"Section/per block"},{content:f(()=>[e("div",Qt,[Xt,n(u,{name:"blank",placeholder:"Section/per block"})]),$.value?S("",!0):(c(),y("div",Wt,[Jt,n(u,{name:"he",placeholder:"Section/per block"})]))]),_:1})):S("",!0),e("div",Zt,[e("button",{class:"btn btn-success",onClick:x[0]||(x[0]=(...Q)=>o(g)&&o(g)(...Q))},"確認")])]),_:1})}}}),W=r=>(re("data-v-a4836071"),r=r(),de(),r),no={class:"flex-container"},to={class:"item",style:{width:"350px"}},oo={class:"item flex-container"},ao={class:"item"},lo={class:"mb-1"},so={class:"item"},io={class:"item flex-container"},co={class:"item"},ro=["checked"],mo=W(()=>e("label",{class:"form-check-label",for:"tissueTrimming"}," 修剪 ",-1)),po={class:"item"},uo=["checked"],ho=W(()=>e("label",{class:"form-check-label",for:"decalcification"}," 脫鈣 ",-1)),_o={class:"item"},bo=["checked"],vo=W(()=>e("label",{class:"form-check-label",for:"tpae"}," 包埋 ",-1)),fo={class:"item flex-container"},yo={class:"item"},go={class:"input-group input-group-sm my-1"},$o=W(()=>e("span",{class:"input-group-text"},"Blank",-1)),ko=["value"],Ao={class:"item"},xo={class:"input-group input-group-sm my-1"},So={class:"input-group-text"},Io=["value"],Co={style:{width:"20px",position:"static",transform:"translate(2px, 35%)"}},To=["onClick"],wo=W(()=>e("i",{class:"bi bi-trash"},null,-1)),Bo=[wo],Ro=w({inheritAttrs:!1,__name:"SelectedTissueSectionCommissionedItemPanel",props:{organItems:{}},emits:["removeItem"],setup(r,{emit:a}){const t=a,l=i=>{t("removeItem",i)};return(i,b)=>(c(),y("ul",M({class:"list-group"},i.$attrs),[(c(!0),y(O,null,V(i.organItems,(d,_)=>(c(),y("li",{class:"list-group-item p-1",key:d.index},[e("div",no,[e("div",to,[e("div",oo,[e("div",ao,[e("strong",lo,"#"+H(_+1)+" "+H(d.item.name),1)]),e("div",so,[e("strong",null,"數量:"+H(d.item.no),1)])]),e("div",io,[e("div",co,[e("input",{class:"form-check-input",type:"checkbox",id:"tissueTrimming",disabled:"",checked:d.item.method.includes("tissueTrimming")},null,8,ro),mo]),e("div",po,[e("input",{class:"form-check-input",type:"checkbox",id:"decalcification",disabled:"",checked:d.item.method.includes("decalcification")},null,8,uo),ho]),e("div",_o,[e("input",{class:"form-check-input",type:"checkbox",id:"tpae",disabled:"",checked:d.item.method.includes("tpae")},null,8,bo),vo])]),e("div",fo,[e("div",yo,[e("div",go,[$o,e("input",{type:"text",class:"form-control",value:d.item.blank,disabled:"true"},null,8,ko)])]),e("div",Ao,[e("div",xo,[B(e("span",So,"HE    ",512),[[R,d.item.he]]),B(e("input",{type:"text",class:"form-control",value:d.item.he,disabled:"true"},null,8,Io),[[R,d.item.he]])])])])]),e("div",Co,[e("a",{href:"#",class:"link-danger",onClick:U(h=>l(_),["prevent"])},Bo,8,To)])])]))),128))],16))}});const No=me(Ro,[["__scopeId","data-v-a4836071"]]),Eo={class:"accordion",id:"tissueSectionAccordion"},Lo={class:"accordion-item"},Oo=e("h2",{class:"accordion-header",id:"headingOne"},[e("button",{class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseTissue","aria-expanded":"false","aria-controls":"collapseTissue"},[e("h5",{class:"mb-0"},"填寫組織切片")])],-1),Fo={id:"collapseTissue",class:"accordion-collapse collapse show","aria-labelledby":"headingOne","data-bs-parent":"#tissueSectionAccordion"},Do={class:"accordion-body"},Mo={class:"row mb-3"},Po=e("label",{class:"col-sm-2 col-auto col-form-label red-star"},"委託項目",-1),Ho={class:"col-sm-10 col-md-10 col-lg-6"},zo={class:"text-danger"},Uo=w({inheritAttrs:!1,__name:"TissueSectionForm",setup(r){const{push:a,remove:t,fields:l}=K("tissueSection.organs"),i=N(()=>{var g;return(g=l.value)==null?void 0:g.map((k,$)=>({index:$,item:k.value}))}),b=g=>{_.value=!1,g.forEach(k=>{a(k)})},d=g=>{t(g)},_=j(!1),h=()=>{_.value=!_.value};return(g,k)=>{const $=s("AppCard");return c(),y("div",Y(G(g.$attrs)),[e("div",Eo,[e("div",Lo,[Oo,e("div",Fo,[e("div",Do,[n($,null,{body:f(()=>[e("div",Mo,[Po,e("div",Ho,[n(No,{class:"m-2",organItems:i.value,onRemoveItem:d},null,8,["organItems"]),B(e("div",zo,"未選擇",512),[[R,o(l).length===0]]),_.value?S("",!0):(c(),y("button",{key:0,type:"button",class:"btn btn-secondary",onClick:h}," 新增 "))])]),_.value?(c(),T(eo,{key:0,onAddItems:b})):S("",!0)]),_:1})])])])])],16)}}}),qo={class:"input-group input-group-sm"},Vo={class:"row my-2"},Ko=e("label",{class:"col-sm-2 col-form-label red-star"},"Primary Antibody",-1),Yo={class:"col-sm-8"},Go={class:"row mb-2"},jo=e("label",{class:"col-sm-2 col-form-label"},"Host",-1),Qo={class:"col-sm-8"},Xo={class:"row mb-2"},Wo=e("label",{class:"col-sm-2 col-form-label"},"Positive Ctrl",-1),Jo={class:"col-sm-8"},Zo={class:"row mb-2"},ea=e("label",{class:"col-sm-2 col-form-label"},"Negative Ctrl",-1),na={class:"col-sm-8"},ta={key:0,class:"row my-2"},oa=e("label",{class:"col-sm-2 col-form-label"},"Secondary Antibody",-1),aa={class:"col-sm-8"},la={class:"d-flex flex-row my-1"},sa={class:"d-flex flex-row-reverse my-1"},ia=w({inheritAttrs:!1,__name:"IhcCommissionedItemPanel",props:{showSecondAntibody:{type:Boolean}},emits:["addItems"],setup(r,{emit:a}){const t=a,{handleSubmit:l,resetForm:i}=se({validationSchema:Ie}),{push:b,fields:d}=K("items"),_=l(g=>{const k=g.items.map($=>({id:ne(),organ:g.organ,no:g.no,primaryAntibody:$.primaryAntibody,secondaryAntibody:$.secondaryAntibody,host:$.host,hostOther:$.hostOther,positiveCtrl:$.positiveCtrl,negativeCtrl:$.negativeCtrl}));t("addItems",k),i()}),h=()=>{b({})};return ae(()=>{h()}),(g,k)=>{const $=s("AppSelect2"),p=s("AppInput"),v=s("AppRadio"),A=s("AppRadioInput"),C=s("AppPlusButton");return c(),T(te,null,{content:f(()=>[n(I,{label:"Organ"},{content:f(()=>[e("div",qo,[n($,{clearable:!1,name:"organ",options:o(_e)},null,8,["options"]),n(p,{name:"no",type:"number",min:"0",placeholder:"數量",title:"數量"})])]),_:1}),(c(!0),y(O,null,V(o(d),(x,u)=>(c(),y("div",{key:x.key},[e("div",Vo,[Ko,e("div",Yo,[n(p,{name:`items[${u}].primaryAntibody`},null,8,["name"])])]),e("div",Go,[jo,e("div",Qo,[n(v,{id:`ihccpMouse${u}`,name:`items[${u}].host`,label:"Mouse","checked-value":"mouse"},null,8,["id","name"]),n(v,{id:`ihccpRabbit${u}`,name:`items[${u}].host`,label:"Rabbit","checked-value":"rabbit"},null,8,["id","name"]),n(v,{id:`ihccpHuman${u}`,name:`items[${u}].host`,label:"Human","checked-value":"human"},null,8,["id","name"]),n(v,{id:`ihccpGoat${u}`,name:`items[${u}].host`,label:"Goat","checked-value":"goat"},null,8,["id","name"]),n(A,{id:`ihccpOther${u}`,"radio-name":`items[${u}].host`,label:"Other","checked-value":"other","input-name":`items[${u}].hostOther`},null,8,["id","radio-name","input-name"])])]),e("div",Xo,[Wo,e("div",Jo,[n(p,{name:`items[${u}].positiveCtrl`},null,8,["name"])])]),e("div",Zo,[ea,e("div",na,[n(p,{name:`items[${u}].negativeCtrl`},null,8,["name"])])]),g.showSecondAntibody?(c(),y("div",ta,[oa,e("div",aa,[n(p,{name:`items[${u}].secondaryAntibody`},null,8,["name"])])])):S("",!0)]))),128)),e("div",la,[n(C,{onClick:h})]),e("div",sa,[e("button",{class:"btn btn-success",onClick:k[0]||(k[0]=(...x)=>o(_)&&o(_)(...x))},"確認")])]),_:1})}}}),J=r=>(re("data-v-bf58a0b6"),r=r(),de(),r),ca={class:"flex-container"},ra={class:"item",style:{width:"360px"}},da={class:"item flex-container"},ma={class:"item"},pa={class:"text-primary-emphasis"},ua={class:"item"},ha={class:"item"},_a={class:"item"},ba={class:"item flex-container"},va={class:"item"},fa={class:"form-floating"},ya=["value"],ga=J(()=>e("label",{for:"organ"},"Organ",-1)),$a={class:"item"},ka={class:"form-floating"},Aa=["value"],xa=J(()=>e("label",{for:"host"},"Host",-1)),Sa={class:"item flex-container"},Ia={class:"item"},Ca={class:"form-floating"},Ta=["value"],wa=J(()=>e("label",{for:"organ"},"Positive Ctrl",-1)),Ba={class:"item"},Ra={class:"form-floating"},Na=["value"],Ea=J(()=>e("label",{for:"host"},"Negative Ctrl",-1)),La={style:{width:"20px",position:"static",transform:"translate(2px, 35%)"}},Oa=["onClick"],Fa=J(()=>e("i",{class:"bi bi-trash"},null,-1)),Da=[Fa],Ma=w({inheritAttrs:!1,__name:"SelectedIhcCommissionedItemPanel",props:{organItems:{}},emits:["removeItem"],setup(r,{emit:a}){const t=a,l=i=>{t("removeItem",i)};return(i,b)=>(c(),y("ul",M({class:"list-group"},i.$attrs),[(c(!0),y(O,null,V(i.organItems,(d,_)=>(c(),y("li",{class:"list-group-item p-1",key:d.index},[e("div",ca,[e("div",ra,[e("div",da,[e("div",ma,[e("strong",pa,"#"+H(_+1),1)]),e("div",ua,[e("b",null,H(d.item.primaryAntibody),1)]),e("div",ha,[e("b",null,H(d.item.secondaryAntibody),1)]),e("div",_a,[e("strong",null,"數量:"+H(d.item.no),1)])]),e("div",ba,[e("div",va,[e("div",fa,[e("input",{type:"text",class:"form-control",id:"organ",value:d.item.organ,disabled:"true"},null,8,ya),ga])]),e("div",$a,[e("div",ka,[e("input",{type:"text",class:"form-control",id:"host",value:d.item.host,disabled:"true"},null,8,Aa),xa])])]),e("div",Sa,[e("div",Ia,[e("div",Ca,[e("input",{type:"text",class:"form-control",id:"organ",value:d.item.positiveCtrl,disabled:"true"},null,8,Ta),wa])]),e("div",Ba,[e("div",Ra,[e("input",{type:"text",class:"form-control",id:"host",value:d.item.negativeCtrl,disabled:"true"},null,8,Na),Ea])])])]),e("div",La,[e("a",{href:"#",class:"link-danger",onClick:U(h=>l(_),["prevent"])},Da,8,Oa)])])]))),128))],16))}});const Pa=me(Ma,[["__scopeId","data-v-bf58a0b6"]]),Ha={class:"accordion",id:"ihcAccordion"},za={class:"accordion-item"},Ua=e("h2",{class:"accordion-header",id:"headingOne"},[e("button",{class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"false","aria-controls":"collapseOne"},[e("h5",{class:"mb-0"},"填寫組織染色")])],-1),qa={id:"collapseOne",class:"accordion-collapse collapse show","aria-labelledby":"headingOne","data-bs-parent":"#ihcAccordion"},Va={class:"accordion-body"},Ka={class:"row mb-3"},Ya=e("legend",{class:"col-form-label col-sm-2 pt-0 red-star"},"Animal Species",-1),Ga={class:"col-sm-10"},ja={class:"row mb-3"},Qa=e("legend",{class:"col-form-label col-sm-2 pt-0 red-star"},"Tissue type",-1),Xa={class:"col-sm-10"},Wa={class:"row mb-2"},Ja=e("label",{class:"col-sm-2 col-form-label red-star"},"Staining Type",-1),Za={class:"col-sm-8"},el={key:0},nl={class:"row mb-3"},tl=e("label",{class:"col-sm-2 col-auto col-form-label red-star"},"委託項目",-1),ol={class:"col-sm-10 col-md-10 col-lg-6"},al={class:"text-danger"},ll=w({inheritAttrs:!1,__name:"IhcForm",props:{prefix:{default:""}},setup(r){const a=r,t=le(m(a.prefix,"staining")),l=N(()=>t.value!==void 0&&ge(t.value,["ihc","if"])),i=N(()=>t.value!==void 0&&t.value.includes("if")),b=j(!1),d=N(()=>{var v;return(v=k.value)==null?void 0:v.map((A,C)=>({index:C,item:A.value}))}),_=()=>{b.value=!b.value},{remove:h,push:g,fields:k}=K(m(a.prefix,"organs")),$=v=>{h(v)},p=v=>{b.value=!1,v.forEach(A=>{g(A)})};return(v,A)=>{const C=s("AppCheckbox"),x=s("AppCheckboxInput"),u=s("AppRadio"),D=s("AppCheckboxTwoInput"),P=s("AppCard");return c(),y("div",Y(G(v.$attrs)),[e("div",Ha,[e("div",za,[Ua,e("div",qa,[e("div",Va,[n(P,null,{body:f(()=>[e("fieldset",Ka,[Ya,e("div",Ga,[n(C,{label:"Mouse",name:o(m)(v.prefix,"animalSpecies"),id:"mouse","checked-value":"mouse"},null,8,["name"]),n(C,{label:"影像學",name:o(m)(v.prefix,"animalSpecies"),id:"rat","checked-value":"radiology"},null,8,["name"]),n(x,{label:"Other",id:"ihc.animalSpecies","checkbox-name":o(m)(v.prefix,"animalSpecies"),"checked-value":"other","input-name":o(m)(v.prefix,"animalSpeciesOther")},null,8,["checkbox-name","input-name"])])]),e("fieldset",ja,[Qa,e("div",Xa,[n(u,{label:"Paraffin",name:o(m)(v.prefix,"tissueType"),id:"ihcParaffin","checked-value":"paraffin"},null,8,["name"]),n(u,{label:"Frozen",name:o(m)(v.prefix,"tissueType"),id:"ihcFrozen","checked-value":"frozen"},null,8,["name"])])]),e("div",Wa,[Ja,e("div",Za,[n(x,{id:"IHC","checked-value":"ihc",label:"Immunohistochemistry(IHC)","checkbox-name":o(m)(v.prefix,"staining"),"input-name":o(m)(v.prefix,"ihcNo"),"input-placeholder":"數量","input-type":"number","input-min":0},null,8,["checkbox-name","input-name"]),n(x,{id:"IF","checked-value":"if",label:"Immunofluorescence (IF)","checkbox-name":o(m)(v.prefix,"staining"),"input-name":o(m)(v.prefix,"ifNo"),"input-placeholder":"數量","input-type":"number","input-min":0},null,8,["checkbox-name","input-name"]),n(x,{id:"picroSiriusRedStainKit","checked-value":"picroSiriusRedStainKit",label:"Picro-sirius Red Stain Kit (for collagen)","checkbox-name":o(m)(v.prefix,"staining"),"input-name":o(m)(v.prefix,"psrskNo"),"input-placeholder":"數量","input-type":"number","input-min":0},null,8,["checkbox-name","input-name"]),n(x,{id:"trichromeStrainKit","checked-value":"trichromeStrainKit",label:"Trichrome Strain Kit(Modified Masson’s)","checkbox-name":o(m)(v.prefix,"staining"),"input-name":o(m)(v.prefix,"tskNo"),"input-placeholder":"數量","input-type":"number","input-min":0},null,8,["checkbox-name","input-name"]),n(x,{id:"oilRedOStainKit","checked-value":"oilRedOStainKit",label:"Oil Red O Stain Kit (for fat /only for frozen tissue section)","checkbox-name":o(m)(v.prefix,"staining"),"input-name":o(m)(v.prefix,"oroskNo"),"input-placeholder":"數量","input-type":"number","input-min":0},null,8,["checkbox-name","input-name"]),n(x,{id:"alcianBlueStainKit","checked-value":"alcianBlueStainKit",label:"Alcian Blue Stain Kit (for cartilage)","checkbox-name":o(m)(v.prefix,"staining"),"input-name":o(m)(v.prefix,"abskNo"),"input-placeholder":"數量","input-type":"number","input-min":0},null,8,["checkbox-name","input-name"]),n(x,{id:"tunel","checked-value":"tunel",label:"Tunel","checkbox-name":o(m)(v.prefix,"staining"),"input-name":o(m)(v.prefix,"tunelNo"),"input-placeholder":"數量","input-type":"number","input-min":0},null,8,["checkbox-name","input-name"]),n(D,{id:"otherStaining","checkbox-name":o(m)(v.prefix,"staining"),label:"Other","checked-value":"other","first-input-name":o(m)(v.prefix,"otherStainingInput"),"first-input-placeholder":"Staining Type","second-input-name":o(m)(v.prefix,"otherStainingNo"),"second-input-placeholder":"數量","second-input-type":"number","second-input-min":0},null,8,["checkbox-name","first-input-name","second-input-name"])])]),l.value?(c(),y("div",el,[e("div",nl,[tl,e("div",ol,[n(Pa,{class:"m-2",onRemoveItem:$,organItems:d.value},null,8,["organItems"]),B(e("div",al,"未選擇",512),[[R,o(k).length===0]]),b.value?S("",!0):(c(),y("button",{key:0,type:"button",class:"btn btn-secondary",onClick:_}," 新增 "))])]),b.value?(c(),T(ia,{key:0,onAddItems:p,showSecondAntibody:i.value},null,8,["showSecondAntibody"])):S("",!0)])):S("",!0)]),_:1})])])])])],16)}}}),sl={class:"accordion",id:"slideScanningAccordion"},il={class:"accordion-item"},cl=e("h2",{class:"accordion-header",id:"headingOne"},[e("button",{class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"false","aria-controls":"collapseOne"},[e("h5",{class:"mb-0"},"填寫玻片掃描")])],-1),rl={id:"collapseOne",class:"accordion-collapse collapse show","aria-labelledby":"headingOne","data-bs-parent":"#slideScanningAccordion"},dl={class:"accordion-body"},ml={class:"row mb-3"},pl=e("legend",{class:"col-form-label col-sm-2 pt-0 red-star"},"種類",-1),ul={class:"col-sm-10"},hl={key:0,class:"row mb-3"},_l=e("legend",{class:"col-form-label col-sm-2 pt-0 red-star"},"倍率",-1),bl={class:"col-sm-10"},vl={key:1,class:"row mb-3"},fl=e("label",{class:"col-sm-2 col-form-label red-star"},"數量",-1),yl={class:"col-8"},gl={key:2,class:"row mb-3"},$l=e("legend",{class:"col-form-label col-sm-2 pt-0 red-star"},"通道",-1),kl={class:"col-sm-10"},Al=w({inheritAttrs:!1,__name:"SlideScanningForm",setup(r){const a=le("slideScanning.type");return(t,l)=>{const i=s("AppRadio"),b=s("AppInput"),d=s("AppCheckbox"),_=s("AppCard");return c(),y("div",Y(G(t.$attrs)),[e("div",sl,[e("div",il,[cl,e("div",rl,[e("div",dl,[n(_,null,{body:f(()=>[e("fieldset",ml,[pl,e("div",ul,[n(i,{label:"可見光",name:"slideScanning.type",id:"slideScanningVisibleLight","checked-value":"visibleLight"}),n(i,{label:"螢光",name:"slideScanning.type",id:"slideScanningFluorescence","checked-value":"fluorescence"})])]),o(a)==="visibleLight"?(c(),y("fieldset",hl,[_l,e("div",bl,[n(i,{label:"200X",name:"slideScanning.magnification",id:"slideScanning200X","checked-value":"200X"}),n(i,{label:"400X",name:"slideScanning.magnification",id:"slideScanning400X","checked-value":"400X"})])])):S("",!0),o(a)!==""?(c(),y("div",vl,[fl,e("div",yl,[n(b,{type:"number",name:"slideScanning.quantity",min:"0",placeholder:"數量"})])])):S("",!0),o(a)==="fluorescence"?(c(),y("fieldset",gl,[$l,e("div",kl,[n(d,{label:"DAPI",name:"slideScanning.channel",id:"slideScanningDAPI","checked-value":"dapi"}),n(d,{label:"FITC",name:"slideScanning.channel",id:"slideScanningFITC","checked-value":"fitc"}),n(d,{label:"TexRed",name:"slideScanning.channel",id:"slideScanningTexRed","checked-value":"texred"}),n(d,{label:"Cy5",name:"slideScanning.channel",id:"slideScanningCy5","checked-value":"cy5"})])])):S("",!0)]),_:1})])])])])],16)}}}),xl={class:"accordion",id:"slideScanningAccordion"},Sl={class:"accordion-item"},Il=e("h2",{class:"accordion-header",id:"headingHistopathology"},[e("button",{class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseHistopathology","aria-expanded":"false","aria-controls":"collapseHistopathology"},[e("h5",{class:"mb-0"},"填寫病理切片判讀")])],-1),Cl={id:"collapseHistopathology",class:"accordion-collapse collapse show","aria-labelledby":"headingHistopathology","data-bs-parent":"#slideScanningAccordion"},Tl={class:"accordion-body"},wl=e("ol",{class:"my-4"},[e("li",null," 請盡可能詳實填寫上述檢體描述、分組/對照組/實驗組變因、給藥處理。若病理獸醫師判定檢體資訊不足，將會退回請申請者再次進行確認。 "),e("li",null," 病理報告格式為英文肉眼病變(gross finding，如有病理剖檢)、病變描述(histopathology finding)、註解(comment)與必要病理切片影像，不一定包含病變評分表及數據分析。 "),e("li",null," 所有描述之病變影像及病變箭頭指標，依照病理獸醫師判斷視狀況添加，非固定所含之內容。請於申請表內寫明是否需要其他報告語言(例如中文)，或是其他原始資料(如額外照片影像檔)，服務將額外計價、收費。 "),e("li",null," 檢體處理與報告時間若沒有約定，則依照台灣小鼠診所內部流程進行排程，申請者得補件。若須約定交件日期則以急件處理、計價、收費。病理判讀依片數多寡，約需1-4個月。 "),e("li",null," 病理獸醫師業務不保證檢體處理、組織切片及染色之各項品質。當台灣小鼠診所病理業務交付切片檢體後，病理獸醫師將再次寄送通知給申請者確認交件日期。 "),e("li",null," 病理報告交付後，若有其他問題，依照台灣小鼠診所政策得諮詢內容，若超過諮詢之義務及對內容有疑義，須循報價系統進行計價、收費後方得進行。 ")],-1),Bl={class:"form-check form-check-inline"},Rl=e("label",{class:"form-check-label",for:"terms"}," 我已詳細閱讀並同意上述規定 ",-1),Nl={__name:"HistopathologyForm",setup(r){return(a,t)=>{const l=s("AppRadio"),i=s("AppInput"),b=s("AppTextarea"),d=s("AppCheckbox"),_=s("AppCard");return c(),y("div",xl,[e("div",Sl,[Il,e("div",Cl,[e("div",Tl,[n(_,null,{body:f(()=>[n(I,{label:"物種",class:"my-1",required:!0},{content:f(()=>[n(l,{id:"hfMouse",name:"histopathology.species","checked-value":"mouse",label:"小鼠"}),n(l,{id:"hfRat",name:"histopathology.species","checked-value":"rat",label:"大鼠"})]),_:1}),n(I,{label:"品系",class:"my-1",required:!0},{content:f(()=>[n(i,{name:"histopathology.strain"})]),_:1}),n(I,{label:"週齡",class:"my-1",required:!0},{content:f(()=>[n(i,{name:"histopathology.age"})]),_:1}),n(I,{label:"性別",class:"my-1",required:!0},{content:f(()=>[n(l,{id:"hfMale",name:"histopathology.gender","checked-value":"male",label:"公"}),n(l,{id:"hfFemale",name:"histopathology.gender","checked-value":"female",label:"母"})]),_:1}),n(I,{label:"檢體描述",class:"my-1",required:!0},{content:f(()=>[n(b,{name:"histopathology.specimenDescription",rows:"5",placeholder:"Specimen Description (group, clinical signs, label, treatment, fixation) 檢體描述 （分組、臨床症狀、標記、處理方式、固定液等等"})]),_:1}),wl,e("div",Bl,[n(d,{id:"terms",name:"histopathology.terms","checked-value":"agree"}),Rl])]),_:1})])])])])}}},El={class:"row mb-2"},Ll=e("label",{for:"sampleNumber",class:"col-sm-2 col-form-label red-star"},"病理實驗類型",-1),Ol={class:"col-sm-6 d-flex flex-column"},Fl=e("hr",null,null,-1),be=w({__name:"PathologicalExperiment",props:{values:{},visible:{type:Boolean,default:!1}},setup(r){const a=`pathologicalExperiment${ne()}`;return(t,l)=>{const i=s("AppCheckbox");return c(),y(O,null,[t.visible?(c(),y("div",{key:0,id:a},[e("div",El,[Ll,e("div",Ol,[n(i,{label:"血液/血清/尿液/組織均質液/其他體液",name:"pathologicalExpType",id:"pathologicalExpTypeBlood","checked-value":"Blood"}),n(i,{label:"組織切片",name:"pathologicalExpType",id:"pathologicalExpTypeTissueSection","checked-value":"TissueSection"}),n(i,{label:"組織染色",name:"pathologicalExpType",id:"pathologicalExpTypeIhc","checked-value":"ihc"}),n(i,{label:"玻片掃描",name:"pathologicalExpType",id:"pathologicalExpTypeSlideScanning","checked-value":"SlideScanning"}),n(i,{label:"病理切片判讀",name:"pathologicalExpType",id:"pathologicalExpTypeHistopathology","checked-value":"Histopathology"})])])])):S("",!0),t.values.pathologicalExpType!==void 0&&t.values.pathologicalExpType.includes("Blood")?(c(),T(Yt,{key:1,class:"mt-4",prefix:"blood"})):S("",!0),t.values.pathologicalExpType!==void 0&&t.values.pathologicalExpType.includes("TissueSection")?(c(),T(Uo,{key:2,class:"mt-4"})):S("",!0),t.values.pathologicalExpType!==void 0&&t.values.pathologicalExpType.includes("ihc")?(c(),T(ll,{key:3,class:"mt-3",prefix:"ihc"})):S("",!0),Fl,t.values.pathologicalExpType!==void 0&&t.values.pathologicalExpType.includes("SlideScanning")?(c(),T(Al,{key:4,class:"mt-3"})):S("",!0),t.values.pathologicalExpType!==void 0&&t.values.pathologicalExpType.includes("Histopathology")?(c(),T(Nl,{key:5,class:"mt-3"})):S("",!0)],64)}}}),Dl={class:"row mb-2"},Ml=e("legend",{class:"col-form-label col-sm-2 pt-0 red-star"},"物種",-1),Pl={class:"col-sm-10"},Hl={class:"row mb-1"},zl={class:"col-12 col-lg-10"},Ul={class:"row mb-2"},ql=e("label",{for:"contact",class:"col-sm-2 col-form-label red-star"},"申請者姓名",-1),Vl={class:"col-8"},Kl={class:"row mb-2"},Yl=e("label",{for:"contactTel",class:"col-sm-2 col-form-label red-star"},"申請者電話",-1),Gl={class:"col-8"},jl={class:"row mb-2"},Ql=e("label",{for:"contactEmail",class:"col-sm-2 col-form-label red-star"},"申請者信箱",-1),Xl={class:"col-8"},Wl={class:"row mb-2"},Jl=e("label",{for:"animalArrivalDate",class:"col-sm-2 col-form-label red-star"},"預計運送動物日期",-1),Zl={class:"col-8"},es={class:"row mb-2"},ns=e("label",{for:"arrivalTime",class:"col-sm-2 col-form-label red-star"},"預計運送動物時間",-1),ts={class:"col-sm-10"},os={class:"row mb-2"},as=e("label",{for:"location",class:"col-sm-2 col-form-label red-star"},"入室前所在地",-1),ls={class:"col-8"},ss={class:"row mb-2"},is=e("label",{for:"liaison",class:"col-sm-2 col-form-label red-star"},"TAC聯絡窗口/SD",-1),cs={class:"col-8"},rs={class:"row mb-2"},ds=e("label",{for:"iacucNo",class:"col-sm-2 col-form-label red-star"},"IACUC Number",-1),ms={class:"col-8"},ps={class:"row mb-2"},us=e("label",{for:"iacucDate",class:"col-sm-2 col-form-label red-star"},"IACUC 到期日",-1),hs={class:"col-8"},_s={class:"row mb-2"},bs=e("label",{for:"iacucDate",class:"col-sm-2 col-form-label red-star"},"所屬機構 IACUC 管理者 E- mail",-1),vs={class:"col-8"},fs={class:"row mb-2"},ys=e("label",{class:"col-sm-2 col-form-label red-star"},"IACUC Protocol",-1),gs={class:"col-sm-8"},$s=e("a",{href:"http://tmc.sinica.edu.tw/animal_checkin_c_01.html",target:"_blank"}," 官網 ",-1),ks={class:"row mb-2"},As=e("label",{class:"col-sm-2 col-form-label red-star"},"動物健康監測報告檔",-1),xs={class:"col-8"},Ss={class:"row mb-2"},Is=e("label",{for:"food",class:"col-sm-2 col-form-label red-star"},"飼料",-1),Cs={class:"col-sm-10"},Ts={class:"row mb-2"},ws=e("label",{for:"water",class:"col-sm-2 col-form-label red-star"},"飲水",-1),Bs={class:"col-sm-10"},Rs={class:"row mb-2"},Ns=e("label",{for:"animalNo",class:"col-sm-2 col-form-label red-star"},"動物編號",-1),Es={class:"col-sm-8"},Ls={class:"row mb-2"},Os=e("label",{for:"idMethod",class:"col-sm-2 col-form-label red-star"},"標示方式，是否已自行標示?",-1),Fs={class:"col-sm-10"},Ds=e("p",{class:"fst-italic fw-light"}," 需上傳辨識說明文件(Animal identification systems:) (辨識動物的方式如：耳號、趾號，並請上傳圖文檔 e.g. ear punching, toe notch) ",-1),Ms={class:"row mb-2"},Ps=e("label",{for:"note",class:"col-sm-2 col-form-label"},"Note",-1),Hs={class:"col-sm-8"},zs=e("p",{class:"fst-italic fw-light"}," (例如:於入室前接受手術、接種病毒載體、給予危險性物質等，請務必告知) ",-1),Us={class:"row mb-2"},qs=e("label",{for:"fgh",class:"col-sm-2 col-form-label red-star"},"動物單獨飼養",-1),Vs={class:"col-sm-8"},Ks=e("br",null,null,-1),Ys=e("p",{class:"fst-italic fw-light"}," 我同意當動物飼養於本設施期間，若有獨飼狀況，基於動物福祉，TMC/AIF有權進行處理 (請於動物入室時附上已滅菌之環境豐富化物料，若未附上TMC/AIF將主動添加並酌收費用。) ",-1),Gs={class:"row mb-2"},js=e("legend",{class:"col-form-label col-sm-2 pt-0 red-star"},"是否申請病理實驗",-1),Qs={class:"col-sm-10"},Xs=e("h5",{class:"mb-0"},"病理實驗",-1),Ws={key:0,class:"row mb-2"},Js={class:"row mb-2"},Zs=e("label",{for:"necropsy",class:"col-sm-2 col-form-label"},"是否申請動物剖檢",-1),ei={class:"col-sm-2"},Vi=w({__name:"LivingForm",props:{values:{}},async setup(r){let a,t;const{loggedInUser:l}=oe(pe()),i=r,b=[],_=([a,t]=ee(()=>ue()),a=await a,t(),a).map(p=>({id:p.id,name:p.title,value:p.id.toString()}));[a,t]=ee(()=>xe().then(p=>{p.data.forEach(v=>{b.push({id:v.id,name:v.name,value:v.id.toString()})})})),await a,t();const h=N(()=>i.values.formSource==="new"),g=N(()=>{var p;return i.values.contact?i.values.contact:(p=l.value)==null?void 0:p.title}),k=N(()=>{var p;return i.values.contactTel?i.values.contactTel:(p=l.value)==null?void 0:p.phone}),$=N(()=>{var p;return i.values.contactEmail?i.values.contactEmail:(p=l.value)==null?void 0:p.username});return(p,v)=>{const A=s("AppRadio"),C=s("AppSelect"),x=s("AppDownloadFileInput"),u=s("AppFileInput"),D=s("AppCard"),P=s("AppCheckbox");return c(),y(O,null,[e("fieldset",Dl,[Ml,e("div",Pl,[n(A,{id:"animalTypeMice",name:"animalType","checked-value":o(E).MICE,label:o(ie)(o(E).MICE)},null,8,["checked-value","label"]),n(A,{id:"animalTypeRat",name:"animalType","checked-value":o(E).RAT,label:o(ie)(o(E).RAT)},null,8,["checked-value","label"])])]),e("div",Hl,[e("div",zl,[n(ln,{id:"deliveryFormBlock",class:"my-1",isNew:h.value,animalType:p.values.animalType},null,8,["isNew","animalType"])])]),e("div",Ul,[ql,e("div",Vl,[n(F,{name:"contact",value:g.value},null,8,["value"])])]),e("div",Kl,[Yl,e("div",Gl,[n(F,{name:"contactTel",value:k.value},null,8,["value"])])]),e("div",jl,[Ql,e("div",Xl,[n(F,{type:"email",name:"contactEmail",value:$.value},null,8,["value"])])]),e("div",Wl,[Jl,e("div",Zl,[n(F,{type:"date",name:"animalArrivalDate",min:o($e)(o(ke)().toString())},null,8,["min"])])]),B(e("div",es,[ns,e("div",ts,[n(A,{id:"animalArrivalTimeMorning",name:"animalArrivalTime","checked-value":"morning",label:"上午9:00~12:00"}),n(A,{id:"animalArrivalTimeAfternoon",name:"animalArrivalTime","checked-value":"afternoon",label:"下午13:30~16:30"})])],512),[[R,h.value]]),e("div",os,[as,e("div",ls,[n(C,{name:"mouseSource",options:b})])]),e("div",ss,[is,e("div",cs,[n(C,{id:"liaison",name:"liaison",options:o(_),"default-option":!0},null,8,["options"])])]),e("div",rs,[ds,e("div",ms,[n(F,{type:"text",name:"iacucNo"})])]),e("div",ps,[us,e("div",hs,[n(F,{type:"date",name:"iacucDate"})])]),e("div",_s,[bs,e("div",vs,[n(F,{type:"email",name:"iacucEmail"})])]),e("div",fs,[ys,e("div",gs,[n(x,{name:"iacucProtocol"}),z(" 細節說明見"),$s])]),e("div",ks,[As,e("div",xs,[n(F,{type:"file",name:"healthMonitoringReport"})])]),e("div",Ss,[Is,e("div",Cs,[n(A,{name:"foodType",id:"foodTypeNormal","checked-value":"normal",label:"一般飼料"}),n(A,{name:"foodType",id:"foodTypeSpecial","checked-value":"special",label:"特殊飼料"}),n(A,{name:"foodType",id:"foodTypeRestricted","checked-value":"restricted",label:"限制飲食"}),["special","restricted"].includes(p.values.foodType)?(c(),T(F,{key:0,name:"foodTypeDescription",placeholder:"請說明"})):S("",!0)])]),e("div",Ts,[ws,e("div",Bs,[n(A,{name:"waterType",id:"waterTypeNormal","checked-value":"normal",label:"一般飲水"}),n(A,{name:"waterType",id:"waterTypeSpecial","checked-value":"special",label:"特殊飲水"}),n(A,{name:"waterType",id:"waterTypeRestricted","checked-value":"restricted",label:"限制飲水"}),["special","restricted"].includes(p.values.waterType)?(c(),T(F,{key:0,name:"waterTypeDescription",placeholder:"請說明"})):S("",!0)])]),e("div",Rs,[Ns,e("div",Es,[n(F,{type:"text",name:"animalNo"})])]),B(e("div",Ls,[Os,e("div",Fs,[n(A,{name:"identificationMethod",id:"identificationMethodY","checked-value":"Y",label:"是"}),B(e("div",null,[n(u,{type:"file",name:"imf"}),Ds],512),[[R,p.values.identificationMethod==="Y"]]),n(A,{name:"identificationMethod",id:"identificationMethodN","checked-value":"N",label:"否，請確認是否已申請動物房技術支援(打耳號)"})])],512),[[R,h.value]]),e("div",Ms,[Ps,e("div",Hs,[n(F,{type:"text",name:"note"}),zs])]),e("div",Us,[qs,e("div",Vs,[n(A,{name:"alone",id:"aloneY","checked-value":"1",label:"是"}),n(A,{name:"alone",id:"aloneN","checked-value":"2",label:"否"}),Ks,Ys])]),e("fieldset",Gs,[js,e("div",Qs,[n(A,{name:"pathologicalExp",id:"pathologicalExpY","checked-value":"Y",label:"是"}),n(A,{name:"pathologicalExp",id:"pathologicalExpN","checked-value":"N",label:"否"})])]),p.values.showMedicationInfoFrom||p.values.showCellLineInfoFrom?(c(),T(Gn,{key:0,showMedicationInfoFrom:p.values.showMedicationInfoFrom,showCellLineInfoFrom:p.values.showCellLineInfoFrom},null,8,["showMedicationInfoFrom","showCellLineInfoFrom"])):S("",!0),p.values.pathologicalExp==="Y"?(c(),T(D,{key:1,class:"mt-2"},{header:f(()=>[Xs]),body:f(()=>[n(be,{values:p.values,visible:p.values.pathologicalExp==="Y"},null,8,["values","visible"]),p.values.necropsyApplication==="Y"?(c(),y("div",Ws,[n(ht,{class:"row mb-2",prefix:"necropsy"})])):S("",!0)]),_:1})):S("",!0),B(e("div",Js,[Zs,e("div",ei,[n(P,{name:"necropsyApplication","checked-value":"Y",id:"necropsy"})])],512),[[R,p.values.formSource!=="new"]])],64)}}}),ni={class:"row mb-3"},ti=e("label",{for:"contact",class:"col-sm-2 col-form-label red-star"},"申請者姓名",-1),oi={class:"col-8"},ai={class:"row mb-3"},li=e("label",{for:"contactTel",class:"col-sm-2 col-form-label red-star"},"申請者電話",-1),si={class:"col-8"},ii={class:"row mb-3"},ci=e("label",{for:"contactEmail",class:"col-sm-2 col-form-label red-star"},"申請者信箱",-1),ri={class:"col-8"},di={class:"row mb-3"},mi=e("label",{for:"scheduledDeliveryDate",class:"col-sm-2 col-form-label red-star"},"約定的送件日期",-1),pi={class:"col-8"},ui={class:"row mb-3"},hi=e("label",{for:"liaison",class:"col-sm-2 col-form-label red-star"},"TAC聯絡窗口/SD",-1),_i={class:"col-8"},bi={class:"row mb-3"},vi=e("legend",{class:"col-form-label col-sm-2 pt-0 red-star"},"實驗類型",-1),fi={class:"col-sm-10"},yi={key:0,id:"radiologyRelated"},gi={class:"row mb-3"},$i=e("label",{for:"sampleNumber",class:"col-sm-2 col-form-label red-star"},"檢體數量",-1),ki={class:"col-8"},Ai={class:"row mb-3"},xi=e("label",{for:"sampleId",class:"col-sm-2 col-form-label red-star"},"檢體ID",-1),Si={class:"col-8"},Ii={class:"row mb-3"},Ci=e("label",{for:"sampleType",class:"col-sm-2 col-form-label red-star"},"檢體類型",-1),Ti={class:"col-8"},wi={class:"row mb-3"},Bi=e("label",{for:"radiologyNote",class:"col-sm-2 col-form-label"},"備註",-1),Ri={class:"col-8"},Ni={key:1,class:"row mb-3"},Ei=e("label",{for:"liaison",class:"col-sm-2 col-form-label red-star"},"上傳檢體編號表",-1),Li={class:"col-8"},Oi=e("i",{class:"bi bi-cloud-download"},null,-1),Fi=[Oi],Di=w({__name:"NonLivingForm",props:{values:{}},async setup(r){let a,t;const l=r,{loggedInUser:i}=oe(pe()),d=([a,t]=ee(()=>ue()),a=await a,t(),a).map(p=>({id:p.id,name:p.title,value:p.id.toString()})),_=p=>l.values.experimentType!==void 0&&l.values.experimentType.includes(p),h=N(()=>{var p;return l.values.contact?l.values.contact:(p=i.value)==null?void 0:p.title}),g=N(()=>{var p;return l.values.contactTel?l.values.contactTel:(p=i.value)==null?void 0:p.phone}),k=N(()=>{var p;return l.values.contactEmail?l.values.contactEmail:(p=i.value)==null?void 0:p.username}),$=()=>{let v="data:text/csv;charset=utf-8,"+[["No.","Sample ID (只可填入14字元，包括空格及標點符號)"],["",""]].map(x=>x.join(",")).join(`
`);var A=encodeURI(v),C=document.createElement("a");C.setAttribute("href",A),C.setAttribute("download","sample.csv"),document.body.appendChild(C),C.click()};return(p,v)=>{const A=s("AppInput"),C=s("AppSelect"),x=s("AppCheckbox"),u=s("AppRadio"),D=s("AppRadioInput"),P=s("AppDownloadFileInput");return c(),y(O,null,[e("div",ni,[ti,e("div",oi,[n(A,{name:"contact",value:h.value},null,8,["value"])])]),e("div",ai,[li,e("div",si,[n(A,{name:"contactTel",value:g.value},null,8,["value"])])]),e("div",ii,[ci,e("div",ri,[n(A,{type:"email",name:"contactEmail",value:k.value},null,8,["value"])])]),e("div",di,[mi,e("div",pi,[n(A,{type:"date",name:"scheduledDeliveryDate"})])]),e("div",ui,[hi,e("div",_i,[n(C,{id:"liaison",name:"liaison",options:o(d),"default-option":!0},null,8,["options"])])]),e("fieldset",bi,[vi,e("div",fi,[n(x,{label:"病理學",name:"experimentType",id:"experimentTypePathology","checked-value":"pathology"}),n(x,{label:"影像學",name:"experimentType",id:"experimentTypeRadiology","checked-value":"radiology"})])]),_("radiology")?(c(),y("div",yi,[e("div",gi,[$i,e("div",ki,[n(A,{type:"number",name:"sampleNumber"})])]),e("div",Ai,[xi,e("div",Si,[n(A,{type:"text",name:"sampleId"})])]),e("div",Ii,[Ci,e("div",Ti,[n(u,{name:"sampleType",id:"sampleTypeAnimal",label:"動物","checked-value":"animal"}),n(D,{label:"其他",id:"otherSampleType","radio-name":"sampleType","checked-value":"other","input-name":"otherSampleTypeInput"})])]),e("div",wi,[Bi,e("div",Ri,[n(A,{type:"text",name:"radiologyNote"})])])])):S("",!0),_("pathology")?(c(),y("div",Ni,[Ei,e("div",Li,[n(P,{name:"uploadedSampleSheetFile",schema:o(Ce)},null,8,["schema"]),e("div",null,[z(" 檢體編號表範本"),e("a",{href:"#",onClick:$},Fi)])])])):S("",!0),n(be,{values:p.values,visible:_("pathology")},null,8,["values","visible"])],64)}}}),Mi=e("h5",{class:"mb-0"},"填寫非活體資料",-1),Pi=e("div",{class:"mb-2 d-flex justify-content-between flex-row-reverse mt-2"},[e("button",{type:"submit",class:"btn btn-primary"},"下一步")],-1),Ki=w({__name:"NonLivingFormEditingZone",emits:["saveNonLivingForm"],async setup(r,{emit:a}){let t,l;const i=a,b=ce();let d={contact:"",contactTel:"",contactEmail:"",scheduledDeliveryDate:""};[t,l]=ee(()=>b.fetchNonLivingForms().then($=>{$&&(d=$)})),await t,l();const{handleSubmit:_,values:h,errors:g}=se({initialValues:d,validationSchema:Te});Ae("errors",g);const k=_($=>{i("saveNonLivingForm",$)});return($,p)=>{const v=s("AppCard");return c(),y("form",{id:"nonLivingFormEditingZone",onSubmit:p[0]||(p[0]=(...A)=>o(k)&&o(k)(...A)),class:"mt-4"},[n(v,{class:"mt-4"},{header:f(()=>[Mi]),body:f(()=>[n(Di,{values:o(h)},null,8,["values"])]),_:1}),Pi],32)}}});export{we as S,I as _,Vi as a,qi as b,Ki as c,ie as g};
