import{d as C,r as u,e as B,h as b,o as l,c as m,H as S,D as I,j as n,w as a,G as y,a as e,Z as M,l as k,F as g,C as N,t as V}from"./index-69085551.js";import{L as F}from"./LayoutManagement-c85c7f32.js";import{L as A}from"./LocationService-1078858b.js";import"./LocationDbSimulator-542bcceb.js";const D=e("h4",{class:"fw-bold py-3 mb-4"},"入室前所在地管理",-1),j={class:"mb-2"},q=e("label",{for:"name",class:"form-label"},"入室前所在地名稱",-1),E={class:"d-flex flex-row-reverse"},G={class:"table display",id:"instrument"},H=e("thead",null,[e("tr",null,[e("th",null,"狀態"),e("th",null,"Name"),e("th")])],-1),T={class:"form-check form-switch"},Z=["checked","onInput"],$=e("i",{class:"bi bi-pencil-square"},null,-1),P=C({__name:"LocationManagement",props:{message:{},success:{type:Boolean}},setup(v){const d=v,_=A.getInstance(),p=u(d.success||!0),r=u(d.message||""),h=u([]),{handleSubmit:w}=B({initialValues:{name:""}}),f=w(async o=>{try{const t=await _.filterLocations(o.name);h.value=t}catch(t){p.value=!1,r.value=t.message}}),L=async(o,t)=>{const i=o.target;try{await _.enableLocation(t,i.checked)}catch{}};return(o,t)=>{const i=b("AppMessage"),c=b("router-link");return l(),m(g,null,[D,r.value?(l(),S(i,{key:0,message:r.value,success:p.value},null,8,["message","success"])):I("",!0),n(F,null,{addButtonSm:a(()=>[n(c,{to:"/location/create",class:"form-control btn btn-secondary"},{default:a(()=>[y("新增入室前所在地")]),_:1})]),addButton:a(()=>[n(c,{to:"/location/create",class:"form-control btn btn-secondary"},{default:a(()=>[y("新增入室前所在地")]),_:1})]),filterForm:a(()=>[e("form",null,[e("div",j,[q,n(M,{id:"name",name:"name"})]),e("div",E,[e("button",{type:"button",class:"btn btn-primary",onClick:t[0]||(t[0]=(...s)=>k(f)&&k(f)(...s))},"Search")])])]),table:a(()=>[e("table",G,[H,e("tbody",null,[(l(!0),m(g,null,N(h.value,s=>(l(),m("tr",{key:s.id},[e("td",null,[e("div",T,[e("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckChecked",checked:s.status,onInput:x=>L(x,s.id)},null,40,Z)])]),e("td",null,V(s.name),1),e("td",null,[n(c,{to:{name:"LocationModification",params:{locationId:s.id}}},{default:a(()=>[$]),_:2},1032,["to"])])]))),128))])])]),_:1})],64)}}});export{P as default};
