import{r as l,e as h,o as a,f as o,B as T,x as V,h as r,i as s,F as p,g as e,z as y,j as g,a1 as D,s as x,t as n,k,H as F,a4 as S,a5 as C,a6 as I}from"./index-82a1c74a.js";import{L}from"./LayoutManagement-d4b44078.js";const A=e("h4",{class:"fw-bold py-3 mb-4"},"儀器管理",-1),O={class:"mb-2"},U=e("label",{for:"labType",class:"form-label"},"單位",-1),j=e("option",{value:""},"請選擇",-1),q=["value"],z={class:"mb-2"},E=e("label",{for:"name",class:"form-label"},"名稱",-1),H={class:"table display",id:"instrument"},G=e("thead",null,[e("tr",null,[e("th",null,"單位"),e("th",null,"NO."),e("th",null,"Name"),e("th",null,"Official service begin date"),e("th",null,"Function description"),e("th")])],-1),J={class:"d-inline-block text-truncate",style:{"max-width":"100px"}},K=e("i",{class:"bi bi-pencil-square"},null,-1),R={__name:"InstrumentManagement",props:["message","success"],setup(B){const _=B,u=l(""),i=l(""),d=l(_.message||""),f=l(_.success||!0),b=l([]),M=C();async function w(){try{b.value=await I(u.value,i.value)}catch(v){f.value=!1,d.value=v.message}}return(v,c)=>{const N=h("AppMessage"),m=h("router-link");return a(),o(p,null,[A,d.value?(a(),T(N,{key:0,message:d.value,success:f.value},null,8,["message","success"])):V("",!0),r(L,null,{addButtonSm:s(()=>[r(m,{to:"/instrument/create",class:"form-control btn btn-secondary"},{default:s(()=>[y("新增儀器")]),_:1})]),addButton:s(()=>[r(m,{to:"/instrument/create",class:"form-control btn btn-secondary"},{default:s(()=>[y("新增儀器")]),_:1})]),filterForm:s(()=>[e("form",null,[e("div",O,[U,g(e("select",{class:"form-select",id:"labType","onUpdate:modelValue":c[0]||(c[0]=t=>u.value=t)},[j,(a(!0),o(p,null,x(k(M),t=>(a(),o("option",{key:t.id,value:t.id},n(t.name),9,q))),128))],512),[[D,u.value]])]),e("div",z,[E,g(e("input",{type:"text",class:"form-control","onUpdate:modelValue":c[1]||(c[1]=t=>i.value=t)},null,512),[[F,i.value]])]),e("div",{class:"d-flex flex-row-reverse"},[e("button",{type:"button",class:"btn btn-primary",onClick:w},"Search")])])]),table:s(()=>[e("table",H,[G,e("tbody",null,[(a(!0),o(p,null,x(b.value,t=>(a(),o("tr",{key:t.id},[e("td",null,n(t.labType),1),e("td",null,n(t.no),1),e("td",null,n(t.name),1),e("td",null,n(k(S)(t.officialServiceBeginDate)),1),e("td",null,[e("span",J,n(t.functionDescription),1)]),e("td",null,[r(m,{to:{name:"InstrumentModification",params:{instrumentId:t.id}}},{default:s(()=>[K]),_:2},1032,["to"])])]))),128))])])]),_:1})],64)}}};export{R as default};
